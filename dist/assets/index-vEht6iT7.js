(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function m0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kd={exports:{}},da={},Jd={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ms=Symbol.for("react.element"),g0=Symbol.for("react.portal"),v0=Symbol.for("react.fragment"),y0=Symbol.for("react.strict_mode"),x0=Symbol.for("react.profiler"),w0=Symbol.for("react.provider"),b0=Symbol.for("react.context"),k0=Symbol.for("react.forward_ref"),_0=Symbol.for("react.suspense"),S0=Symbol.for("react.memo"),j0=Symbol.for("react.lazy"),Fc=Symbol.iterator;function N0(e){return e===null||typeof e!="object"?null:(e=Fc&&e[Fc]||e["@@iterator"],typeof e=="function"?e:null)}var Qd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yd=Object.assign,Xd={};function Tn(e,t,r){this.props=e,this.context=t,this.refs=Xd,this.updater=r||Qd}Tn.prototype.isReactComponent={};Tn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zd(){}Zd.prototype=Tn.prototype;function El(e,t,r){this.props=e,this.context=t,this.refs=Xd,this.updater=r||Qd}var Cl=El.prototype=new Zd;Cl.constructor=El;Yd(Cl,Tn.prototype);Cl.isPureReactComponent=!0;var Bc=Array.isArray,eh=Object.prototype.hasOwnProperty,zl={current:null},th={key:!0,ref:!0,__self:!0,__source:!0};function rh(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)eh.call(t,n)&&!th.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ms,type:e,key:i,ref:a,props:s,_owner:zl.current}}function E0(e,t){return{$$typeof:Ms,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ms}function C0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Vc=/\/+/g;function Ua(e,t){return typeof e=="object"&&e!==null&&e.key!=null?C0(""+e.key):t.toString(36)}function xi(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ms:case g0:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Ua(a,0):n,Bc(s)?(r="",e!=null&&(r=e.replace(Vc,"$&/")+"/"),xi(s,t,r,"",function(u){return u})):s!=null&&(Tl(s)&&(s=E0(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Vc,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Bc(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Ua(i,l);a+=xi(i,t,r,c,s)}else if(c=N0(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Ua(i,l++),a+=xi(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ks(e,t,r){if(e==null)return e;var n=[],s=0;return xi(e,n,"","",function(i){return t.call(r,i,s++)}),n}function z0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ie={current:null},wi={transition:null},T0={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:wi,ReactCurrentOwner:zl};function nh(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:Ks,forEach:function(e,t,r){Ks(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ks(e,function(){t++}),t},toArray:function(e){return Ks(e,function(t){return t})||[]},only:function(e){if(!Tl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=Tn;q.Fragment=v0;q.Profiler=x0;q.PureComponent=El;q.StrictMode=y0;q.Suspense=_0;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T0;q.act=nh;q.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Yd({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=zl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)eh.call(t,c)&&!th.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ms,type:e.type,key:s,ref:i,props:n,_owner:a}};q.createContext=function(e){return e={$$typeof:b0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:w0,_context:e},e.Consumer=e};q.createElement=rh;q.createFactory=function(e){var t=rh.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:k0,render:e}};q.isValidElement=Tl;q.lazy=function(e){return{$$typeof:j0,_payload:{_status:-1,_result:e},_init:z0}};q.memo=function(e,t){return{$$typeof:S0,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=wi.transition;wi.transition={};try{e()}finally{wi.transition=t}};q.unstable_act=nh;q.useCallback=function(e,t){return Ie.current.useCallback(e,t)};q.useContext=function(e){return Ie.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return Ie.current.useDeferredValue(e)};q.useEffect=function(e,t){return Ie.current.useEffect(e,t)};q.useId=function(){return Ie.current.useId()};q.useImperativeHandle=function(e,t,r){return Ie.current.useImperativeHandle(e,t,r)};q.useInsertionEffect=function(e,t){return Ie.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return Ie.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return Ie.current.useMemo(e,t)};q.useReducer=function(e,t,r){return Ie.current.useReducer(e,t,r)};q.useRef=function(e){return Ie.current.useRef(e)};q.useState=function(e){return Ie.current.useState(e)};q.useSyncExternalStore=function(e,t,r){return Ie.current.useSyncExternalStore(e,t,r)};q.useTransition=function(){return Ie.current.useTransition()};q.version="18.3.1";Jd.exports=q;var z=Jd.exports;const R0=m0(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0=z,O0=Symbol.for("react.element"),I0=Symbol.for("react.fragment"),P0=Object.prototype.hasOwnProperty,L0=A0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D0={key:!0,ref:!0,__self:!0,__source:!0};function sh(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)P0.call(t,n)&&!D0.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:O0,type:e,key:i,ref:a,props:s,_owner:L0.current}}da.Fragment=I0;da.jsx=sh;da.jsxs=sh;Kd.exports=da;var o=Kd.exports,ko={},ih={exports:{}},Ye={},ah={exports:{}},oh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,M){var V=A.length;A.push(M);e:for(;0<V;){var J=V-1>>>1,Z=A[J];if(0<s(Z,M))A[J]=M,A[V]=Z,V=J;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var M=A[0],V=A.pop();if(V!==M){A[0]=V;e:for(var J=0,Z=A.length,bt=Z>>>1;J<bt;){var et=2*(J+1)-1,ye=A[et],Ve=et+1,Le=A[Ve];if(0>s(ye,V))Ve<Z&&0>s(Le,ye)?(A[J]=Le,A[Ve]=V,J=Ve):(A[J]=ye,A[et]=V,J=et);else if(Ve<Z&&0>s(Le,V))A[J]=Le,A[Ve]=V,J=Ve;else break e}}return M}function s(A,M){var V=A.sortIndex-M.sortIndex;return V!==0?V:A.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,g=null,f=3,m=!1,x=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(A){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=A)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function k(A){if(w=!1,v(A),!x)if(r(c)!==null)x=!0,xt(_);else{var M=r(u);M!==null&&wt(k,M.startTime-A)}}function _(A,M){x=!1,w&&(w=!1,p(T),T=-1),m=!0;var V=f;try{for(v(M),g=r(c);g!==null&&(!(g.expirationTime>M)||A&&!he());){var J=g.callback;if(typeof J=="function"){g.callback=null,f=g.priorityLevel;var Z=J(g.expirationTime<=M);M=e.unstable_now(),typeof Z=="function"?g.callback=Z:g===r(c)&&n(c),v(M)}else n(c);g=r(c)}if(g!==null)var bt=!0;else{var et=r(u);et!==null&&wt(k,et.startTime-M),bt=!1}return bt}finally{g=null,f=V,m=!1}}var S=!1,j=null,T=-1,F=5,U=-1;function he(){return!(e.unstable_now()-U<F)}function Ze(){if(j!==null){var A=e.unstable_now();U=A;var M=!0;try{M=j(!0,A)}finally{M?W():(S=!1,j=null)}}else S=!1}var W;if(typeof h=="function")W=function(){h(Ze)};else if(typeof MessageChannel<"u"){var zt=new MessageChannel,qt=zt.port2;zt.port1.onmessage=Ze,W=function(){qt.postMessage(null)}}else W=function(){b(Ze,0)};function xt(A){j=A,S||(S=!0,W())}function wt(A,M){T=b(function(){A(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,xt(_))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var V=f;f=M;try{return A()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,M){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var V=f;f=A;try{return M()}finally{f=V}},e.unstable_scheduleCallback=function(A,M,V){var J=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?J+V:J):V=J,A){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=V+Z,A={id:d++,callback:M,priorityLevel:A,startTime:V,expirationTime:Z,sortIndex:-1},V>J?(A.sortIndex=V,t(u,A),r(c)===null&&A===r(u)&&(w?(p(T),T=-1):w=!0,wt(k,V-J))):(A.sortIndex=Z,t(c,A),x||m||(x=!0,xt(_))),A},e.unstable_shouldYield=he,e.unstable_wrapCallback=function(A){var M=f;return function(){var V=f;f=M;try{return A.apply(this,arguments)}finally{f=V}}}})(oh);ah.exports=oh;var $0=ah.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0=z,Qe=$0;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lh=new Set,hs={};function Mr(e,t){_n(e,t),_n(e+"Capture",t)}function _n(e,t){for(hs[e]=t,e=0;e<t.length;e++)lh.add(t[e])}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_o=Object.prototype.hasOwnProperty,U0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qc={},Hc={};function F0(e){return _o.call(Hc,e)?!0:_o.call(qc,e)?!1:U0.test(e)?Hc[e]=!0:(qc[e]=!0,!1)}function B0(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function V0(e,t,r,n){if(t===null||typeof t>"u"||B0(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pe(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new Pe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new Pe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new Pe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new Pe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new Pe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new Pe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new Pe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new Pe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new Pe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rl=/[\-:]([a-z])/g;function Al(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rl,Al);je[t]=new Pe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rl,Al);je[t]=new Pe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rl,Al);je[t]=new Pe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new Pe(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new Pe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ol(e,t,r,n){var s=je.hasOwnProperty(t)?je[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(V0(t,r,s,n)&&(r=null),n||s===null?F0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Bt=M0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Js=Symbol.for("react.element"),tn=Symbol.for("react.portal"),rn=Symbol.for("react.fragment"),Il=Symbol.for("react.strict_mode"),So=Symbol.for("react.profiler"),ch=Symbol.for("react.provider"),uh=Symbol.for("react.context"),Pl=Symbol.for("react.forward_ref"),jo=Symbol.for("react.suspense"),No=Symbol.for("react.suspense_list"),Ll=Symbol.for("react.memo"),Kt=Symbol.for("react.lazy"),dh=Symbol.for("react.offscreen"),Gc=Symbol.iterator;function Dn(e){return e===null||typeof e!="object"?null:(e=Gc&&e[Gc]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,Fa;function Wn(e){if(Fa===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Fa=t&&t[1]||""}return`
`+Fa+e}var Ba=!1;function Va(e,t){if(!e||Ba)return"";Ba=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Ba=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Wn(e):""}function q0(e){switch(e.tag){case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 2:case 15:return e=Va(e.type,!1),e;case 11:return e=Va(e.type.render,!1),e;case 1:return e=Va(e.type,!0),e;default:return""}}function Eo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rn:return"Fragment";case tn:return"Portal";case So:return"Profiler";case Il:return"StrictMode";case jo:return"Suspense";case No:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uh:return(e.displayName||"Context")+".Consumer";case ch:return(e._context.displayName||"Context")+".Provider";case Pl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ll:return t=e.displayName||null,t!==null?t:Eo(e.type)||"Memo";case Kt:t=e._payload,e=e._init;try{return Eo(e(t))}catch{}}return null}function H0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eo(t);case 8:return t===Il?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function G0(e){var t=hh(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qs(e){e._valueTracker||(e._valueTracker=G0(e))}function fh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=hh(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Co(e,t){var r=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Wc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=pr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ph(e,t){t=t.checked,t!=null&&Ol(e,"checked",t,!1)}function zo(e,t){ph(e,t);var r=pr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?To(e,t.type,r):t.hasOwnProperty("defaultValue")&&To(e,t.type,pr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function To(e,t,r){(t!=="number"||Pi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Kn=Array.isArray;function gn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+pr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ro(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(E(92));if(Kn(r)){if(1<r.length)throw Error(E(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:pr(r)}}function mh(e,t){var r=pr(t.value),n=pr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Qc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ao(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ys,vh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ys=Ys||document.createElement("div"),Ys.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ys.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W0=["Webkit","ms","Moz","O"];Object.keys(es).forEach(function(e){W0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),es[t]=es[e]})});function yh(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||es.hasOwnProperty(e)&&es[e]?(""+t).trim():t+"px"}function xh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=yh(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var K0=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oo(e,t){if(t){if(K0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function Io(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Po=null;function Dl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lo=null,vn=null,yn=null;function Yc(e){if(e=Bs(e)){if(typeof Lo!="function")throw Error(E(280));var t=e.stateNode;t&&(t=ga(t),Lo(e.stateNode,e.type,t))}}function wh(e){vn?yn?yn.push(e):yn=[e]:vn=e}function bh(){if(vn){var e=vn,t=yn;if(yn=vn=null,Yc(e),t)for(e=0;e<t.length;e++)Yc(t[e])}}function kh(e,t){return e(t)}function _h(){}var qa=!1;function Sh(e,t,r){if(qa)return e(t,r);qa=!0;try{return kh(e,t,r)}finally{qa=!1,(vn!==null||yn!==null)&&(_h(),bh())}}function ps(e,t){var r=e.stateNode;if(r===null)return null;var n=ga(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(E(231,t,typeof r));return r}var Do=!1;if($t)try{var $n={};Object.defineProperty($n,"passive",{get:function(){Do=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{Do=!1}function J0(e,t,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ts=!1,Li=null,Di=!1,$o=null,Q0={onError:function(e){ts=!0,Li=e}};function Y0(e,t,r,n,s,i,a,l,c){ts=!1,Li=null,J0.apply(Q0,arguments)}function X0(e,t,r,n,s,i,a,l,c){if(Y0.apply(this,arguments),ts){if(ts){var u=Li;ts=!1,Li=null}else throw Error(E(198));Di||(Di=!0,$o=u)}}function Ur(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function jh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xc(e){if(Ur(e)!==e)throw Error(E(188))}function Z0(e){var t=e.alternate;if(!t){if(t=Ur(e),t===null)throw Error(E(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Xc(s),e;if(i===n)return Xc(s),t;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?e:t}function Nh(e){return e=Z0(e),e!==null?Eh(e):null}function Eh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Eh(e);if(t!==null)return t;e=e.sibling}return null}var Ch=Qe.unstable_scheduleCallback,Zc=Qe.unstable_cancelCallback,em=Qe.unstable_shouldYield,tm=Qe.unstable_requestPaint,de=Qe.unstable_now,rm=Qe.unstable_getCurrentPriorityLevel,$l=Qe.unstable_ImmediatePriority,zh=Qe.unstable_UserBlockingPriority,$i=Qe.unstable_NormalPriority,nm=Qe.unstable_LowPriority,Th=Qe.unstable_IdlePriority,ha=null,Et=null;function sm(e){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(ha,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:om,im=Math.log,am=Math.LN2;function om(e){return e>>>=0,e===0?32:31-(im(e)/am|0)|0}var Xs=64,Zs=4194304;function Jn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Jn(l):(i&=a,i!==0&&(n=Jn(i)))}else a=r&~s,a!==0?n=Jn(a):i!==0&&(n=Jn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-gt(t),s=1<<r,n|=e[r],t&=~s;return n}function lm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-gt(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=lm(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Mo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rh(){var e=Xs;return Xs<<=1,!(Xs&4194240)&&(Xs=64),e}function Ha(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Us(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=r}function um(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-gt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Ml(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-gt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var K=0;function Ah(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Oh,Ul,Ih,Ph,Lh,Uo=!1,ei=[],sr=null,ir=null,ar=null,ms=new Map,gs=new Map,Xt=[],dm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eu(e,t){switch(e){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(t.pointerId)}}function Mn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Bs(t),t!==null&&Ul(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function hm(e,t,r,n,s){switch(t){case"focusin":return sr=Mn(sr,e,t,r,n,s),!0;case"dragenter":return ir=Mn(ir,e,t,r,n,s),!0;case"mouseover":return ar=Mn(ar,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ms.set(i,Mn(ms.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,gs.set(i,Mn(gs.get(i)||null,e,t,r,n,s)),!0}return!1}function Dh(e){var t=Er(e.target);if(t!==null){var r=Ur(t);if(r!==null){if(t=r.tag,t===13){if(t=jh(r),t!==null){e.blockedOn=t,Lh(e.priority,function(){Ih(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Fo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Po=n,r.target.dispatchEvent(n),Po=null}else return t=Bs(r),t!==null&&Ul(t),e.blockedOn=r,!1;t.shift()}return!0}function tu(e,t,r){bi(e)&&r.delete(t)}function fm(){Uo=!1,sr!==null&&bi(sr)&&(sr=null),ir!==null&&bi(ir)&&(ir=null),ar!==null&&bi(ar)&&(ar=null),ms.forEach(tu),gs.forEach(tu)}function Un(e,t){e.blockedOn===t&&(e.blockedOn=null,Uo||(Uo=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,fm)))}function vs(e){function t(s){return Un(s,e)}if(0<ei.length){Un(ei[0],e);for(var r=1;r<ei.length;r++){var n=ei[r];n.blockedOn===e&&(n.blockedOn=null)}}for(sr!==null&&Un(sr,e),ir!==null&&Un(ir,e),ar!==null&&Un(ar,e),ms.forEach(t),gs.forEach(t),r=0;r<Xt.length;r++)n=Xt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xt.length&&(r=Xt[0],r.blockedOn===null);)Dh(r),r.blockedOn===null&&Xt.shift()}var xn=Bt.ReactCurrentBatchConfig,Ui=!0;function pm(e,t,r,n){var s=K,i=xn.transition;xn.transition=null;try{K=1,Fl(e,t,r,n)}finally{K=s,xn.transition=i}}function mm(e,t,r,n){var s=K,i=xn.transition;xn.transition=null;try{K=4,Fl(e,t,r,n)}finally{K=s,xn.transition=i}}function Fl(e,t,r,n){if(Ui){var s=Fo(e,t,r,n);if(s===null)to(e,t,n,Fi,r),eu(e,n);else if(hm(s,e,t,r,n))n.stopPropagation();else if(eu(e,n),t&4&&-1<dm.indexOf(e)){for(;s!==null;){var i=Bs(s);if(i!==null&&Oh(i),i=Fo(e,t,r,n),i===null&&to(e,t,n,Fi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else to(e,t,n,null,r)}}var Fi=null;function Fo(e,t,r,n){if(Fi=null,e=Dl(n),e=Er(e),e!==null)if(t=Ur(e),t===null)e=null;else if(r=t.tag,r===13){if(e=jh(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fi=e,null}function $h(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rm()){case $l:return 1;case zh:return 4;case $i:case nm:return 16;case Th:return 536870912;default:return 16}default:return 16}}var tr=null,Bl=null,ki=null;function Mh(){if(ki)return ki;var e,t=Bl,r=t.length,n,s="value"in tr?tr.value:tr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return ki=s.slice(e,1<n?1-n:void 0)}function _i(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ti(){return!0}function ru(){return!1}function Xe(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ti:ru,this.isPropagationStopped=ru,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),t}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vl=Xe(Rn),Fs=oe({},Rn,{view:0,detail:0}),gm=Xe(Fs),Ga,Wa,Fn,fa=oe({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ql,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fn&&(Fn&&e.type==="mousemove"?(Ga=e.screenX-Fn.screenX,Wa=e.screenY-Fn.screenY):Wa=Ga=0,Fn=e),Ga)},movementY:function(e){return"movementY"in e?e.movementY:Wa}}),nu=Xe(fa),vm=oe({},fa,{dataTransfer:0}),ym=Xe(vm),xm=oe({},Fs,{relatedTarget:0}),Ka=Xe(xm),wm=oe({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),bm=Xe(wm),km=oe({},Rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_m=Xe(km),Sm=oe({},Rn,{data:0}),su=Xe(Sm),jm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Em={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Em[e])?!!t[e]:!1}function ql(){return Cm}var zm=oe({},Fs,{key:function(e){if(e.key){var t=jm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ql,charCode:function(e){return e.type==="keypress"?_i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tm=Xe(zm),Rm=oe({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iu=Xe(Rm),Am=oe({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ql}),Om=Xe(Am),Im=oe({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pm=Xe(Im),Lm=oe({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dm=Xe(Lm),$m=[9,13,27,32],Hl=$t&&"CompositionEvent"in window,rs=null;$t&&"documentMode"in document&&(rs=document.documentMode);var Mm=$t&&"TextEvent"in window&&!rs,Uh=$t&&(!Hl||rs&&8<rs&&11>=rs),au=" ",ou=!1;function Fh(e,t){switch(e){case"keyup":return $m.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nn=!1;function Um(e,t){switch(e){case"compositionend":return Bh(t);case"keypress":return t.which!==32?null:(ou=!0,au);case"textInput":return e=t.data,e===au&&ou?null:e;default:return null}}function Fm(e,t){if(nn)return e==="compositionend"||!Hl&&Fh(e,t)?(e=Mh(),ki=Bl=tr=null,nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uh&&t.locale!=="ko"?null:t.data;default:return null}}var Bm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bm[e.type]:t==="textarea"}function Vh(e,t,r,n){wh(n),t=Bi(t,"onChange"),0<t.length&&(r=new Vl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ns=null,ys=null;function Vm(e){ef(e,0)}function pa(e){var t=on(e);if(fh(t))return e}function qm(e,t){if(e==="change")return t}var qh=!1;if($t){var Ja;if($t){var Qa="oninput"in document;if(!Qa){var cu=document.createElement("div");cu.setAttribute("oninput","return;"),Qa=typeof cu.oninput=="function"}Ja=Qa}else Ja=!1;qh=Ja&&(!document.documentMode||9<document.documentMode)}function uu(){ns&&(ns.detachEvent("onpropertychange",Hh),ys=ns=null)}function Hh(e){if(e.propertyName==="value"&&pa(ys)){var t=[];Vh(t,ys,e,Dl(e)),Sh(Vm,t)}}function Hm(e,t,r){e==="focusin"?(uu(),ns=t,ys=r,ns.attachEvent("onpropertychange",Hh)):e==="focusout"&&uu()}function Gm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pa(ys)}function Wm(e,t){if(e==="click")return pa(t)}function Km(e,t){if(e==="input"||e==="change")return pa(t)}function Jm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:Jm;function xs(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!_o.call(t,s)||!yt(e[s],t[s]))return!1}return!0}function du(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hu(e,t){var r=du(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=du(r)}}function Gh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wh(){for(var e=window,t=Pi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Pi(e.document)}return t}function Gl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qm(e){var t=Wh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Gh(r.ownerDocument.documentElement,r)){if(n!==null&&Gl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=hu(r,i);var a=hu(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ym=$t&&"documentMode"in document&&11>=document.documentMode,sn=null,Bo=null,ss=null,Vo=!1;function fu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vo||sn==null||sn!==Pi(n)||(n=sn,"selectionStart"in n&&Gl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ss&&xs(ss,n)||(ss=n,n=Bi(Bo,"onSelect"),0<n.length&&(t=new Vl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=sn)))}function ri(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var an={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionend:ri("Transition","TransitionEnd")},Ya={},Kh={};$t&&(Kh=document.createElement("div").style,"AnimationEvent"in window||(delete an.animationend.animation,delete an.animationiteration.animation,delete an.animationstart.animation),"TransitionEvent"in window||delete an.transitionend.transition);function ma(e){if(Ya[e])return Ya[e];if(!an[e])return e;var t=an[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Kh)return Ya[e]=t[r];return e}var Jh=ma("animationend"),Qh=ma("animationiteration"),Yh=ma("animationstart"),Xh=ma("transitionend"),Zh=new Map,pu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gr(e,t){Zh.set(e,t),Mr(t,[e])}for(var Xa=0;Xa<pu.length;Xa++){var Za=pu[Xa],Xm=Za.toLowerCase(),Zm=Za[0].toUpperCase()+Za.slice(1);gr(Xm,"on"+Zm)}gr(Jh,"onAnimationEnd");gr(Qh,"onAnimationIteration");gr(Yh,"onAnimationStart");gr("dblclick","onDoubleClick");gr("focusin","onFocus");gr("focusout","onBlur");gr(Xh,"onTransitionEnd");_n("onMouseEnter",["mouseout","mouseover"]);_n("onMouseLeave",["mouseout","mouseover"]);_n("onPointerEnter",["pointerout","pointerover"]);_n("onPointerLeave",["pointerout","pointerover"]);Mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qn));function mu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,X0(n,t,void 0,e),e.currentTarget=null}function ef(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;mu(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;mu(s,l,u),i=c}}}if(Di)throw e=$o,Di=!1,$o=null,e}function ee(e,t){var r=t[Ko];r===void 0&&(r=t[Ko]=new Set);var n=e+"__bubble";r.has(n)||(tf(t,e,2,!1),r.add(n))}function eo(e,t,r){var n=0;t&&(n|=4),tf(r,e,n,t)}var ni="_reactListening"+Math.random().toString(36).slice(2);function ws(e){if(!e[ni]){e[ni]=!0,lh.forEach(function(r){r!=="selectionchange"&&(eg.has(r)||eo(r,!1,e),eo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ni]||(t[ni]=!0,eo("selectionchange",!1,t))}}function tf(e,t,r,n){switch($h(t)){case 1:var s=pm;break;case 4:s=mm;break;default:s=Fl}r=s.bind(null,t,r,e),s=void 0,!Do||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function to(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Er(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}Sh(function(){var u=i,d=Dl(r),g=[];e:{var f=Zh.get(e);if(f!==void 0){var m=Vl,x=e;switch(e){case"keypress":if(_i(r)===0)break e;case"keydown":case"keyup":m=Tm;break;case"focusin":x="focus",m=Ka;break;case"focusout":x="blur",m=Ka;break;case"beforeblur":case"afterblur":m=Ka;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ym;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Om;break;case Jh:case Qh:case Yh:m=bm;break;case Xh:m=Pm;break;case"scroll":m=gm;break;case"wheel":m=Dm;break;case"copy":case"cut":case"paste":m=_m;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=iu}var w=(t&4)!==0,b=!w&&e==="scroll",p=w?f!==null?f+"Capture":null:f;w=[];for(var h=u,v;h!==null;){v=h;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,p!==null&&(k=ps(h,p),k!=null&&w.push(bs(h,k,v)))),b)break;h=h.return}0<w.length&&(f=new m(f,x,null,r,d),g.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==Po&&(x=r.relatedTarget||r.fromElement)&&(Er(x)||x[Mt]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=u,x=x?Er(x):null,x!==null&&(b=Ur(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(w=nu,k="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(w=iu,k="onPointerLeave",p="onPointerEnter",h="pointer"),b=m==null?f:on(m),v=x==null?f:on(x),f=new w(k,h+"leave",m,r,d),f.target=b,f.relatedTarget=v,k=null,Er(d)===u&&(w=new w(p,h+"enter",x,r,d),w.target=v,w.relatedTarget=b,k=w),b=k,m&&x)t:{for(w=m,p=x,h=0,v=w;v;v=qr(v))h++;for(v=0,k=p;k;k=qr(k))v++;for(;0<h-v;)w=qr(w),h--;for(;0<v-h;)p=qr(p),v--;for(;h--;){if(w===p||p!==null&&w===p.alternate)break t;w=qr(w),p=qr(p)}w=null}else w=null;m!==null&&gu(g,f,m,w,!1),x!==null&&b!==null&&gu(g,b,x,w,!0)}}e:{if(f=u?on(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var _=qm;else if(lu(f))if(qh)_=Km;else{_=Gm;var S=Hm}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=Wm);if(_&&(_=_(e,u))){Vh(g,_,r,d);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&To(f,"number",f.value)}switch(S=u?on(u):window,e){case"focusin":(lu(S)||S.contentEditable==="true")&&(sn=S,Bo=u,ss=null);break;case"focusout":ss=Bo=sn=null;break;case"mousedown":Vo=!0;break;case"contextmenu":case"mouseup":case"dragend":Vo=!1,fu(g,r,d);break;case"selectionchange":if(Ym)break;case"keydown":case"keyup":fu(g,r,d)}var j;if(Hl)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else nn?Fh(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Uh&&r.locale!=="ko"&&(nn||T!=="onCompositionStart"?T==="onCompositionEnd"&&nn&&(j=Mh()):(tr=d,Bl="value"in tr?tr.value:tr.textContent,nn=!0)),S=Bi(u,T),0<S.length&&(T=new su(T,e,null,r,d),g.push({event:T,listeners:S}),j?T.data=j:(j=Bh(r),j!==null&&(T.data=j)))),(j=Mm?Um(e,r):Fm(e,r))&&(u=Bi(u,"onBeforeInput"),0<u.length&&(d=new su("onBeforeInput","beforeinput",null,r,d),g.push({event:d,listeners:u}),d.data=j))}ef(g,t)})}function bs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ps(e,r),i!=null&&n.unshift(bs(e,i,s)),i=ps(e,t),i!=null&&n.push(bs(e,i,s))),e=e.return}return n}function qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gu(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ps(r,i),c!=null&&a.unshift(bs(r,c,l))):s||(c=ps(r,i),c!=null&&a.push(bs(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var tg=/\r\n?/g,rg=/\u0000|\uFFFD/g;function vu(e){return(typeof e=="string"?e:""+e).replace(tg,`
`).replace(rg,"")}function si(e,t,r){if(t=vu(t),vu(e)!==t&&r)throw Error(E(425))}function Vi(){}var qo=null,Ho=null;function Go(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wo=typeof setTimeout=="function"?setTimeout:void 0,ng=typeof clearTimeout=="function"?clearTimeout:void 0,yu=typeof Promise=="function"?Promise:void 0,sg=typeof queueMicrotask=="function"?queueMicrotask:typeof yu<"u"?function(e){return yu.resolve(null).then(e).catch(ig)}:Wo;function ig(e){setTimeout(function(){throw e})}function ro(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),vs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);vs(t)}function or(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var An=Math.random().toString(36).slice(2),Nt="__reactFiber$"+An,ks="__reactProps$"+An,Mt="__reactContainer$"+An,Ko="__reactEvents$"+An,ag="__reactListeners$"+An,og="__reactHandles$"+An;function Er(e){var t=e[Nt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Mt]||r[Nt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xu(e);e!==null;){if(r=e[Nt])return r;e=xu(e)}return t}e=r,r=e.parentNode}return null}function Bs(e){return e=e[Nt]||e[Mt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function on(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function ga(e){return e[ks]||null}var Jo=[],ln=-1;function vr(e){return{current:e}}function te(e){0>ln||(e.current=Jo[ln],Jo[ln]=null,ln--)}function X(e,t){ln++,Jo[ln]=e.current,e.current=t}var mr={},Te=vr(mr),Ue=vr(!1),Or=mr;function Sn(e,t){var r=e.type.contextTypes;if(!r)return mr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Fe(e){return e=e.childContextTypes,e!=null}function qi(){te(Ue),te(Te)}function wu(e,t,r){if(Te.current!==mr)throw Error(E(168));X(Te,t),X(Ue,r)}function rf(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(E(108,H0(e)||"Unknown",s));return oe({},r,n)}function Hi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mr,Or=Te.current,X(Te,e),X(Ue,Ue.current),!0}function bu(e,t,r){var n=e.stateNode;if(!n)throw Error(E(169));r?(e=rf(e,t,Or),n.__reactInternalMemoizedMergedChildContext=e,te(Ue),te(Te),X(Te,e)):te(Ue),X(Ue,r)}var At=null,va=!1,no=!1;function nf(e){At===null?At=[e]:At.push(e)}function lg(e){va=!0,nf(e)}function yr(){if(!no&&At!==null){no=!0;var e=0,t=K;try{var r=At;for(K=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}At=null,va=!1}catch(s){throw At!==null&&(At=At.slice(e+1)),Ch($l,yr),s}finally{K=t,no=!1}}return null}var cn=[],un=0,Gi=null,Wi=0,rt=[],nt=0,Ir=null,It=1,Pt="";function kr(e,t){cn[un++]=Wi,cn[un++]=Gi,Gi=e,Wi=t}function sf(e,t,r){rt[nt++]=It,rt[nt++]=Pt,rt[nt++]=Ir,Ir=e;var n=It;e=Pt;var s=32-gt(n)-1;n&=~(1<<s),r+=1;var i=32-gt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,It=1<<32-gt(t)+s|r<<s|n,Pt=i+e}else It=1<<i|r<<s|n,Pt=e}function Wl(e){e.return!==null&&(kr(e,1),sf(e,1,0))}function Kl(e){for(;e===Gi;)Gi=cn[--un],cn[un]=null,Wi=cn[--un],cn[un]=null;for(;e===Ir;)Ir=rt[--nt],rt[nt]=null,Pt=rt[--nt],rt[nt]=null,It=rt[--nt],rt[nt]=null}var Je=null,Ke=null,ne=!1,mt=null;function af(e,t){var r=st(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ku(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ke=or(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ir!==null?{id:It,overflow:Pt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=st(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Je=e,Ke=null,!0):!1;default:return!1}}function Qo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yo(e){if(ne){var t=Ke;if(t){var r=t;if(!ku(e,t)){if(Qo(e))throw Error(E(418));t=or(r.nextSibling);var n=Je;t&&ku(e,t)?af(n,r):(e.flags=e.flags&-4097|2,ne=!1,Je=e)}}else{if(Qo(e))throw Error(E(418));e.flags=e.flags&-4097|2,ne=!1,Je=e}}}function _u(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function ii(e){if(e!==Je)return!1;if(!ne)return _u(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Go(e.type,e.memoizedProps)),t&&(t=Ke)){if(Qo(e))throw of(),Error(E(418));for(;t;)af(e,t),t=or(t.nextSibling)}if(_u(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ke=or(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=Je?or(e.stateNode.nextSibling):null;return!0}function of(){for(var e=Ke;e;)e=or(e.nextSibling)}function jn(){Ke=Je=null,ne=!1}function Jl(e){mt===null?mt=[e]:mt.push(e)}var cg=Bt.ReactCurrentBatchConfig;function Bn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,e))}return e}function ai(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Su(e){var t=e._init;return t(e._payload)}function lf(e){function t(p,h){if(e){var v=p.deletions;v===null?(p.deletions=[h],p.flags|=16):v.push(h)}}function r(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function n(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function s(p,h){return p=dr(p,h),p.index=0,p.sibling=null,p}function i(p,h,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<h?(p.flags|=2,h):v):(p.flags|=2,h)):(p.flags|=1048576,h)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,h,v,k){return h===null||h.tag!==6?(h=uo(v,p.mode,k),h.return=p,h):(h=s(h,v),h.return=p,h)}function c(p,h,v,k){var _=v.type;return _===rn?d(p,h,v.props.children,k,v.key):h!==null&&(h.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Kt&&Su(_)===h.type)?(k=s(h,v.props),k.ref=Bn(p,h,v),k.return=p,k):(k=Ti(v.type,v.key,v.props,null,p.mode,k),k.ref=Bn(p,h,v),k.return=p,k)}function u(p,h,v,k){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=ho(v,p.mode,k),h.return=p,h):(h=s(h,v.children||[]),h.return=p,h)}function d(p,h,v,k,_){return h===null||h.tag!==7?(h=Ar(v,p.mode,k,_),h.return=p,h):(h=s(h,v),h.return=p,h)}function g(p,h,v){if(typeof h=="string"&&h!==""||typeof h=="number")return h=uo(""+h,p.mode,v),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Js:return v=Ti(h.type,h.key,h.props,null,p.mode,v),v.ref=Bn(p,null,h),v.return=p,v;case tn:return h=ho(h,p.mode,v),h.return=p,h;case Kt:var k=h._init;return g(p,k(h._payload),v)}if(Kn(h)||Dn(h))return h=Ar(h,p.mode,v,null),h.return=p,h;ai(p,h)}return null}function f(p,h,v,k){var _=h!==null?h.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:l(p,h,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Js:return v.key===_?c(p,h,v,k):null;case tn:return v.key===_?u(p,h,v,k):null;case Kt:return _=v._init,f(p,h,_(v._payload),k)}if(Kn(v)||Dn(v))return _!==null?null:d(p,h,v,k,null);ai(p,v)}return null}function m(p,h,v,k,_){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(v)||null,l(h,p,""+k,_);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Js:return p=p.get(k.key===null?v:k.key)||null,c(h,p,k,_);case tn:return p=p.get(k.key===null?v:k.key)||null,u(h,p,k,_);case Kt:var S=k._init;return m(p,h,v,S(k._payload),_)}if(Kn(k)||Dn(k))return p=p.get(v)||null,d(h,p,k,_,null);ai(h,k)}return null}function x(p,h,v,k){for(var _=null,S=null,j=h,T=h=0,F=null;j!==null&&T<v.length;T++){j.index>T?(F=j,j=null):F=j.sibling;var U=f(p,j,v[T],k);if(U===null){j===null&&(j=F);break}e&&j&&U.alternate===null&&t(p,j),h=i(U,h,T),S===null?_=U:S.sibling=U,S=U,j=F}if(T===v.length)return r(p,j),ne&&kr(p,T),_;if(j===null){for(;T<v.length;T++)j=g(p,v[T],k),j!==null&&(h=i(j,h,T),S===null?_=j:S.sibling=j,S=j);return ne&&kr(p,T),_}for(j=n(p,j);T<v.length;T++)F=m(j,p,T,v[T],k),F!==null&&(e&&F.alternate!==null&&j.delete(F.key===null?T:F.key),h=i(F,h,T),S===null?_=F:S.sibling=F,S=F);return e&&j.forEach(function(he){return t(p,he)}),ne&&kr(p,T),_}function w(p,h,v,k){var _=Dn(v);if(typeof _!="function")throw Error(E(150));if(v=_.call(v),v==null)throw Error(E(151));for(var S=_=null,j=h,T=h=0,F=null,U=v.next();j!==null&&!U.done;T++,U=v.next()){j.index>T?(F=j,j=null):F=j.sibling;var he=f(p,j,U.value,k);if(he===null){j===null&&(j=F);break}e&&j&&he.alternate===null&&t(p,j),h=i(he,h,T),S===null?_=he:S.sibling=he,S=he,j=F}if(U.done)return r(p,j),ne&&kr(p,T),_;if(j===null){for(;!U.done;T++,U=v.next())U=g(p,U.value,k),U!==null&&(h=i(U,h,T),S===null?_=U:S.sibling=U,S=U);return ne&&kr(p,T),_}for(j=n(p,j);!U.done;T++,U=v.next())U=m(j,p,T,U.value,k),U!==null&&(e&&U.alternate!==null&&j.delete(U.key===null?T:U.key),h=i(U,h,T),S===null?_=U:S.sibling=U,S=U);return e&&j.forEach(function(Ze){return t(p,Ze)}),ne&&kr(p,T),_}function b(p,h,v,k){if(typeof v=="object"&&v!==null&&v.type===rn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Js:e:{for(var _=v.key,S=h;S!==null;){if(S.key===_){if(_=v.type,_===rn){if(S.tag===7){r(p,S.sibling),h=s(S,v.props.children),h.return=p,p=h;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Kt&&Su(_)===S.type){r(p,S.sibling),h=s(S,v.props),h.ref=Bn(p,S,v),h.return=p,p=h;break e}r(p,S);break}else t(p,S);S=S.sibling}v.type===rn?(h=Ar(v.props.children,p.mode,k,v.key),h.return=p,p=h):(k=Ti(v.type,v.key,v.props,null,p.mode,k),k.ref=Bn(p,h,v),k.return=p,p=k)}return a(p);case tn:e:{for(S=v.key;h!==null;){if(h.key===S)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){r(p,h.sibling),h=s(h,v.children||[]),h.return=p,p=h;break e}else{r(p,h);break}else t(p,h);h=h.sibling}h=ho(v,p.mode,k),h.return=p,p=h}return a(p);case Kt:return S=v._init,b(p,h,S(v._payload),k)}if(Kn(v))return x(p,h,v,k);if(Dn(v))return w(p,h,v,k);ai(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,h!==null&&h.tag===6?(r(p,h.sibling),h=s(h,v),h.return=p,p=h):(r(p,h),h=uo(v,p.mode,k),h.return=p,p=h),a(p)):r(p,h)}return b}var Nn=lf(!0),cf=lf(!1),Ki=vr(null),Ji=null,dn=null,Ql=null;function Yl(){Ql=dn=Ji=null}function Xl(e){var t=Ki.current;te(Ki),e._currentValue=t}function Xo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function wn(e,t){Ji=e,Ql=dn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Me=!0),e.firstContext=null)}function at(e){var t=e._currentValue;if(Ql!==e)if(e={context:e,memoizedValue:t,next:null},dn===null){if(Ji===null)throw Error(E(308));dn=e,Ji.dependencies={lanes:0,firstContext:e}}else dn=dn.next=e;return t}var Cr=null;function Zl(e){Cr===null?Cr=[e]:Cr.push(e)}function uf(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Zl(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ut(e,n)}function Ut(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Jt=!1;function ec(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function df(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,G&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ut(e,r)}return s=n.interleaved,s===null?(t.next=t,Zl(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ut(e,r)}function Si(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ml(e,r)}}function ju(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Qi(e,t,r,n){var s=e.updateQueue;Jt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var g=s.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,w=l;switch(f=t,m=r,w.tag){case 1:if(x=w.payload,typeof x=="function"){g=x.call(m,g,f);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,f=typeof x=="function"?x.call(m,g,f):x,f==null)break e;g=oe({},g,f);break e;case 2:Jt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=g):d=d.next=m,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=g),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Lr|=a,e.lanes=a,e.memoizedState=g}}function Nu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var Vs={},Ct=vr(Vs),_s=vr(Vs),Ss=vr(Vs);function zr(e){if(e===Vs)throw Error(E(174));return e}function tc(e,t){switch(X(Ss,t),X(_s,e),X(Ct,Vs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ao(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ao(t,e)}te(Ct),X(Ct,t)}function En(){te(Ct),te(_s),te(Ss)}function hf(e){zr(Ss.current);var t=zr(Ct.current),r=Ao(t,e.type);t!==r&&(X(_s,e),X(Ct,r))}function rc(e){_s.current===e&&(te(Ct),te(_s))}var ie=vr(0);function Yi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var so=[];function nc(){for(var e=0;e<so.length;e++)so[e]._workInProgressVersionPrimary=null;so.length=0}var ji=Bt.ReactCurrentDispatcher,io=Bt.ReactCurrentBatchConfig,Pr=0,ae=null,ge=null,xe=null,Xi=!1,is=!1,js=0,ug=0;function Ne(){throw Error(E(321))}function sc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!yt(e[r],t[r]))return!1;return!0}function ic(e,t,r,n,s,i){if(Pr=i,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ji.current=e===null||e.memoizedState===null?pg:mg,e=r(n,s),is){i=0;do{if(is=!1,js=0,25<=i)throw Error(E(301));i+=1,xe=ge=null,t.updateQueue=null,ji.current=gg,e=r(n,s)}while(is)}if(ji.current=Zi,t=ge!==null&&ge.next!==null,Pr=0,xe=ge=ae=null,Xi=!1,t)throw Error(E(300));return e}function ac(){var e=js!==0;return js=0,e}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?ae.memoizedState=xe=e:xe=xe.next=e,xe}function ot(){if(ge===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=xe===null?ae.memoizedState:xe.next;if(t!==null)xe=t,ge=e;else{if(e===null)throw Error(E(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},xe===null?ae.memoizedState=xe=e:xe=xe.next=e}return xe}function Ns(e,t){return typeof t=="function"?t(e):t}function ao(e){var t=ot(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=ge,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Pr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var g={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=g,a=n):c=c.next=g,ae.lanes|=d,Lr|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,yt(n,t.memoizedState)||(Me=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ae.lanes|=i,Lr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function oo(e){var t=ot(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);yt(i,t.memoizedState)||(Me=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function ff(){}function pf(e,t){var r=ae,n=ot(),s=t(),i=!yt(n.memoizedState,s);if(i&&(n.memoizedState=s,Me=!0),n=n.queue,oc(vf.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||xe!==null&&xe.memoizedState.tag&1){if(r.flags|=2048,Es(9,gf.bind(null,r,n,s,t),void 0,null),we===null)throw Error(E(349));Pr&30||mf(r,t,s)}return s}function mf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function gf(e,t,r,n){t.value=r,t.getSnapshot=n,yf(t)&&xf(e)}function vf(e,t,r){return r(function(){yf(t)&&xf(e)})}function yf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!yt(e,r)}catch{return!0}}function xf(e){var t=Ut(e,1);t!==null&&vt(t,e,1,-1)}function Eu(e){var t=jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:e},t.queue=e,e=e.dispatch=fg.bind(null,ae,e),[t.memoizedState,e]}function Es(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function wf(){return ot().memoizedState}function Ni(e,t,r,n){var s=jt();ae.flags|=e,s.memoizedState=Es(1|t,r,void 0,n===void 0?null:n)}function ya(e,t,r,n){var s=ot();n=n===void 0?null:n;var i=void 0;if(ge!==null){var a=ge.memoizedState;if(i=a.destroy,n!==null&&sc(n,a.deps)){s.memoizedState=Es(t,r,i,n);return}}ae.flags|=e,s.memoizedState=Es(1|t,r,i,n)}function Cu(e,t){return Ni(8390656,8,e,t)}function oc(e,t){return ya(2048,8,e,t)}function bf(e,t){return ya(4,2,e,t)}function kf(e,t){return ya(4,4,e,t)}function _f(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sf(e,t,r){return r=r!=null?r.concat([e]):null,ya(4,4,_f.bind(null,t,e),r)}function lc(){}function jf(e,t){var r=ot();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&sc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Nf(e,t){var r=ot();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&sc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ef(e,t,r){return Pr&21?(yt(r,t)||(r=Rh(),ae.lanes|=r,Lr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Me=!0),e.memoizedState=r)}function dg(e,t){var r=K;K=r!==0&&4>r?r:4,e(!0);var n=io.transition;io.transition={};try{e(!1),t()}finally{K=r,io.transition=n}}function Cf(){return ot().memoizedState}function hg(e,t,r){var n=ur(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},zf(e))Tf(t,r);else if(r=uf(e,t,r,n),r!==null){var s=Oe();vt(r,e,n,s),Rf(r,t,n)}}function fg(e,t,r){var n=ur(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(zf(e))Tf(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,yt(l,a)){var c=t.interleaved;c===null?(s.next=s,Zl(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=uf(e,t,s,n),r!==null&&(s=Oe(),vt(r,e,n,s),Rf(r,t,n))}}function zf(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function Tf(e,t){is=Xi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Rf(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ml(e,r)}}var Zi={readContext:at,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},pg={readContext:at,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:Cu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ni(4194308,4,_f.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ni(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ni(4,2,e,t)},useMemo:function(e,t){var r=jt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=jt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=hg.bind(null,ae,e),[n.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:Eu,useDebugValue:lc,useDeferredValue:function(e){return jt().memoizedState=e},useTransition:function(){var e=Eu(!1),t=e[0];return e=dg.bind(null,e[1]),jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ae,s=jt();if(ne){if(r===void 0)throw Error(E(407));r=r()}else{if(r=t(),we===null)throw Error(E(349));Pr&30||mf(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Cu(vf.bind(null,n,i,e),[e]),n.flags|=2048,Es(9,gf.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=jt(),t=we.identifierPrefix;if(ne){var r=Pt,n=It;r=(n&~(1<<32-gt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=js++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ug++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mg={readContext:at,useCallback:jf,useContext:at,useEffect:oc,useImperativeHandle:Sf,useInsertionEffect:bf,useLayoutEffect:kf,useMemo:Nf,useReducer:ao,useRef:wf,useState:function(){return ao(Ns)},useDebugValue:lc,useDeferredValue:function(e){var t=ot();return Ef(t,ge.memoizedState,e)},useTransition:function(){var e=ao(Ns)[0],t=ot().memoizedState;return[e,t]},useMutableSource:ff,useSyncExternalStore:pf,useId:Cf,unstable_isNewReconciler:!1},gg={readContext:at,useCallback:jf,useContext:at,useEffect:oc,useImperativeHandle:Sf,useInsertionEffect:bf,useLayoutEffect:kf,useMemo:Nf,useReducer:oo,useRef:wf,useState:function(){return oo(Ns)},useDebugValue:lc,useDeferredValue:function(e){var t=ot();return ge===null?t.memoizedState=e:Ef(t,ge.memoizedState,e)},useTransition:function(){var e=oo(Ns)[0],t=ot().memoizedState;return[e,t]},useMutableSource:ff,useSyncExternalStore:pf,useId:Cf,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Zo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:oe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var xa={isMounted:function(e){return(e=e._reactInternals)?Ur(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Oe(),s=ur(e),i=Dt(n,s);i.payload=t,r!=null&&(i.callback=r),t=lr(e,i,s),t!==null&&(vt(t,e,s,n),Si(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Oe(),s=ur(e),i=Dt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=lr(e,i,s),t!==null&&(vt(t,e,s,n),Si(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Oe(),n=ur(e),s=Dt(r,n);s.tag=2,t!=null&&(s.callback=t),t=lr(e,s,n),t!==null&&(vt(t,e,n,r),Si(t,e,n))}};function zu(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!xs(r,n)||!xs(s,i):!0}function Af(e,t,r){var n=!1,s=mr,i=t.contextType;return typeof i=="object"&&i!==null?i=at(i):(s=Fe(t)?Or:Te.current,n=t.contextTypes,i=(n=n!=null)?Sn(e,s):mr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xa,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Tu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&xa.enqueueReplaceState(t,t.state,null)}function el(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},ec(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=at(i):(i=Fe(t)?Or:Te.current,s.context=Sn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Zo(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&xa.enqueueReplaceState(s,s.state,null),Qi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Cn(e,t){try{var r="",n=t;do r+=q0(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function lo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function tl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var vg=typeof WeakMap=="function"?WeakMap:Map;function Of(e,t,r){r=Dt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ta||(ta=!0,dl=n),tl(e,t)},r}function If(e,t,r){r=Dt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){tl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){tl(e,t),typeof n!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Ru(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new vg;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Rg.bind(null,e,t,r),t.then(e,e))}function Au(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ou(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Dt(-1,1),t.tag=2,lr(r,t,1))),r.lanes|=1),e)}var yg=Bt.ReactCurrentOwner,Me=!1;function Ae(e,t,r,n){t.child=e===null?cf(t,null,r,n):Nn(t,e.child,r,n)}function Iu(e,t,r,n,s){r=r.render;var i=t.ref;return wn(t,s),n=ic(e,t,r,n,i,s),r=ac(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ft(e,t,s)):(ne&&r&&Wl(t),t.flags|=1,Ae(e,t,n,s),t.child)}function Pu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!gc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Pf(e,t,i,n,s)):(e=Ti(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:xs,r(a,n)&&e.ref===t.ref)return Ft(e,t,s)}return t.flags|=1,e=dr(i,n),e.ref=t.ref,e.return=t,t.child=e}function Pf(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(xs(i,n)&&e.ref===t.ref)if(Me=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Me=!0);else return t.lanes=e.lanes,Ft(e,t,s)}return rl(e,t,r,n,s)}function Lf(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(fn,Ge),Ge|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(fn,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,X(fn,Ge),Ge|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,X(fn,Ge),Ge|=n;return Ae(e,t,s,r),t.child}function Df(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function rl(e,t,r,n,s){var i=Fe(r)?Or:Te.current;return i=Sn(t,i),wn(t,s),r=ic(e,t,r,n,i,s),n=ac(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ft(e,t,s)):(ne&&n&&Wl(t),t.flags|=1,Ae(e,t,r,s),t.child)}function Lu(e,t,r,n,s){if(Fe(r)){var i=!0;Hi(t)}else i=!1;if(wn(t,s),t.stateNode===null)Ei(e,t),Af(t,r,n),el(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=at(u):(u=Fe(r)?Or:Te.current,u=Sn(t,u));var d=r.getDerivedStateFromProps,g=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Tu(t,a,n,u),Jt=!1;var f=t.memoizedState;a.state=f,Qi(t,n,a,s),c=t.memoizedState,l!==n||f!==c||Ue.current||Jt?(typeof d=="function"&&(Zo(t,r,d,n),c=t.memoizedState),(l=Jt||zu(t,r,l,n,f,c,u))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,df(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:dt(t.type,l),a.props=u,g=t.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=at(c):(c=Fe(r)?Or:Te.current,c=Sn(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||f!==c)&&Tu(t,a,n,c),Jt=!1,f=t.memoizedState,a.state=f,Qi(t,n,a,s);var x=t.memoizedState;l!==g||f!==x||Ue.current||Jt?(typeof m=="function"&&(Zo(t,r,m,n),x=t.memoizedState),(u=Jt||zu(t,r,u,n,f,x,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,x,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),a.props=n,a.state=x,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return nl(e,t,r,n,i,s)}function nl(e,t,r,n,s,i){Df(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&bu(t,r,!1),Ft(e,t,i);n=t.stateNode,yg.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Nn(t,e.child,null,i),t.child=Nn(t,null,l,i)):Ae(e,t,l,i),t.memoizedState=n.state,s&&bu(t,r,!0),t.child}function $f(e){var t=e.stateNode;t.pendingContext?wu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wu(e,t.context,!1),tc(e,t.containerInfo)}function Du(e,t,r,n,s){return jn(),Jl(s),t.flags|=256,Ae(e,t,r,n),t.child}var sl={dehydrated:null,treeContext:null,retryLane:0};function il(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mf(e,t,r){var n=t.pendingProps,s=ie.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),X(ie,s&1),e===null)return Yo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ka(a,n,0,null),e=Ar(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=il(r),t.memoizedState=sl,e):cc(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return xg(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=dr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=dr(l,i):(i=Ar(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?il(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=sl,n}return i=e.child,e=i.sibling,n=dr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function cc(e,t){return t=ka({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oi(e,t,r,n){return n!==null&&Jl(n),Nn(t,e.child,null,r),e=cc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xg(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=lo(Error(E(422))),oi(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=ka({mode:"visible",children:n.children},s,0,null),i=Ar(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Nn(t,e.child,null,a),t.child.memoizedState=il(a),t.memoizedState=sl,i);if(!(t.mode&1))return oi(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(E(419)),n=lo(i,n,void 0),oi(e,t,a,n)}if(l=(a&e.childLanes)!==0,Me||l){if(n=we,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ut(e,s),vt(n,e,s,-1))}return mc(),n=lo(Error(E(421))),oi(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Ag.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ke=or(s.nextSibling),Je=t,ne=!0,mt=null,e!==null&&(rt[nt++]=It,rt[nt++]=Pt,rt[nt++]=Ir,It=e.id,Pt=e.overflow,Ir=t),t=cc(t,n.children),t.flags|=4096,t)}function $u(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Xo(e.return,t,r)}function co(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Uf(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ae(e,t,n.children,r),n=ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$u(e,r,t);else if(e.tag===19)$u(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(X(ie,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Yi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),co(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Yi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}co(t,!0,r,null,i);break;case"together":co(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ei(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ft(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Lr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,r=dr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=dr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function wg(e,t,r){switch(t.tag){case 3:$f(t),jn();break;case 5:hf(t);break;case 1:Fe(t.type)&&Hi(t);break;case 4:tc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;X(Ki,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(X(ie,ie.current&1),t.flags|=128,null):r&t.child.childLanes?Mf(e,t,r):(X(ie,ie.current&1),e=Ft(e,t,r),e!==null?e.sibling:null);X(ie,ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Uf(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(ie,ie.current),n)break;return null;case 22:case 23:return t.lanes=0,Lf(e,t,r)}return Ft(e,t,r)}var Ff,al,Bf,Vf;Ff=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};al=function(){};Bf=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,zr(Ct.current);var i=null;switch(r){case"input":s=Co(e,s),n=Co(e,n),i=[];break;case"select":s=oe({},s,{value:void 0}),n=oe({},n,{value:void 0}),i=[];break;case"textarea":s=Ro(e,s),n=Ro(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Vi)}Oo(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ee("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Vf=function(e,t,r,n){r!==n&&(t.flags|=4)};function Vn(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function bg(e,t,r){var n=t.pendingProps;switch(Kl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(t),null;case 1:return Fe(t.type)&&qi(),Ee(t),null;case 3:return n=t.stateNode,En(),te(Ue),te(Te),nc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ii(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&(pl(mt),mt=null))),al(e,t),Ee(t),null;case 5:rc(t);var s=zr(Ss.current);if(r=t.type,e!==null&&t.stateNode!=null)Bf(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(E(166));return Ee(t),null}if(e=zr(Ct.current),ii(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Nt]=t,n[ks]=i,e=(t.mode&1)!==0,r){case"dialog":ee("cancel",n),ee("close",n);break;case"iframe":case"object":case"embed":ee("load",n);break;case"video":case"audio":for(s=0;s<Qn.length;s++)ee(Qn[s],n);break;case"source":ee("error",n);break;case"img":case"image":case"link":ee("error",n),ee("load",n);break;case"details":ee("toggle",n);break;case"input":Wc(n,i),ee("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ee("invalid",n);break;case"textarea":Jc(n,i),ee("invalid",n)}Oo(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&si(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&si(n.textContent,l,e),s=["children",""+l]):hs.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ee("scroll",n)}switch(r){case"input":Qs(n),Kc(n,i,!0);break;case"textarea":Qs(n),Qc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Vi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gh(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Nt]=t,e[ks]=n,Ff(e,t,!1,!1),t.stateNode=e;e:{switch(a=Io(r,n),r){case"dialog":ee("cancel",e),ee("close",e),s=n;break;case"iframe":case"object":case"embed":ee("load",e),s=n;break;case"video":case"audio":for(s=0;s<Qn.length;s++)ee(Qn[s],e);s=n;break;case"source":ee("error",e),s=n;break;case"img":case"image":case"link":ee("error",e),ee("load",e),s=n;break;case"details":ee("toggle",e),s=n;break;case"input":Wc(e,n),s=Co(e,n),ee("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=oe({},n,{value:void 0}),ee("invalid",e);break;case"textarea":Jc(e,n),s=Ro(e,n),ee("invalid",e);break;default:s=n}Oo(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?xh(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vh(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&fs(e,c):typeof c=="number"&&fs(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ee("scroll",e):c!=null&&Ol(e,i,c,a))}switch(r){case"input":Qs(e),Kc(e,n,!1);break;case"textarea":Qs(e),Qc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+pr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?gn(e,!!n.multiple,i,!1):n.defaultValue!=null&&gn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Vi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ee(t),null;case 6:if(e&&t.stateNode!=null)Vf(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(r=zr(Ss.current),zr(Ct.current),ii(t)){if(n=t.stateNode,r=t.memoizedProps,n[Nt]=t,(i=n.nodeValue!==r)&&(e=Je,e!==null))switch(e.tag){case 3:si(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&si(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nt]=t,t.stateNode=n}return Ee(t),null;case 13:if(te(ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&Ke!==null&&t.mode&1&&!(t.flags&128))of(),jn(),t.flags|=98560,i=!1;else if(i=ii(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[Nt]=t}else jn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ee(t),i=!1}else mt!==null&&(pl(mt),mt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?ve===0&&(ve=3):mc())),t.updateQueue!==null&&(t.flags|=4),Ee(t),null);case 4:return En(),al(e,t),e===null&&ws(t.stateNode.containerInfo),Ee(t),null;case 10:return Xl(t.type._context),Ee(t),null;case 17:return Fe(t.type)&&qi(),Ee(t),null;case 19:if(te(ie),i=t.memoizedState,i===null)return Ee(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Vn(i,!1);else{if(ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Yi(e),a!==null){for(t.flags|=128,Vn(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return X(ie,ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&de()>zn&&(t.flags|=128,n=!0,Vn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Yi(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Vn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ne)return Ee(t),null}else 2*de()-i.renderingStartTime>zn&&r!==1073741824&&(t.flags|=128,n=!0,Vn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=de(),t.sibling=null,r=ie.current,X(ie,n?r&1|2:r&1),t):(Ee(t),null);case 22:case 23:return pc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ge&1073741824&&(Ee(t),t.subtreeFlags&6&&(t.flags|=8192)):Ee(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function kg(e,t){switch(Kl(t),t.tag){case 1:return Fe(t.type)&&qi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return En(),te(Ue),te(Te),nc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return rc(t),null;case 13:if(te(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(ie),null;case 4:return En(),null;case 10:return Xl(t.type._context),null;case 22:case 23:return pc(),null;case 24:return null;default:return null}}var li=!1,Ce=!1,_g=typeof WeakSet=="function"?WeakSet:Set,I=null;function hn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ce(e,t,n)}else r.current=null}function ol(e,t,r){try{r()}catch(n){ce(e,t,n)}}var Mu=!1;function Sg(e,t){if(qo=Ui,e=Wh(),Gl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,g=e,f=null;t:for(;;){for(var m;g!==r||s!==0&&g.nodeType!==3||(l=a+s),g!==i||n!==0&&g.nodeType!==3||(c=a+n),g.nodeType===3&&(a+=g.nodeValue.length),(m=g.firstChild)!==null;)f=g,g=m;for(;;){if(g===e)break t;if(f===r&&++u===s&&(l=a),f===i&&++d===n&&(c=a),(m=g.nextSibling)!==null)break;g=f,f=g.parentNode}g=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ho={focusedElem:e,selectionRange:r},Ui=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,b=x.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:dt(t.type,w),b);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(k){ce(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return x=Mu,Mu=!1,x}function as(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ol(t,r,i)}s=s.next}while(s!==n)}}function wa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ll(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function qf(e){var t=e.alternate;t!==null&&(e.alternate=null,qf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[ks],delete t[Ko],delete t[ag],delete t[og])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hf(e){return e.tag===5||e.tag===3||e.tag===4}function Uu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Vi));else if(n!==4&&(e=e.child,e!==null))for(cl(e,t,r),e=e.sibling;e!==null;)cl(e,t,r),e=e.sibling}function ul(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ul(e,t,r),e=e.sibling;e!==null;)ul(e,t,r),e=e.sibling}var _e=null,ft=!1;function Gt(e,t,r){for(r=r.child;r!==null;)Gf(e,t,r),r=r.sibling}function Gf(e,t,r){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(ha,r)}catch{}switch(r.tag){case 5:Ce||hn(r,t);case 6:var n=_e,s=ft;_e=null,Gt(e,t,r),_e=n,ft=s,_e!==null&&(ft?(e=_e,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_e.removeChild(r.stateNode));break;case 18:_e!==null&&(ft?(e=_e,r=r.stateNode,e.nodeType===8?ro(e.parentNode,r):e.nodeType===1&&ro(e,r),vs(e)):ro(_e,r.stateNode));break;case 4:n=_e,s=ft,_e=r.stateNode.containerInfo,ft=!0,Gt(e,t,r),_e=n,ft=s;break;case 0:case 11:case 14:case 15:if(!Ce&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&ol(r,t,a),s=s.next}while(s!==n)}Gt(e,t,r);break;case 1:if(!Ce&&(hn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ce(r,t,l)}Gt(e,t,r);break;case 21:Gt(e,t,r);break;case 22:r.mode&1?(Ce=(n=Ce)||r.memoizedState!==null,Gt(e,t,r),Ce=n):Gt(e,t,r);break;default:Gt(e,t,r)}}function Fu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new _g),t.forEach(function(n){var s=Og.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ct(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:_e=l.stateNode,ft=!1;break e;case 3:_e=l.stateNode.containerInfo,ft=!0;break e;case 4:_e=l.stateNode.containerInfo,ft=!0;break e}l=l.return}if(_e===null)throw Error(E(160));Gf(i,a,s),_e=null,ft=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ce(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wf(t,e),t=t.sibling}function Wf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ct(t,e),St(e),n&4){try{as(3,e,e.return),wa(3,e)}catch(w){ce(e,e.return,w)}try{as(5,e,e.return)}catch(w){ce(e,e.return,w)}}break;case 1:ct(t,e),St(e),n&512&&r!==null&&hn(r,r.return);break;case 5:if(ct(t,e),St(e),n&512&&r!==null&&hn(r,r.return),e.flags&32){var s=e.stateNode;try{fs(s,"")}catch(w){ce(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ph(s,i),Io(l,a);var u=Io(l,i);for(a=0;a<c.length;a+=2){var d=c[a],g=c[a+1];d==="style"?xh(s,g):d==="dangerouslySetInnerHTML"?vh(s,g):d==="children"?fs(s,g):Ol(s,d,g,u)}switch(l){case"input":zo(s,i);break;case"textarea":mh(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?gn(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?gn(s,!!i.multiple,i.defaultValue,!0):gn(s,!!i.multiple,i.multiple?[]:"",!1))}s[ks]=i}catch(w){ce(e,e.return,w)}}break;case 6:if(ct(t,e),St(e),n&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ce(e,e.return,w)}}break;case 3:if(ct(t,e),St(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vs(t.containerInfo)}catch(w){ce(e,e.return,w)}break;case 4:ct(t,e),St(e);break;case 13:ct(t,e),St(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(hc=de())),n&4&&Fu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ce=(u=Ce)||d,ct(t,e),Ce=u):ct(t,e),St(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(I=e,d=e.child;d!==null;){for(g=I=d;I!==null;){switch(f=I,m=f.child,f.tag){case 0:case 11:case 14:case 15:as(4,f,f.return);break;case 1:hn(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){ce(n,r,w)}}break;case 5:hn(f,f.return);break;case 22:if(f.memoizedState!==null){Vu(g);continue}}m!==null?(m.return=f,I=m):Vu(g)}d=d.sibling}e:for(d=null,g=e;;){if(g.tag===5){if(d===null){d=g;try{s=g.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=g.stateNode,c=g.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=yh("display",a))}catch(w){ce(e,e.return,w)}}}else if(g.tag===6){if(d===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(w){ce(e,e.return,w)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:ct(t,e),St(e),n&4&&Fu(e);break;case 21:break;default:ct(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Hf(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(fs(s,""),n.flags&=-33);var i=Uu(e);ul(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Uu(e);cl(e,l,a);break;default:throw Error(E(161))}}catch(c){ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jg(e,t,r){I=e,Kf(e)}function Kf(e,t,r){for(var n=(e.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||li;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ce;l=li;var u=Ce;if(li=a,(Ce=c)&&!u)for(I=s;I!==null;)a=I,c=a.child,a.tag===22&&a.memoizedState!==null?qu(s):c!==null?(c.return=a,I=c):qu(s);for(;i!==null;)I=i,Kf(i),i=i.sibling;I=s,li=l,Ce=u}Bu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):Bu(e)}}function Bu(e){for(;I!==null;){var t=I;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ce||wa(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ce)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:dt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Nu(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Nu(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&vs(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Ce||t.flags&512&&ll(t)}catch(f){ce(t,t.return,f)}}if(t===e){I=null;break}if(r=t.sibling,r!==null){r.return=t.return,I=r;break}I=t.return}}function Vu(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var r=t.sibling;if(r!==null){r.return=t.return,I=r;break}I=t.return}}function qu(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{wa(4,t)}catch(c){ce(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ce(t,s,c)}}var i=t.return;try{ll(t)}catch(c){ce(t,i,c)}break;case 5:var a=t.return;try{ll(t)}catch(c){ce(t,a,c)}}}catch(c){ce(t,t.return,c)}if(t===e){I=null;break}var l=t.sibling;if(l!==null){l.return=t.return,I=l;break}I=t.return}}var Ng=Math.ceil,ea=Bt.ReactCurrentDispatcher,uc=Bt.ReactCurrentOwner,it=Bt.ReactCurrentBatchConfig,G=0,we=null,pe=null,Se=0,Ge=0,fn=vr(0),ve=0,Cs=null,Lr=0,ba=0,dc=0,os=null,$e=null,hc=0,zn=1/0,Tt=null,ta=!1,dl=null,cr=null,ci=!1,rr=null,ra=0,ls=0,hl=null,Ci=-1,zi=0;function Oe(){return G&6?de():Ci!==-1?Ci:Ci=de()}function ur(e){return e.mode&1?G&2&&Se!==0?Se&-Se:cg.transition!==null?(zi===0&&(zi=Rh()),zi):(e=K,e!==0||(e=window.event,e=e===void 0?16:$h(e.type)),e):1}function vt(e,t,r,n){if(50<ls)throw ls=0,hl=null,Error(E(185));Us(e,r,n),(!(G&2)||e!==we)&&(e===we&&(!(G&2)&&(ba|=r),ve===4&&Zt(e,Se)),Be(e,n),r===1&&G===0&&!(t.mode&1)&&(zn=de()+500,va&&yr()))}function Be(e,t){var r=e.callbackNode;cm(e,t);var n=Mi(e,e===we?Se:0);if(n===0)r!==null&&Zc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Zc(r),t===1)e.tag===0?lg(Hu.bind(null,e)):nf(Hu.bind(null,e)),sg(function(){!(G&6)&&yr()}),r=null;else{switch(Ah(n)){case 1:r=$l;break;case 4:r=zh;break;case 16:r=$i;break;case 536870912:r=Th;break;default:r=$i}r=rp(r,Jf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Jf(e,t){if(Ci=-1,zi=0,G&6)throw Error(E(327));var r=e.callbackNode;if(bn()&&e.callbackNode!==r)return null;var n=Mi(e,e===we?Se:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=na(e,n);else{t=n;var s=G;G|=2;var i=Yf();(we!==e||Se!==t)&&(Tt=null,zn=de()+500,Rr(e,t));do try{zg();break}catch(l){Qf(e,l)}while(!0);Yl(),ea.current=i,G=s,pe!==null?t=0:(we=null,Se=0,t=ve)}if(t!==0){if(t===2&&(s=Mo(e),s!==0&&(n=s,t=fl(e,s))),t===1)throw r=Cs,Rr(e,0),Zt(e,n),Be(e,de()),r;if(t===6)Zt(e,n);else{if(s=e.current.alternate,!(n&30)&&!Eg(s)&&(t=na(e,n),t===2&&(i=Mo(e),i!==0&&(n=i,t=fl(e,i))),t===1))throw r=Cs,Rr(e,0),Zt(e,n),Be(e,de()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(E(345));case 2:_r(e,$e,Tt);break;case 3:if(Zt(e,n),(n&130023424)===n&&(t=hc+500-de(),10<t)){if(Mi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Oe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Wo(_r.bind(null,e,$e,Tt),t);break}_r(e,$e,Tt);break;case 4:if(Zt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-gt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=de()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ng(n/1960))-n,10<n){e.timeoutHandle=Wo(_r.bind(null,e,$e,Tt),n);break}_r(e,$e,Tt);break;case 5:_r(e,$e,Tt);break;default:throw Error(E(329))}}}return Be(e,de()),e.callbackNode===r?Jf.bind(null,e):null}function fl(e,t){var r=os;return e.current.memoizedState.isDehydrated&&(Rr(e,t).flags|=256),e=na(e,t),e!==2&&(t=$e,$e=r,t!==null&&pl(t)),e}function pl(e){$e===null?$e=e:$e.push.apply($e,e)}function Eg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!yt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zt(e,t){for(t&=~dc,t&=~ba,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-gt(t),n=1<<r;e[r]=-1,t&=~n}}function Hu(e){if(G&6)throw Error(E(327));bn();var t=Mi(e,0);if(!(t&1))return Be(e,de()),null;var r=na(e,t);if(e.tag!==0&&r===2){var n=Mo(e);n!==0&&(t=n,r=fl(e,n))}if(r===1)throw r=Cs,Rr(e,0),Zt(e,t),Be(e,de()),r;if(r===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_r(e,$e,Tt),Be(e,de()),null}function fc(e,t){var r=G;G|=1;try{return e(t)}finally{G=r,G===0&&(zn=de()+500,va&&yr())}}function Dr(e){rr!==null&&rr.tag===0&&!(G&6)&&bn();var t=G;G|=1;var r=it.transition,n=K;try{if(it.transition=null,K=1,e)return e()}finally{K=n,it.transition=r,G=t,!(G&6)&&yr()}}function pc(){Ge=fn.current,te(fn)}function Rr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ng(r)),pe!==null)for(r=pe.return;r!==null;){var n=r;switch(Kl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qi();break;case 3:En(),te(Ue),te(Te),nc();break;case 5:rc(n);break;case 4:En();break;case 13:te(ie);break;case 19:te(ie);break;case 10:Xl(n.type._context);break;case 22:case 23:pc()}r=r.return}if(we=e,pe=e=dr(e.current,null),Se=Ge=t,ve=0,Cs=null,dc=ba=Lr=0,$e=os=null,Cr!==null){for(t=0;t<Cr.length;t++)if(r=Cr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Cr=null}return e}function Qf(e,t){do{var r=pe;try{if(Yl(),ji.current=Zi,Xi){for(var n=ae.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Xi=!1}if(Pr=0,xe=ge=ae=null,is=!1,js=0,uc.current=null,r===null||r.return===null){ve=1,Cs=t,pe=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=Se,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,g=d.tag;if(!(d.mode&1)&&(g===0||g===11||g===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Au(a);if(m!==null){m.flags&=-257,Ou(m,a,l,i,t),m.mode&1&&Ru(i,u,t),t=m,c=u;var x=t.updateQueue;if(x===null){var w=new Set;w.add(c),t.updateQueue=w}else x.add(c);break e}else{if(!(t&1)){Ru(i,u,t),mc();break e}c=Error(E(426))}}else if(ne&&l.mode&1){var b=Au(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ou(b,a,l,i,t),Jl(Cn(c,l));break e}}i=c=Cn(c,l),ve!==4&&(ve=2),os===null?os=[i]:os.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Of(i,c,t);ju(i,p);break e;case 1:l=c;var h=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(cr===null||!cr.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=If(i,l,t);ju(i,k);break e}}i=i.return}while(i!==null)}Zf(r)}catch(_){t=_,pe===r&&r!==null&&(pe=r=r.return);continue}break}while(!0)}function Yf(){var e=ea.current;return ea.current=Zi,e===null?Zi:e}function mc(){(ve===0||ve===3||ve===2)&&(ve=4),we===null||!(Lr&268435455)&&!(ba&268435455)||Zt(we,Se)}function na(e,t){var r=G;G|=2;var n=Yf();(we!==e||Se!==t)&&(Tt=null,Rr(e,t));do try{Cg();break}catch(s){Qf(e,s)}while(!0);if(Yl(),G=r,ea.current=n,pe!==null)throw Error(E(261));return we=null,Se=0,ve}function Cg(){for(;pe!==null;)Xf(pe)}function zg(){for(;pe!==null&&!em();)Xf(pe)}function Xf(e){var t=tp(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?Zf(e):pe=t,uc.current=null}function Zf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=kg(r,t),r!==null){r.flags&=32767,pe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ve=6,pe=null;return}}else if(r=bg(r,t,Ge),r!==null){pe=r;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);ve===0&&(ve=5)}function _r(e,t,r){var n=K,s=it.transition;try{it.transition=null,K=1,Tg(e,t,r,n)}finally{it.transition=s,K=n}return null}function Tg(e,t,r,n){do bn();while(rr!==null);if(G&6)throw Error(E(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(um(e,i),e===we&&(pe=we=null,Se=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ci||(ci=!0,rp($i,function(){return bn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=it.transition,it.transition=null;var a=K;K=1;var l=G;G|=4,uc.current=null,Sg(e,r),Wf(r,e),Qm(Ho),Ui=!!qo,Ho=qo=null,e.current=r,jg(r),tm(),G=l,K=a,it.transition=i}else e.current=r;if(ci&&(ci=!1,rr=e,ra=s),i=e.pendingLanes,i===0&&(cr=null),sm(r.stateNode),Be(e,de()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ta)throw ta=!1,e=dl,dl=null,e;return ra&1&&e.tag!==0&&bn(),i=e.pendingLanes,i&1?e===hl?ls++:(ls=0,hl=e):ls=0,yr(),null}function bn(){if(rr!==null){var e=Ah(ra),t=it.transition,r=K;try{if(it.transition=null,K=16>e?16:e,rr===null)var n=!1;else{if(e=rr,rr=null,ra=0,G&6)throw Error(E(331));var s=G;for(G|=4,I=e.current;I!==null;){var i=I,a=i.child;if(I.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(I=u;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:as(8,d,i)}var g=d.child;if(g!==null)g.return=d,I=g;else for(;I!==null;){d=I;var f=d.sibling,m=d.return;if(qf(d),d===u){I=null;break}if(f!==null){f.return=m,I=f;break}I=m}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}I=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,I=a;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:as(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,I=p;break e}I=i.return}}var h=e.current;for(I=h;I!==null;){a=I;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,I=v;else e:for(a=h;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wa(9,l)}}catch(_){ce(l,l.return,_)}if(l===a){I=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,I=k;break e}I=l.return}}if(G=s,yr(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(ha,e)}catch{}n=!0}return n}finally{K=r,it.transition=t}}return!1}function Gu(e,t,r){t=Cn(r,t),t=Of(e,t,1),e=lr(e,t,1),t=Oe(),e!==null&&(Us(e,1,t),Be(e,t))}function ce(e,t,r){if(e.tag===3)Gu(e,e,r);else for(;t!==null;){if(t.tag===3){Gu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(cr===null||!cr.has(n))){e=Cn(r,e),e=If(t,e,1),t=lr(t,e,1),e=Oe(),t!==null&&(Us(t,1,e),Be(t,e));break}}t=t.return}}function Rg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Oe(),e.pingedLanes|=e.suspendedLanes&r,we===e&&(Se&r)===r&&(ve===4||ve===3&&(Se&130023424)===Se&&500>de()-hc?Rr(e,0):dc|=r),Be(e,t)}function ep(e,t){t===0&&(e.mode&1?(t=Zs,Zs<<=1,!(Zs&130023424)&&(Zs=4194304)):t=1);var r=Oe();e=Ut(e,t),e!==null&&(Us(e,t,r),Be(e,r))}function Ag(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ep(e,r)}function Og(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(t),ep(e,r)}var tp;tp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)Me=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Me=!1,wg(e,t,r);Me=!!(e.flags&131072)}else Me=!1,ne&&t.flags&1048576&&sf(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ei(e,t),e=t.pendingProps;var s=Sn(t,Te.current);wn(t,r),s=ic(null,t,n,e,s,r);var i=ac();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(n)?(i=!0,Hi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ec(t),s.updater=xa,t.stateNode=s,s._reactInternals=t,el(t,n,e,r),t=nl(null,t,n,!0,i,r)):(t.tag=0,ne&&i&&Wl(t),Ae(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ei(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Pg(n),e=dt(n,e),s){case 0:t=rl(null,t,n,e,r);break e;case 1:t=Lu(null,t,n,e,r);break e;case 11:t=Iu(null,t,n,e,r);break e;case 14:t=Pu(null,t,n,dt(n.type,e),r);break e}throw Error(E(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:dt(n,s),rl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:dt(n,s),Lu(e,t,n,s,r);case 3:e:{if($f(t),e===null)throw Error(E(387));n=t.pendingProps,i=t.memoizedState,s=i.element,df(e,t),Qi(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Cn(Error(E(423)),t),t=Du(e,t,n,r,s);break e}else if(n!==s){s=Cn(Error(E(424)),t),t=Du(e,t,n,r,s);break e}else for(Ke=or(t.stateNode.containerInfo.firstChild),Je=t,ne=!0,mt=null,r=cf(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jn(),n===s){t=Ft(e,t,r);break e}Ae(e,t,n,r)}t=t.child}return t;case 5:return hf(t),e===null&&Yo(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Go(n,s)?a=null:i!==null&&Go(n,i)&&(t.flags|=32),Df(e,t),Ae(e,t,a,r),t.child;case 6:return e===null&&Yo(t),null;case 13:return Mf(e,t,r);case 4:return tc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Nn(t,null,n,r):Ae(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:dt(n,s),Iu(e,t,n,s,r);case 7:return Ae(e,t,t.pendingProps,r),t.child;case 8:return Ae(e,t,t.pendingProps.children,r),t.child;case 12:return Ae(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,X(Ki,n._currentValue),n._currentValue=a,i!==null)if(yt(i.value,a)){if(i.children===s.children&&!Ue.current){t=Ft(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Dt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Xo(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(E(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Xo(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ae(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,wn(t,r),s=at(s),n=n(s),t.flags|=1,Ae(e,t,n,r),t.child;case 14:return n=t.type,s=dt(n,t.pendingProps),s=dt(n.type,s),Pu(e,t,n,s,r);case 15:return Pf(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:dt(n,s),Ei(e,t),t.tag=1,Fe(n)?(e=!0,Hi(t)):e=!1,wn(t,r),Af(t,n,s),el(t,n,s,r),nl(null,t,n,!0,e,r);case 19:return Uf(e,t,r);case 22:return Lf(e,t,r)}throw Error(E(156,t.tag))};function rp(e,t){return Ch(e,t)}function Ig(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,r,n){return new Ig(e,t,r,n)}function gc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pg(e){if(typeof e=="function")return gc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pl)return 11;if(e===Ll)return 14}return 2}function dr(e,t){var r=e.alternate;return r===null?(r=st(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ti(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")gc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case rn:return Ar(r.children,s,i,t);case Il:a=8,s|=8;break;case So:return e=st(12,r,t,s|2),e.elementType=So,e.lanes=i,e;case jo:return e=st(13,r,t,s),e.elementType=jo,e.lanes=i,e;case No:return e=st(19,r,t,s),e.elementType=No,e.lanes=i,e;case dh:return ka(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ch:a=10;break e;case uh:a=9;break e;case Pl:a=11;break e;case Ll:a=14;break e;case Kt:a=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=st(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Ar(e,t,r,n){return e=st(7,e,n,t),e.lanes=r,e}function ka(e,t,r,n){return e=st(22,e,n,t),e.elementType=dh,e.lanes=r,e.stateNode={isHidden:!1},e}function uo(e,t,r){return e=st(6,e,null,t),e.lanes=r,e}function ho(e,t,r){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lg(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ha(0),this.expirationTimes=Ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function vc(e,t,r,n,s,i,a,l,c){return e=new Lg(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=st(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ec(i),e}function Dg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function np(e){if(!e)return mr;e=e._reactInternals;e:{if(Ur(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var r=e.type;if(Fe(r))return rf(e,r,t)}return t}function sp(e,t,r,n,s,i,a,l,c){return e=vc(r,n,!0,e,s,i,a,l,c),e.context=np(null),r=e.current,n=Oe(),s=ur(r),i=Dt(n,s),i.callback=t??null,lr(r,i,s),e.current.lanes=s,Us(e,s,n),Be(e,n),e}function _a(e,t,r,n){var s=t.current,i=Oe(),a=ur(s);return r=np(r),t.context===null?t.context=r:t.pendingContext=r,t=Dt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=lr(s,t,a),e!==null&&(vt(e,s,a,i),Si(e,s,a)),a}function sa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function yc(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}function $g(){return null}var ip=typeof reportError=="function"?reportError:function(e){console.error(e)};function xc(e){this._internalRoot=e}Sa.prototype.render=xc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));_a(e,t,null,null)};Sa.prototype.unmount=xc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dr(function(){_a(null,e,null,null)}),t[Mt]=null}};function Sa(e){this._internalRoot=e}Sa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ph();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xt.length&&t!==0&&t<Xt[r].priority;r++);Xt.splice(r,0,e),r===0&&Dh(e)}};function wc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ja(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ku(){}function Mg(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=sa(a);i.call(u)}}var a=sp(t,n,e,0,null,!1,!1,"",Ku);return e._reactRootContainer=a,e[Mt]=a.current,ws(e.nodeType===8?e.parentNode:e),Dr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=sa(c);l.call(u)}}var c=vc(e,0,!1,null,null,!1,!1,"",Ku);return e._reactRootContainer=c,e[Mt]=c.current,ws(e.nodeType===8?e.parentNode:e),Dr(function(){_a(t,c,r,n)}),c}function Na(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=sa(a);l.call(c)}}_a(t,a,e,s)}else a=Mg(r,t,e,s,n);return sa(a)}Oh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Jn(t.pendingLanes);r!==0&&(Ml(t,r|1),Be(t,de()),!(G&6)&&(zn=de()+500,yr()))}break;case 13:Dr(function(){var n=Ut(e,1);if(n!==null){var s=Oe();vt(n,e,1,s)}}),yc(e,1)}};Ul=function(e){if(e.tag===13){var t=Ut(e,134217728);if(t!==null){var r=Oe();vt(t,e,134217728,r)}yc(e,134217728)}};Ih=function(e){if(e.tag===13){var t=ur(e),r=Ut(e,t);if(r!==null){var n=Oe();vt(r,e,t,n)}yc(e,t)}};Ph=function(){return K};Lh=function(e,t){var r=K;try{return K=e,t()}finally{K=r}};Lo=function(e,t,r){switch(t){case"input":if(zo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ga(n);if(!s)throw Error(E(90));fh(n),zo(n,s)}}}break;case"textarea":mh(e,r);break;case"select":t=r.value,t!=null&&gn(e,!!r.multiple,t,!1)}};kh=fc;_h=Dr;var Ug={usingClientEntryPoint:!1,Events:[Bs,on,ga,wh,bh,fc]},qn={findFiberByHostInstance:Er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fg={bundleType:qn.bundleType,version:qn.version,rendererPackageName:qn.rendererPackageName,rendererConfig:qn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nh(e),e===null?null:e.stateNode},findFiberByHostInstance:qn.findFiberByHostInstance||$g,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ui.isDisabled&&ui.supportsFiber)try{ha=ui.inject(Fg),Et=ui}catch{}}Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ug;Ye.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wc(t))throw Error(E(200));return Dg(e,t,null,r)};Ye.createRoot=function(e,t){if(!wc(e))throw Error(E(299));var r=!1,n="",s=ip;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=vc(e,1,!1,null,null,r,!1,n,s),e[Mt]=t.current,ws(e.nodeType===8?e.parentNode:e),new xc(t)};Ye.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=Nh(t),e=e===null?null:e.stateNode,e};Ye.flushSync=function(e){return Dr(e)};Ye.hydrate=function(e,t,r){if(!ja(t))throw Error(E(200));return Na(null,e,t,!0,r)};Ye.hydrateRoot=function(e,t,r){if(!wc(e))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=ip;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=sp(t,null,e,1,r??null,s,!1,i,a),e[Mt]=t.current,ws(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Sa(t)};Ye.render=function(e,t,r){if(!ja(t))throw Error(E(200));return Na(null,e,t,!1,r)};Ye.unmountComponentAtNode=function(e){if(!ja(e))throw Error(E(40));return e._reactRootContainer?(Dr(function(){Na(null,null,e,!1,function(){e._reactRootContainer=null,e[Mt]=null})}),!0):!1};Ye.unstable_batchedUpdates=fc;Ye.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ja(r))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Na(e,t,r,!1,n)};Ye.version="18.3.1-next-f1338f8080-20240426";function ap(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ap)}catch(e){console.error(e)}}ap(),ih.exports=Ye;var Bg=ih.exports,Ju=Bg;ko.createRoot=Ju.createRoot,ko.hydrateRoot=Ju.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),P=(e,t)=>{const r=z.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>z.createElement("svg",{ref:d,...Vg,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${qg(e)}`,l].join(" "),...u},[...t.map(([g,f])=>z.createElement(g,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=P("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=P("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=P("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=P("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=P("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=P("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=P("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=P("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=P("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=P("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=P("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=P("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=P("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=P("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=P("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=P("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=P("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=P("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=P("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=P("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=P("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=P("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=P("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=P("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=P("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=P("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=P("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=P("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=P("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=P("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=P("KanbanSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=P("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=P("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=P("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=P("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=P("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=P("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=P("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=P("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=P("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=P("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=P("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=P("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=P("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=P("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=P("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=P("SearchX",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=P("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=P("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=P("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=P("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=P("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=P("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=P("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=P("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=P("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=P("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=P("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=P("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=P("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=P("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=P("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Zu;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(Zu||(Zu={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ed;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(ed||(ed={}));var td;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(td||(td={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=["user","model","function","system"];var nd;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(nd||(nd={}));var sd;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(sd||(sd={}));var id;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(id||(id={}));var ad;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(ad||(ad={}));var cs;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(cs||(cs={}));var od;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(od||(od={}));var ld;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(ld||(ld={}));var cd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(cd||(cd={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Hr extends ze{constructor(t,r){super(t),this.response=r}}class hp extends ze{constructor(t,r,n,s){super(t),this.status=r,this.statusText=n,this.errorDetails=s}}class hr extends ze{}class fp extends ze{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="https://generativelanguage.googleapis.com",zv="v1beta",Tv="0.24.1",Rv="genai-js";var $r;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})($r||($r={}));class Av{constructor(t,r,n,s,i){this.model=t,this.task=r,this.apiKey=n,this.stream=s,this.requestOptions=i}toString(){var t,r;const n=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||zv;let i=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||Cv}/${n}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function Ov(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${Rv}/${Tv}`),t.join(" ")}async function Iv(e){var t;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",Ov(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(s){throw new hr(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${s.message}`)}for(const[s,i]of n.entries()){if(s==="x-goog-api-key")throw new hr(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new hr(`Header name ${s} can only be set using the apiClient field`);r.append(s,i)}}return r}async function Pv(e,t,r,n,s,i){const a=new Av(e,t,r,n,i);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},Mv(i)),{method:"POST",headers:await Iv(a),body:s})}}async function qs(e,t,r,n,s,i={},a=fetch){const{url:l,fetchOptions:c}=await Pv(e,t,r,n,s,i);return Lv(l,c,a)}async function Lv(e,t,r=fetch){let n;try{n=await r(e,t)}catch(s){Dv(s,e)}return n.ok||await $v(n,e),n}function Dv(e,t){let r=e;throw r.name==="AbortError"?(r=new fp(`Request aborted when fetching ${t.toString()}: ${e.message}`),r.stack=e.stack):e instanceof hp||e instanceof hr||(r=new ze(`Error fetching from ${t.toString()}: ${e.message}`),r.stack=e.stack),r}async function $v(e,t){let r="",n;try{const s=await e.json();r=s.error.message,s.error.details&&(r+=` ${JSON.stringify(s.error.details)}`,n=s.error.details)}catch{}throw new hp(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}function Mv(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Ii(e.candidates[0]))throw new Hr(`${Qt(e)}`,e);return Uv(e)}else if(e.promptFeedback)throw new Hr(`Text not available. ${Qt(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ii(e.candidates[0]))throw new Hr(`${Qt(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),ud(e)[0]}else if(e.promptFeedback)throw new Hr(`Function call not available. ${Qt(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ii(e.candidates[0]))throw new Hr(`${Qt(e)}`,e);return ud(e)}else if(e.promptFeedback)throw new Hr(`Function call not available. ${Qt(e)}`,e)},e}function Uv(e){var t,r,n,s;const i=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const a of(s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)a.text&&i.push(a.text),a.executableCode&&i.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&i.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function ud(e){var t,r,n,s;const i=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const a of(s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)a.functionCall&&i.push(a.functionCall);if(i.length>0)return i}const Fv=[cs.RECITATION,cs.SAFETY,cs.LANGUAGE];function Ii(e){return!!e.finishReason&&Fv.includes(e.finishReason)}function Qt(e){var t,r,n;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((n=e.candidates)===null||n===void 0)&&n[0]){const i=e.candidates[0];Ii(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function Ts(e){return this instanceof Ts?(this.v=e,this):new Ts(e)}function Bv(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(f){n[f]&&(s[f]=function(m){return new Promise(function(x,w){i.push([f,m,x,w])>1||l(f,m)})})}function l(f,m){try{c(n[f](m))}catch(x){g(i[0][3],x)}}function c(f){f.value instanceof Ts?Promise.resolve(f.value.v).then(u,d):g(i[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function g(f,m){f(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Vv(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=Gv(t),[n,s]=r.tee();return{stream:Hv(n),response:qv(s)}}async function qv(e){const t=[],r=e.getReader();for(;;){const{done:n,value:s}=await r.read();if(n)return bc(Wv(t));t.push(s)}}function Hv(e){return Bv(this,arguments,function*(){const r=e.getReader();for(;;){const{value:n,done:s}=yield Ts(r.read());if(s)break;yield yield Ts(bc(n))}})}function Gv(e){const t=e.getReader();return new ReadableStream({start(n){let s="";return i();function i(){return t.read().then(({value:a,done:l})=>{if(l){if(s.trim()){n.error(new ze("Failed to parse stream"));return}n.close();return}s+=a;let c=s.match(dd),u;for(;c;){try{u=JSON.parse(c[1])}catch{n.error(new ze(`Error parsing JSON response: "${c[1]}"`));return}n.enqueue(u),s=s.substring(c[0].length),c=s.match(dd)}return i()}).catch(a=>{let l=a;throw l.stack=a.stack,l.name==="AbortError"?l=new fp("Request aborted when reading from the stream"):l=new ze("Error reading from the stream"),l})}}})}function Wv(e){const t=e[e.length-1],r={promptFeedback:t==null?void 0:t.promptFeedback};for(const n of e){if(n.candidates){let s=0;for(const i of n.candidates)if(r.candidates||(r.candidates=[]),r.candidates[s]||(r.candidates[s]={index:s}),r.candidates[s].citationMetadata=i.citationMetadata,r.candidates[s].groundingMetadata=i.groundingMetadata,r.candidates[s].finishReason=i.finishReason,r.candidates[s].finishMessage=i.finishMessage,r.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){r.candidates[s].content||(r.candidates[s].content={role:i.content.role||"user",parts:[]});const a={};for(const l of i.content.parts)l.text&&(a.text=l.text),l.functionCall&&(a.functionCall=l.functionCall),l.executableCode&&(a.executableCode=l.executableCode),l.codeExecutionResult&&(a.codeExecutionResult=l.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),r.candidates[s].content.parts.push(a)}s++}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pp(e,t,r,n){const s=await qs(t,$r.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n);return Vv(s)}async function mp(e,t,r,n){const i=await(await qs(t,$r.GENERATE_CONTENT,e,!1,JSON.stringify(r),n)).json();return{response:bc(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Rs(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const r of e)typeof r=="string"?t.push({text:r}):t.push(r);return Kv(t)}function Kv(e){const t={role:"user",parts:[]},r={role:"function",parts:[]};let n=!1,s=!1;for(const i of e)"functionResponse"in i?(r.parts.push(i),s=!0):(t.parts.push(i),n=!0);if(n&&s)throw new ze("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!s)throw new ze("No content is provided for sending chat message.");return n?t:r}function Jv(e,t){var r;let n={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(r=t==null?void 0:t.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new hr("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(s)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{const i=Rs(e);n.contents=[i]}return{generateContentRequest:n}}function hd(e){let t;return e.contents?t=e:t={contents:[Rs(e)]},e.systemInstruction&&(t.systemInstruction=gp(e.systemInstruction)),t}function Qv(e){return typeof e=="string"||Array.isArray(e)?{content:Rs(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Yv={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Xv(e){let t=!1;for(const r of e){const{role:n,parts:s}=r;if(!t&&n!=="user")throw new ze(`First content should be with role 'user', got ${n}`);if(!rd.includes(n))throw new ze(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(rd)}`);if(!Array.isArray(s))throw new ze("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new ze("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of s)for(const c of fd)c in l&&(i[c]+=1);const a=Yv[n];for(const l of fd)if(!a.includes(l)&&i[l]>0)throw new ze(`Content with role '${n}' can't contain '${l}' part`);t=!0}}function pd(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const n of r.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="SILENT_ERROR";class Zv{constructor(t,r,n,s={}){this.model=r,this.params=n,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,n!=null&&n.history&&(Xv(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,r={}){var n,s,i,a,l,c;await this._sendPromise;const u=Rs(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},g=Object.assign(Object.assign({},this._requestOptions),r);let f;return this._sendPromise=this._sendPromise.then(()=>mp(this._apiKey,this.model,d,g)).then(m=>{var x;if(pd(m.response)){this._history.push(u);const w=Object.assign({parts:[],role:"model"},(x=m.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(w)}else{const w=Qt(m.response);w&&console.warn(`sendMessage() was unsuccessful. ${w}. Inspect response object for details.`)}f=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,f}async sendMessageStream(t,r={}){var n,s,i,a,l,c;await this._sendPromise;const u=Rs(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},g=Object.assign(Object.assign({},this._requestOptions),r),f=pp(this._apiKey,this.model,d,g);return this._sendPromise=this._sendPromise.then(()=>f).catch(m=>{throw new Error(md)}).then(m=>m.response).then(m=>{if(pd(m)){this._history.push(u);const x=Object.assign({},m.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=Qt(m);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(m=>{m.message!==md&&console.error(m)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ey(e,t,r,n){return(await qs(t,$r.COUNT_TOKENS,e,!1,JSON.stringify(r),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ty(e,t,r,n){return(await qs(t,$r.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}async function ry(e,t,r,n){const s=r.requests.map(a=>Object.assign(Object.assign({},a),{model:t}));return(await qs(t,$r.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,r,n={}){this.apiKey=t,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=gp(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(t,r={}){var n;const s=hd(t),i=Object.assign(Object.assign({},this._requestOptions),r);return mp(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),i)}async generateContentStream(t,r={}){var n;const s=hd(t),i=Object.assign(Object.assign({},this._requestOptions),r);return pp(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),i)}startChat(t){var r;return new Zv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},t),this._requestOptions)}async countTokens(t,r={}){const n=Jv(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),r);return ey(this.apiKey,this.model,n,s)}async embedContent(t,r={}){const n=Qv(t),s=Object.assign(Object.assign({},this._requestOptions),r);return ty(this.apiKey,this.model,n,s)}async batchEmbedContents(t,r={}){const n=Object.assign(Object.assign({},this._requestOptions),r);return ry(this.apiKey,this.model,t,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new ze("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new gd(this.apiKey,t,r)}getGenerativeModelFromCachedContent(t,r,n){if(!t.name)throw new hr("Cached content must contain a `name` field.");if(!t.model)throw new hr("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const a of s)if(r!=null&&r[a]&&t[a]&&(r==null?void 0:r[a])!==t[a]){if(a==="model"){const l=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,c=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(l===c)continue}throw new hr(`Different value for "${a}" specified in modelParams (${r[a]}) and cachedContent (${t[a]})`)}const i=Object.assign(Object.assign({},r),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new gd(this.apiKey,i,n)}}const vd=async(e,t,r,n=[],s,i)=>{var d,g;const a="AIzaSyBeMcxYmH6kdhcRaFrBZrX1Gw34qnSAF7Y",l=new ny(a),c=["gemini-flash-latest","gemini-2.0-flash-lite","gemini-2.0-flash"];let u=null;for(const f of c)try{const m=l.getGenerativeModel({model:f,tools:void 0}),x=s||t.maxResults,w=n.slice(-50),b=`REQ-${Date.now()}-${Math.floor(Math.random()*99999)}`,p=["Foque EXCLUSIVAMENTE em bairros perifricos e comerciais.","Busque 'Jias Escondidas': empresas locais pequenas.","Ignore franquias e grandes redes.","Priorize empresas recentemente adicionadas ao Google Maps.","Misture resultados de extremos opostos da cidade."],h=p[Math.floor(Math.random()*p.length)],v=[`Quantidade alvo: ${x} resultados distintos.`,t.minRating>0?`Nota mnima: ${t.minRating}.`:"",t.requirePhone?"OBRIGATRIO ter telefone vlido.":"",i?`IGNORAR cidade: ${i}`:"",w.length>0?`IGNORAR estes nomes: ${JSON.stringify(w)}`:""].filter(Boolean).join(`
`),k=`
        Voc  um buscador de leads industriais e comerciais. Responda APENAS em JSON.
        Formato: [{"name":"Nome","category":"Cat","rating":0.0,"reviews":0,"address":"Endereo","phone":"(00) 0000-0000","website":"https://...","instagram":"https://..."}]
      `,_=`
        ID: ${b} | Estratgia: ${h}
        Local: ${r?`${r.latitude}, ${r.longitude}`:"Padro"}
        Busca: "${e}"
        ${v}
      `,T=(await(await m.generateContent({contents:[{role:"user",parts:[{text:`${k}

${_}`}]}],generationConfig:{temperature:.7,topP:.95}})).response).text(),F=T.indexOf("["),U=T.lastIndexOf("]");if(F===-1||U===-1){if(T.length>0)return[];continue}const he=T.substring(F,U+1),Ze=JSON.parse(he);return Array.isArray(Ze)?Ze.map((W,zt)=>({id:`lead-${Date.now()}-${zt}-${Math.random().toString(36).substr(2,5)}`,name:W.name||"Sem Nome",category:W.category||"Geral",rating:W.rating||0,reviews:W.reviews||0,address:W.address||"Endereo no disponvel",phone:W.phone||"N/A",website:W.website||"N/A",googleMapsLink:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent((W.name||"")+" "+(W.address||""))}`,instagram:W.instagram!=="N/A"?W.instagram:void 0})):[]}catch(m){if(u=m,console.warn(`Erro no modelo ${f}:`,m.message),m.status===429||(d=m.message)!=null&&d.includes("429"))continue;break}if(u)throw u.status===429||((g=u.message)==null?void 0:g.includes("429"))?new Error("COTA EXCEDIDA: O Google limitou o uso da sua chave gratuita temporariamente. Por favor, aguarde alguns minutos e tente novamente."):new Error(u.message||"Erro na comunicao com a IA.");return[]};var nr=(e=>(e.NAME="name",e.RATING="rating",e.REVIEWS="reviews",e))(nr||{}),oa=(e=>(e.ASC="asc",e.DESC="desc",e))(oa||{});const sy=({leads:e,sortField:t,sortOrder:r,onSort:n,isSearching:s,onAddToCRM:i,savedLeadIds:a,hasCRMAccess:l=!0,hasWhatsAppAccess:c=!0})=>{const[u,d]=z.useState(null),g=(b,p)=>{navigator.clipboard.writeText(b),d(p),setTimeout(()=>d(null),2e3)},f=b=>t!==b?o.jsx(Kg,{className:"w-3.5 h-3.5 ml-1 text-zinc-300 dark:text-zinc-600"}):r===oa.ASC?o.jsx(Jg,{className:"w-3.5 h-3.5 ml-1 text-primary-600 dark:text-primary-400"}):o.jsx(Wg,{className:"w-3.5 h-3.5 ml-1 text-primary-600 dark:text-primary-400"}),m=b=>{const p=b.replace(/\D/g,"");return p.length<8?null:`https://wa.me/${p.length<=11?`55${p}`:p}`},x=b=>!b||b==="N/A"?"":b.startsWith("http")?b:`https://${b}`,w=b=>b&&b.toLowerCase().includes("instagram.com");return s?o.jsx("div",{className:"space-y-4 animate-pulse",children:o.jsx("div",{className:"overflow-x-auto pb-4",children:o.jsxs("table",{className:"w-full text-left border-collapse",children:[o.jsx("thead",{children:o.jsx("tr",{children:["Empresa","Categoria","Reputao","Canais"].map((b,p)=>o.jsx("th",{className:"px-6 py-4 text-xs font-bold text-zinc-400 dark:text-zinc-500 uppercase tracking-wider",children:b},p))})}),o.jsx("tbody",{className:"space-y-3",children:[1,2,3,4,5].map(b=>o.jsxs("tr",{className:"bg-white dark:bg-app-cardDark rounded-2xl border border-zinc-100 dark:border-zinc-800",children:[o.jsxs("td",{className:"px-6 py-5",children:[o.jsx("div",{className:"h-5 bg-zinc-200 dark:bg-zinc-700 rounded w-3/4 mb-2"}),o.jsx("div",{className:"h-3 bg-zinc-100 dark:bg-zinc-800 rounded w-1/2"})]}),o.jsx("td",{className:"px-6 py-5",children:o.jsx("div",{className:"h-6 bg-zinc-100 dark:bg-zinc-800 rounded-full w-24"})}),o.jsx("td",{className:"px-6 py-5",children:o.jsx("div",{className:"h-5 bg-zinc-200 dark:bg-zinc-700 rounded w-12"})}),o.jsx("td",{className:"px-6 py-5",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"h-8 w-8 bg-zinc-100 dark:bg-zinc-800 rounded-full"}),o.jsx("div",{className:"h-8 w-24 bg-zinc-100 dark:bg-zinc-800 rounded-md"})]})})]},b))})]})})}):e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-24 bg-white dark:bg-app-cardDark rounded-3xl border border-dashed border-zinc-300 dark:border-zinc-700 text-center px-4 animate-fade-in-up transition-colors",children:[o.jsx("div",{className:"bg-zinc-100 dark:bg-zinc-800 w-24 h-24 rounded-full flex items-center justify-center mb-6 shadow-sm",children:o.jsx(xv,{className:"w-10 h-10 text-zinc-400 dark:text-zinc-500"})}),o.jsx("h3",{className:"text-xl font-bold text-zinc-800 dark:text-zinc-200 mb-2",children:"Aguardando resultados"}),o.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 max-w-md text-sm leading-relaxed",children:"Sua lista de leads aparecer aqui. Utilize a busca acima para encontrar empresas no Google Maps."})]}):o.jsxs("div",{className:"space-y-4 animate-fade-in-up",children:[o.jsx("div",{className:"overflow-hidden rounded-2xl border border-zinc-100 dark:border-zinc-800",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left border-collapse",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-zinc-50/50 dark:bg-zinc-900/50",children:[o.jsx("th",{className:"px-6 py-4 text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider cursor-pointer hover:text-primary-600 dark:hover:text-primary-400 transition-colors select-none",onClick:()=>n(nr.NAME),children:o.jsxs("div",{className:"flex items-center",children:["Empresa ",f(nr.NAME)]})}),o.jsx("th",{className:"px-6 py-4 text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider select-none",children:"Categoria"}),o.jsx("th",{className:"px-6 py-4 text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider cursor-pointer hover:text-primary-600 dark:hover:text-primary-400 transition-colors select-none",onClick:()=>n(nr.RATING),children:o.jsxs("div",{className:"flex items-center",children:["Reputao ",f(nr.RATING)]})}),o.jsx("th",{className:"px-6 py-4 text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider select-none text-right",children:"Aes"})]})}),o.jsx("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:e.map((b,p)=>{const h=a.includes(b.id);return o.jsxs("tr",{className:"bg-white dark:bg-app-cardDark hover:bg-zinc-50/50 dark:hover:bg-zinc-800/30 transition-colors",style:{animationDelay:`${p*50}ms`},children:[o.jsx("td",{className:"px-6 py-4 align-top max-w-xs",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"flex items-center justify-between gap-2",children:o.jsxs("a",{href:x(b.googleMapsLink||""),target:"_blank",rel:"noopener noreferrer",className:"text-base font-bold text-zinc-900 dark:text-zinc-100 hover:text-primary-600 dark:hover:text-primary-400 transition-colors flex items-center gap-2 mb-1 truncate",title:"Abrir no Google Maps",children:[b.name,o.jsx(cp,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity text-primary-400 flex-shrink-0"})]})}),o.jsxs("div",{className:"flex items-start text-xs text-zinc-500 dark:text-zinc-400 mt-1 group/addr cursor-pointer",onClick:()=>g(b.address,`addr-${b.id}`),children:[o.jsx(Ai,{className:"w-3.5 h-3.5 mr-1.5 flex-shrink-0 text-zinc-400 dark:text-zinc-500 mt-0.5 group-hover/addr:text-primary-500 dark:group-hover/addr:text-primary-400 transition-colors"}),o.jsx("span",{className:"leading-snug line-clamp-2 group-hover/addr:text-primary-600 dark:group-hover/addr:text-primary-300 transition-colors",children:b.address}),u===`addr-${b.id}`?o.jsx(Lt,{className:"w-3 h-3 ml-2 text-success-500 flex-shrink-0 animate-in fade-in zoom-in"}):o.jsx(ia,{className:"w-3 h-3 ml-2 text-zinc-300 dark:text-zinc-600 opacity-0 group-hover/addr:opacity-100 transition-opacity hover:text-primary-500 dark:hover:text-primary-400 flex-shrink-0"})]})]})}),o.jsx("td",{className:"px-6 py-4 align-top",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-zinc-50 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 border border-zinc-200 dark:border-zinc-700 whitespace-nowrap",children:b.category})}),o.jsx("td",{className:"px-6 py-4 align-top",children:o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsxs("div",{className:"flex items-center bg-amber-50 dark:bg-amber-900/10 px-2 py-0.5 rounded border border-amber-100 dark:border-amber-900/30",children:[o.jsx(_v,{className:`w-3.5 h-3.5 mr-1.5 ${Number(b.rating)>0?"text-amber-500 fill-amber-500":"text-zinc-300 dark:text-zinc-600"}`}),o.jsx("span",{className:`font-bold text-sm ${Number(b.rating)>0?"text-amber-950 dark:text-amber-100":"text-zinc-400 dark:text-zinc-500"}`,children:b.rating!==0?b.rating:"-"})]}),o.jsxs("span",{className:"text-[10px] font-medium text-zinc-400 dark:text-zinc-500 mt-1 ml-1 uppercase tracking-wide",children:[b.reviews," reviews"]})]})}),o.jsx("td",{className:"px-6 py-4 align-top",children:o.jsxs("div",{className:"flex flex-col items-end gap-3",children:[o.jsx("div",{className:"flex items-center gap-2 justify-end",children:b.phone&&b.phone!=="N/A"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded px-2 py-1 group/phone",children:[o.jsx(zs,{className:"w-3 h-3 text-zinc-400 dark:text-zinc-500 mr-2"}),o.jsx("span",{className:"text-xs font-medium text-zinc-700 dark:text-zinc-300 select-all",children:b.phone}),o.jsx("button",{onClick:()=>g(b.phone,`phone-${b.id}`),className:"ml-2 p-0.5 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded transition-colors",children:u===`phone-${b.id}`?o.jsx(Lt,{className:"w-3 h-3 text-success-600 dark:text-success-400"}):o.jsx(ia,{className:"w-3 h-3 text-zinc-300 dark:text-zinc-600 hover:text-zinc-600 dark:hover:text-zinc-400"})})]}),c?o.jsx("a",{href:m(b.phone)||"#",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-7 h-7 bg-success-50 dark:bg-success-900/30 text-success-600 dark:text-success-400 rounded hover:bg-success-600 hover:text-white dark:hover:bg-success-500 dark:hover:text-white transition-all shadow-sm border border-success-200 dark:border-success-800/50 hover:border-success-600",title:"Conversar no WhatsApp",children:o.jsx(up,{className:"w-4 h-4"})}):o.jsx("button",{className:"flex items-center justify-center w-7 h-7 bg-zinc-100 dark:bg-zinc-800 text-zinc-400 rounded cursor-not-allowed border border-zinc-200 dark:border-zinc-700",title:"Disponvel no plano Start ou superior",children:o.jsx(Ot,{className:"w-3.5 h-3.5"})})]}):o.jsxs("span",{className:"text-xs text-zinc-300 dark:text-zinc-600 italic flex items-center pr-2",children:[o.jsx(zs,{className:"w-3 h-3 mr-2 opacity-50"})," N/A"]})}),o.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[b.website&&b.website!=="N/A"&&!w(b.website)&&o.jsx("a",{href:x(b.website),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-7 h-7 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 text-blue-600 dark:text-blue-400 rounded hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:border-blue-200 dark:hover:border-blue-800 transition-all",title:`Visitar: ${b.website}`,children:o.jsx(cv,{className:"w-3.5 h-3.5"})}),(b.instagram&&b.instagram!=="N/A"||w(b.website))&&o.jsx("a",{href:x(b.instagram||b.website),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-7 h-7 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 text-pink-600 dark:text-pink-400 rounded hover:bg-pink-50 dark:hover:bg-pink-900/30 hover:border-pink-200 dark:hover:border-pink-800 transition-all",title:"Instagram",children:o.jsx(hv,{className:"w-3.5 h-3.5"})}),o.jsx("button",{onClick:()=>!h&&i(b),disabled:h,className:`flex items-center gap-1.5 px-3 py-1.5 rounded text-xs font-bold transition-all border ${h?"bg-zinc-100 dark:bg-zinc-800 text-zinc-400 border-zinc-200 dark:border-zinc-700 cursor-default":l?"bg-success-600 hover:bg-success-700 text-white border-transparent shadow-sm shadow-success-500/20 active:scale-95":"bg-zinc-200 dark:bg-zinc-800 text-zinc-500 dark:text-zinc-400 border-transparent cursor-not-allowed hover:bg-zinc-300 dark:hover:bg-zinc-700"}`,title:h?"J adicionado ao CRM":l?"Adicionar ao CRM":"Exclusivo Planos Pro e Elite",children:h?o.jsxs(o.Fragment,{children:[o.jsx(Lt,{className:"w-3.5 h-3.5"}),o.jsx("span",{children:"Salvo"})]}):o.jsxs(o.Fragment,{children:[l?o.jsx(Yn,{className:"w-3.5 h-3.5"}):o.jsx(Ot,{className:"w-3.5 h-3.5"}),o.jsx("span",{children:"CRM"})]})})]})]})})]},b.id)})})]})})}),o.jsxs("div",{className:"flex justify-between items-center px-2 pt-2 text-xs text-zinc-400 dark:text-zinc-600 font-medium",children:[o.jsxs("span",{children:["Mostrando ",e.length," resultados"]}),o.jsx("span",{children:"Fonte: Google Maps"})]})]})},iy=[{id:"prospecting",label:"Prospeco",color:"bg-zinc-500",border:"border-zinc-200",icon:o.jsx(Xn,{className:"w-4 h-4"})},{id:"contacted",label:"Contato feito",color:"bg-primary-500",border:"border-primary-200",icon:o.jsx(zs,{className:"w-4 h-4"})},{id:"negotiation",label:"Negociao",color:"bg-indigo-500",border:"border-indigo-200",icon:o.jsx(op,{className:"w-4 h-4"})},{id:"won",label:"Ganho",color:"bg-success-500",border:"border-success-200",icon:o.jsx(dp,{className:"w-4 h-4"})},{id:"lost",label:"Perdido",color:"bg-danger-500",border:"border-danger-200",icon:o.jsx(Ev,{className:"w-4 h-4"})}],yd=e=>Number(e.replace(/\./g,"").replace(",","."))||0,ay=e=>{const t=new Date,r=t.getDate(),n=new Date(t);return r<e&&n.setMonth(n.getMonth()-1),n.setDate(e),n.setHours(0,0,0,0),n},oy=({leads:e,onStatusChange:t,onDelete:r,onUpdateLead:n,onDuplicate:s,readOnly:i=!1,goal:a=1e4,onSetGoal:l,resetDay:c=10})=>{const[u,d]=z.useState(null),[g,f]=z.useState(null),[m,x]=z.useState(null),[w,b]=z.useState(null),[p,h]=z.useState(""),[v,k]=z.useState(!1),[_,S]=z.useState(""),j=e.filter(O=>O.status==="won").filter(O=>new Date(O.updatedAt)>=ay(c)).reduce((O,H)=>O+(H.potentialValue||0),0),T=a>0?j/a*100:0,F=Math.min(T,100),U=j>=a,he=Math.max(0,a-j),Ze=(O,H)=>{i||(d(H),O.dataTransfer.effectAllowed="move",O.dataTransfer.setData("text/plain",H))},W=(O,H)=>{i||(O.preventDefault(),O.dataTransfer.dropEffect="move",g!==H&&f(H))},zt=(O,H)=>{if(O.preventDefault(),i)return;const Re=O.dataTransfer.getData("text/plain");Re&&(t(Re,H),d(null),f(null))},qt=(O,H)=>{if(O.stopPropagation(),i)return;b(H.id);const Re=H.potentialValue?H.potentialValue.toFixed(2).replace(".",","):"0,00";h(Re)},xt=O=>{const H=O.target.value.replace(/\D/g,""),Re=Number(H)/100;h(Re.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}))},wt=()=>{if(w){const O=yd(p);n(w,{potentialValue:O}),b(null)}},A=O=>{O.stopPropagation(),b(null)},M=O=>{O.key==="Enter"?wt():O.key==="Escape"&&b(null)},V=()=>{S(a.toFixed(2).replace(".",",")),k(!0)},J=O=>{const H=O.target.value.replace(/\D/g,""),Re=Number(H)/100;S(Re.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}))},Z=()=>{const O=yd(_);l&&l(O),k(!1)},bt=(O,H)=>{if(O.stopPropagation(),i)return;const tt={low:"medium",medium:"high",high:"low"}[H.priority];n(H.id,{priority:tt})},et=O=>{const H=new Date(O),tt=Math.floor((new Date().getTime()-H.getTime())/(1e3*60*60*24));return tt===0?"Hoje":tt===1?"Ontem":`${tt}d atrs`},ye=O=>{switch(O){case"high":return"text-danger-500 bg-danger-50 dark:bg-danger-900/20";case"medium":return"text-amber-500 bg-amber-50 dark:bg-amber-900/20";default:return"text-blue-500 bg-blue-50 dark:bg-blue-900/20"}},Ve=O=>{switch(O){case"high":return o.jsx(lv,{className:"w-3 h-3"});case"medium":return o.jsx(Hg,{className:"w-3 h-3"});default:return o.jsx(lp,{className:"w-3 h-3"})}},Le=O=>O>=100?"Parabns! Meta atingida, continue fazendo um timo trabalho.":O>=75?"Quase l! Falta muito pouco para bater a meta.":O>=50?"timo ritmo! Voc j chegou na metade do caminho.":O>=25?"Bom comeo! Continue focado nos resultados.":"";return o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:`
            @keyframes shimmer {
                0% { background-position: 200% 0; }
                100% { background-position: -200% 0; }
            }
            .animate-shimmer-bg {
                background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.4) 50%, rgba(255,255,255,0) 100%);
                background-size: 200% 100%;
                animation: shimmer 2.5s 2 linear forwards;
            }
        `}}),!i&&o.jsxs("div",{className:"mb-4 bg-app-cardLight dark:bg-app-cardDark rounded-xl p-4 flex items-center gap-6 border border-zinc-200 dark:border-zinc-700 relative overflow-hidden shadow-sm",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between mb-2 items-end",children:[o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsxs("span",{className:"text-xs font-bold uppercase text-zinc-500 dark:text-zinc-400 tracking-wider",children:["Progresso mensal ",U&&""]}),T>=25&&o.jsx("span",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400 animate-in fade-in slide-in-from-left-2 hidden sm:inline-block",children:Le(T)})]}),o.jsx("div",{className:"flex items-baseline gap-1",children:o.jsxs("span",{className:"text-zinc-900 dark:text-white font-bold",children:[Math.round(F),"%"]})})]}),o.jsx("div",{className:"w-full bg-zinc-200 dark:bg-zinc-700 h-2.5 rounded-full overflow-hidden relative",children:o.jsx("div",{className:`h-full transition-all duration-1000 rounded-full relative overflow-hidden ${U?"bg-gradient-to-r from-emerald-400 via-emerald-500 to-emerald-600 shadow-[0_0_10px_rgba(16,185,129,0.5)]":"bg-primary-500"}`,style:{width:`${Math.min(F,100)}%`},children:U&&o.jsx("div",{className:"absolute inset-0 animate-shimmer-bg"})})})]}),o.jsxs("div",{className:"flex gap-6 border-l border-zinc-200 dark:border-zinc-700 pl-6",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"block text-[10px] uppercase font-bold text-zinc-500 dark:text-zinc-400 mb-0.5",children:"Ganho (ms)"}),o.jsxs("span",{className:`block text-lg font-bold ${U?"text-success-600 dark:text-success-400":"text-primary-600 dark:text-primary-400"}`,children:["R$ ",j.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-[10px] uppercase font-bold text-zinc-500 dark:text-zinc-400 mb-0.5",children:"Falta"}),o.jsxs("span",{className:"block text-lg font-bold text-zinc-400 dark:text-zinc-500",children:["R$ ",he.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),o.jsxs("div",{onClick:V,className:"cursor-pointer group relative pl-4 border-l border-zinc-200 dark:border-zinc-700",children:[o.jsx("span",{className:"block text-[10px] uppercase font-bold text-zinc-500 dark:text-zinc-400 mb-0.5",children:"Meta mensal"}),v?o.jsxs("div",{className:"flex items-center gap-1 absolute top-4 right-0 bg-white dark:bg-zinc-800 shadow-lg p-1 rounded-lg z-10 border border-primary-200",children:[o.jsx("span",{className:"text-xs font-bold text-zinc-400 pl-1",children:"R$"}),o.jsx("input",{autoFocus:!0,type:"text",value:_,onChange:J,onBlur:()=>setTimeout(Z,200),onKeyDown:O=>O.key==="Enter"&&Z(),className:"w-24 text-sm font-bold p-1 bg-transparent outline-none border-b border-primary-500 text-zinc-900 dark:text-white text-right"}),o.jsx("button",{onMouseDown:O=>{O.preventDefault(),Z()},children:o.jsx(Lt,{className:"w-4 h-4 text-green-500"})})]}):o.jsxs("div",{className:"flex items-center gap-1 group-hover:bg-zinc-200 dark:group-hover:bg-zinc-700 rounded px-1 -ml-1 transition-colors",children:[o.jsxs("span",{className:"block text-lg font-bold text-zinc-900 dark:text-white",children:["R$ ",a.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),o.jsx(gl,{className:"w-3 h-3 text-zinc-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})]})]})]}),o.jsx("div",{className:"flex h-full gap-6 overflow-x-auto pb-4 items-start select-none",children:iy.map(O=>{const H=e.filter(B=>B.status===O.id),Re=H.reduce((B,re)=>B+(re.potentialValue||0),0),tt=g===O.id;let Fr="";return tt&&(O.id==="won"?Fr="ring-4 ring-success-400 bg-success-50 dark:bg-success-900/20 scale-[1.02] shadow-2xl shadow-success-500/30":O.id==="negotiation"?Fr="ring-4 ring-indigo-400 bg-indigo-50 dark:bg-indigo-900/20 scale-[1.02] shadow-2xl shadow-indigo-500/30":Fr="ring-2 ring-zinc-400 bg-zinc-50 dark:bg-zinc-800/80"),o.jsxs("div",{onDragOver:B=>W(B,O.id),onDrop:B=>zt(B,O.id),className:`flex-shrink-0 w-80 flex flex-col h-full max-h-full rounded-2xl transition-all duration-300 ${Fr}`,children:[o.jsxs("div",{className:`flex flex-col mb-2 p-2 rounded-t-2xl border-b-2 ${O.border.replace("border-","border-b-")} transition-colors`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`p-1.5 rounded-md ${O.color} bg-opacity-10 text-zinc-700 dark:text-zinc-200`,children:O.icon}),o.jsx("span",{className:"font-bold text-sm text-zinc-700 dark:text-zinc-200",children:O.label})]}),o.jsx("span",{className:"text-xs font-bold text-zinc-500 bg-zinc-200 dark:bg-zinc-800 px-2 py-0.5 rounded-full",children:H.length})]}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-zinc-500 font-medium pl-1",children:[o.jsx(tv,{className:"w-3 h-3"}),o.jsx("span",{children:Re.toLocaleString("pt-BR",{minimumFractionDigits:2})})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 p-2 pb-10 scrollbar-thin",children:[H.map(B=>o.jsxs("div",{draggable:!i,onDragStart:re=>Ze(re,B.id),onClick:()=>!i&&x(B),className:`group relative bg-app-cardLight dark:bg-app-cardDark p-4 rounded-xl shadow-sm border border-zinc-200 dark:border-zinc-700 transition-all duration-200 
                        ${i?"cursor-default opacity-80":"cursor-grab hover:shadow-lg hover:-translate-y-1 hover:border-primary-300 dark:hover:border-primary-700"} 
                        ${u===B.id?"opacity-40 border-dashed ring-2 ring-primary-400 rotate-2 scale-95":""}
                    `,children:[!i&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:re=>{re.stopPropagation(),s&&s(B)},className:"absolute top-2 right-9 p-1.5 rounded-lg bg-white dark:bg-zinc-700 text-zinc-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/30 opacity-0 group-hover:opacity-100 transition-all shadow-sm z-20 cursor-pointer",title:"Duplicar",children:o.jsx(ia,{className:"w-3.5 h-3.5"})}),o.jsx("button",{onClick:re=>{re.stopPropagation(),r(B.id)},className:"absolute top-2 right-2 p-1.5 rounded-lg bg-white dark:bg-zinc-700 text-zinc-400 hover:text-danger-500 hover:bg-danger-50 dark:hover:bg-danger-900/30 opacity-0 group-hover:opacity-100 transition-all shadow-sm z-20 cursor-pointer",title:"Excluir",children:o.jsx(aa,{className:"w-3.5 h-3.5"})})]}),o.jsx("div",{className:"flex justify-between items-start mb-3 pr-14",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:re=>bt(re,B),title:"Clique para mudar prioridade",className:`flex items-center gap-1 px-2 py-0.5 rounded-md text-[10px] font-bold uppercase tracking-wider border border-transparent transition-all active:scale-95 ${ye(B.priority)} hover:brightness-95 cursor-pointer select-none`,children:[Ve(B.priority)," ",B.priority==="high"?"Alta":B.priority==="medium"?"Mdia":"Baixa"]}),B.category!=="Manual"&&o.jsx("span",{className:"px-2 py-0.5 rounded-md text-[10px] font-medium bg-zinc-100 dark:bg-zinc-700 text-zinc-500 dark:text-zinc-400 border border-zinc-200 dark:border-zinc-600 truncate max-w-[80px]",children:B.category})]})}),o.jsx("h4",{className:"text-sm font-bold text-zinc-800 dark:text-zinc-100 leading-snug line-clamp-2 mb-2",children:B.name}),o.jsx("div",{className:"mb-3 relative z-10",onClick:re=>re.stopPropagation(),children:w===B.id?o.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in zoom-in-95 duration-100 bg-zinc-50 dark:bg-zinc-900 p-1.5 rounded-lg border border-primary-200 dark:border-primary-800 shadow-sm",children:[o.jsx("span",{className:"text-xs font-bold text-zinc-400 pl-1",children:"R$"}),o.jsx("input",{autoFocus:!0,type:"text",value:p,onChange:xt,onKeyDown:M,className:"w-full text-sm font-bold text-zinc-900 dark:text-white bg-transparent outline-none min-w-0"}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onMouseDown:re=>{re.preventDefault(),wt()},className:"p-1 bg-green-500 hover:bg-green-600 text-white rounded transition-colors",children:o.jsx(Lt,{className:"w-3.5 h-3.5"})}),o.jsx("button",{onMouseDown:A,className:"p-1 bg-zinc-200 hover:bg-zinc-300 dark:bg-zinc-700 dark:hover:bg-zinc-600 text-zinc-500 dark:text-zinc-300 rounded transition-colors",children:o.jsx(pn,{className:"w-3.5 h-3.5"})})]})]}):o.jsxs("div",{onClick:re=>qt(re,B),className:`inline-flex items-center gap-1.5 py-1 px-2 -ml-2 rounded-lg transition-all ${i?"":"cursor-pointer hover:bg-zinc-50 dark:hover:bg-zinc-700/50 group/value border border-transparent hover:border-zinc-200 dark:hover:border-zinc-700"}`,children:[o.jsxs("div",{className:"flex items-baseline gap-1",children:[o.jsx("span",{className:"text-zinc-400 font-medium text-xs",children:"R$"}),o.jsx("span",{className:"font-bold text-zinc-700 dark:text-zinc-200 text-base tracking-tight",children:B.potentialValue?B.potentialValue.toLocaleString("pt-BR",{minimumFractionDigits:2}):"0,00"})]}),!i&&o.jsx(gl,{className:"w-3 h-3 text-zinc-300 opacity-0 group-hover/value:opacity-100 transition-opacity"})]})}),B.notes&&B.notes.trim()!==""&&o.jsx("div",{className:"mb-3 p-2 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-zinc-100 dark:border-zinc-700/50",children:o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(av,{className:"w-3 h-3 text-zinc-400 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 line-clamp-2 italic leading-relaxed",children:B.notes})]})}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-zinc-100 dark:border-zinc-700/50",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[B.tags&&B.tags.length>0&&o.jsxs("div",{className:"flex -space-x-1",children:[B.tags.slice(0,2).map((re,Br)=>o.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-400 ring-1 ring-white dark:ring-zinc-800",title:re},Br)),B.tags.length>2&&o.jsx("div",{className:"w-2 h-2 rounded-full bg-zinc-300 ring-1 ring-white"})]}),o.jsx("span",{className:"text-[10px] text-zinc-400 font-medium",children:et(B.updatedAt)})]}),o.jsxs("div",{className:"flex gap-1",children:[B.phone&&B.phone!=="N/A"&&o.jsx("button",{onClick:re=>{re.stopPropagation(),window.open(`https://wa.me/${B.phone.replace(/\D/g,"")}`,"_blank")},className:"p-1.5 hover:bg-green-100 dark:hover:bg-green-900/30 text-zinc-400 hover:text-green-600 rounded-md transition-colors relative z-10",children:o.jsx(up,{className:"w-3.5 h-3.5"})}),B.email&&o.jsx("button",{onClick:re=>{re.stopPropagation(),window.open(`mailto:${B.email}`,"_blank")},className:"p-1.5 hover:bg-blue-100 dark:hover:bg-blue-900/30 text-zinc-400 hover:text-blue-600 rounded-md transition-colors relative z-10",children:o.jsx(Ea,{className:"w-3.5 h-3.5"})})]})]})]},B.id)),H.length===0&&!i&&o.jsxs("div",{className:`border-2 border-dashed rounded-xl h-32 flex flex-col items-center justify-center text-zinc-400 text-xs gap-2 transition-all duration-300 ${tt?"border-primary-300 bg-primary-50/20":"border-zinc-200 dark:border-zinc-800"}`,children:[o.jsx("div",{className:`p-2 rounded-full transition-all ${tt?"bg-primary-100 text-primary-500 scale-110":"bg-zinc-100 dark:bg-zinc-800"}`,children:O.icon}),o.jsx("p",{className:tt?"text-primary-500 font-bold":"",children:"Arraste aqui"})]})]})]},O.id)})}),m&&!i&&o.jsx(ly,{lead:m,onClose:()=>x(null),onSave:(O,H)=>{n(O,H),x(null)},onDelete:r})]})},ly=({lead:e,onClose:t,onSave:r,onDelete:n})=>{const[s,i]=z.useState({name:e.name,potentialValue:e.potentialValue||0,phone:e.phone,email:e.email||"",priority:e.priority||"medium",notes:e.notes||"",tags:e.tags?e.tags.join(", "):""}),[a,l]=z.useState(()=>(e.potentialValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})),c=d=>{const g=d.target.value.replace(/\D/g,""),f=Number(g)/100;l(f.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})),i(m=>({...m,potentialValue:f}))},u=d=>{d.preventDefault(),r(e.id,{...s,tags:s.tags.split(",").map(g=>g.trim()).filter(Boolean),updatedAt:new Date().toISOString()})};return o.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-zinc-900/60",onClick:t}),o.jsxs("div",{className:"bg-app-cardLight dark:bg-app-cardDark w-full max-w-2xl relative z-10 flex flex-col max-h-[90vh] animate-fade-in-up border border-zinc-200 dark:border-zinc-800",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-zinc-100 dark:border-zinc-800",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[o.jsx(gl,{className:"w-5 h-5 text-primary-500"}),"Editar oportunidade"]}),o.jsxs("p",{className:"text-sm text-zinc-500",children:["ID: ",e.id.slice(0,8),"..."]})]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full transition-colors",children:o.jsx(pn,{className:"w-5 h-5 text-zinc-500"})})]}),o.jsx("form",{onSubmit:u,className:"flex-1 overflow-y-auto p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Nome da empresa"}),o.jsx("input",{required:!0,type:"text",value:s.name,onChange:d=>i({...s,name:d.target.value}),className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Valor"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-3 text-zinc-400 font-bold text-xs",children:"R$"}),o.jsx("input",{type:"text",value:a,onChange:c,className:"w-full pl-9 p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white font-bold"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Prioridade"}),o.jsxs("select",{value:s.priority,onChange:d=>i({...s,priority:d.target.value}),className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white",children:[o.jsx("option",{value:"low",children:"Baixa"}),o.jsx("option",{value:"medium",children:"Mdia"}),o.jsx("option",{value:"high",children:"Alta "})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Tags (separadas por vrgula)"}),o.jsxs("div",{className:"relative",children:[o.jsx(Sv,{className:"absolute left-3 top-3.5 w-4 h-4 text-zinc-400"}),o.jsx("input",{type:"text",value:s.tags,onChange:d=>i({...s,tags:d.target.value}),placeholder:"Ex: Quente, Indicao, SP",className:"w-full pl-10 p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Telefone / WhatsApp"}),o.jsxs("div",{className:"relative",children:[o.jsx(zs,{className:"absolute left-3 top-3.5 w-4 h-4 text-zinc-400"}),o.jsx("input",{type:"text",value:s.phone,onChange:d=>i({...s,phone:d.target.value}),className:"w-full pl-10 p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"E-mail"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ea,{className:"absolute left-3 top-3.5 w-4 h-4 text-zinc-400"}),o.jsx("input",{type:"email",value:s.email,onChange:d=>i({...s,email:d.target.value}),placeholder:"contato@empresa.com",className:"w-full pl-10 p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white"})]})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Notas & Observaes"}),o.jsx("textarea",{rows:4,value:s.notes,onChange:d=>i({...s,notes:d.target.value}),className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white resize-none",placeholder:"Detalhes da negociao..."})]})]})]})}),o.jsxs("div",{className:"p-6 border-t border-zinc-100 dark:border-zinc-800 flex justify-between items-center bg-zinc-50 dark:bg-zinc-900/50 rounded-b-2xl",children:[o.jsxs("button",{type:"button",onClick:()=>{confirm("Tem certeza que deseja excluir este negcio?")&&(n(e.id),t())},className:"flex items-center gap-2 text-danger-500 hover:text-danger-700 font-medium px-4 py-2 hover:bg-danger-50 dark:hover:bg-danger-900/20 rounded-lg transition-colors",children:[o.jsx(aa,{className:"w-4 h-4"})," Excluir"]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:t,className:"px-6 py-2.5 text-zinc-600 dark:text-zinc-300 font-bold hover:bg-zinc-200 dark:hover:bg-zinc-800 rounded-xl transition-colors",children:"Cancelar"}),o.jsxs("button",{type:"button",onClick:u,className:"px-6 py-2.5 bg-success-600 hover:bg-success-700 text-white font-bold rounded-xl shadow-lg shadow-success-500/20 flex items-center gap-2",children:[o.jsx(yv,{className:"w-4 h-4"})," Salvar alteraes"]})]})]})]})]})};function Ca(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function cy(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(g){a(g)}}function c(d){try{u(n.throw(d))}catch(g){a(g)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}const uy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class kc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class dy extends kc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class xd extends kc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class wd extends kc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var vl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(vl||(vl={}));class hy{constructor(t,{headers:r={},customFetch:n,region:s=vl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=uy(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return cy(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:g}=n;let f={},{region:m}=n;m||(m=this.region);const x=new URL(`${this.url}/${r}`);m&&m!=="any"&&(f["x-region"]=m,x.searchParams.set("forceFunctionRegion",m));let w;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(f["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(f["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let b=d;g&&(a=new AbortController,i=setTimeout(()=>a.abort(),g),d?(b=a.signal,d.addEventListener("abort",()=>a.abort())):b=a.signal);const p=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:w,signal:b}).catch(_=>{throw new dy(_)}),h=p.headers.get("x-relay-error");if(h&&h==="true")throw new xd(p);if(!p.ok)throw new wd(p);let v=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),k;return v==="application/json"?k=yield p.json():v==="application/octet-stream"||v==="application/pdf"?k=yield p.blob():v==="text/event-stream"?k=p:v==="multipart/form-data"?k=yield p.formData():k=yield p.text(),{data:k,error:null,response:p}}catch(l){return{data:null,error:l,response:l instanceof wd||l instanceof xd?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var fy=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},py=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var g,f;if(r.method!=="HEAD"){var m;const p=await i.text();p===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=p:l=JSON.parse(p))}const w=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),b=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&b&&b.length>1&&(c=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var x;const w=await i.text();try{a=JSON.parse(w),Array.isArray(a)&&i.status===404&&(l=[],a=null,u=200,d="OK")}catch{i.status===404&&w===""?(u=204,d="No Content"):a={message:w}}if(a&&r.isMaybeSingle&&(!(a==null||(x=a.details)===null||x===void 0)&&x.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&r.shouldThrowOnError)throw new fy(a)}return{error:a,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let l="",c="",u="";const d=i==null?void 0:i.cause;if(d){var g,f,m,x;const p=(g=d==null?void 0:d.message)!==null&&g!==void 0?g:"",h=(f=d==null?void 0:d.code)!==null&&f!==void 0?f:"";l=`${(m=i==null?void 0:i.name)!==null&&m!==void 0?m:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(x=d==null?void 0:d.name)!==null&&x!==void 0?x:"Error"}: ${p}`,h&&(l+=` (${h})`),d!=null&&d.stack&&(l+=`
${d.stack}`)}else{var w;l=(w=i==null?void 0:i.stack)!==null&&w!==void 0?w:""}const b=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",c="Request was aborted (timeout or manual cancellation)",b>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${b} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",c="HTTP headers exceeded server limits (typically 16KB)",b>this.urlLengthLimit&&(c+=`. Your request URL is ${b} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:c,code:u},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},my=class extends py{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const bd=new RegExp("[,()]");var Xr=class extends my{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&bd.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&bd.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},gy=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",a),n&&c.append("Prefer",`count=${n}`),new Xr({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),r||a.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Xr({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,g)=>d.concat(Object.keys(g)),[]);if(u.length>0){const d=[...new Set(u)].map(g=>`"${g}"`);l.searchParams.set("columns",d.join(","))}}return new Xr({method:a,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Xr({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Xr({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function As(e){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(e)}function vy(e,t){if(As(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(As(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yy(e){var t=vy(e,"string");return As(t)=="symbol"?t:t+""}function xy(e,t,r){return(t=yy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kd(Object(r),!0).forEach(function(n){xy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var wy=class vp{constructor(t,{headers:r={},schema:n,fetch:s,timeout:i,urlLengthLimit:a=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=a;const l=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(c,u)=>{const d=new AbortController,g=setTimeout(()=>d.abort(),i),f=u==null?void 0:u.signal;if(f){if(f.aborted)return clearTimeout(g),l(c,u);const m=()=>{clearTimeout(g),d.abort()};return f.addEventListener("abort",m,{once:!0}),l(c,di(di({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(g),f.removeEventListener("abort",m)})}return l(c,di(di({},u),{},{signal:d.signal})).finally(()=>clearTimeout(g))}:this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new gy(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new vp(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),g=n&&Object.values(r).some(d);g?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,x])=>x!==void 0).map(([m,x])=>[m,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([m,x])=>{c.searchParams.append(m,x)})):(l="POST",u=r);const f=new Headers(this.headers);return g?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new Xr({method:l,url:c,headers:f,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class by{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ky="2.95.1",_y=`realtime-js/${ky}`,Sy="1.0.0",yp="2.0.0",_d=yp,yl=1e4,jy=1e3,Ny=100;var Yt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Yt||(Yt={}));var me;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(me||(me={}));var pt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pt||(pt={}));var xl;(function(e){e.websocket="websocket"})(xl||(xl={}));var jr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(jr||(jr={}));class Ey{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,i;const a=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length+g.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let x=new DataView(m),w=0;x.setUint8(w++,this.KINDS.userBroadcastPush),x.setUint8(w++,c.length),x.setUint8(w++,l.length),x.setUint8(w++,a.length),x.setUint8(w++,u.length),x.setUint8(w++,g.length),x.setUint8(w++,r),Array.from(c,p=>x.setUint8(w++,p.charCodeAt(0))),Array.from(l,p=>x.setUint8(w++,p.charCodeAt(0))),Array.from(a,p=>x.setUint8(w++,p.charCodeAt(0))),Array.from(u,p=>x.setUint8(w++,p.charCodeAt(0))),Array.from(g,p=>x.setUint8(w++,p.charCodeAt(0)));var b=new Uint8Array(m.byteLength+n.byteLength);return b.set(new Uint8Array(m),0),b.set(new Uint8Array(n),m.byteLength),b.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,l,c]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const g=n.decode(t.slice(c,c+a));c=c+a;const f=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,x={type:this.BROADCAST_EVENT,event:d,payload:m};return a>0&&(x.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class xp{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Y||(Y={}));const Sd=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=Cy(a,e,t,s),i),{}):{}},Cy=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?wp(i,a):wl(a)},wp=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Ay(t,r)}switch(e){case Y.bool:return zy(t);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return Ty(t);case Y.json:case Y.jsonb:return Ry(t);case Y.timestamp:return Oy(t);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return wl(t);default:return wl(t)}},wl=e=>e,zy=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ty=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ry=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Ay=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>wp(t,l))}return e},Oy=e=>typeof e=="string"?e.replace(" ","T"):e,bp=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class mo{constructor(t,r,n={},s=yl){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var jd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(jd||(jd={}));class us{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=us.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=us.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=us.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const g=i[u];if(g){const f=d.map(b=>b.presence_ref),m=g.map(b=>b.presence_ref),x=d.filter(b=>m.indexOf(b.presence_ref)<0),w=g.filter(b=>f.indexOf(b.presence_ref)<0);x.length>0&&(l[u]=x),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const g=t[l].map(m=>m.presence_ref),f=d.filter(m=>g.indexOf(m.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(g=>g.presence_ref);u=u.filter(g=>d.indexOf(g.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Nd||(Nd={}));var ds;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ds||(ds={}));var Rt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Rt||(Rt={}));class mn{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new mo(this,pt.join,this.params,this.timeout),this.rejoinTimer=new xp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=me.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pt.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new us(this),this.broadcastEndpointURL=bp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==me.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ds.PRESENCE]&&this.bindings[ds.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,g={},f={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Rt.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Rt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Rt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(x=w==null?void 0:w.length)!==null&&x!==void 0?x:0,p=[];for(let h=0;h<b;h++){const v=w[h],{filter:{event:k,schema:_,table:S,filter:j}}=v,T=m&&m[h];if(T&&T.event===k&&mn.isFilterValueEqual(T.schema,_)&&mn.isFilterValueEqual(T.table,S)&&mn.isFilterValueEqual(T.filter,j))p.push(Object.assign(Object.assign({},v),{id:T.id}));else{this.unsubscribe(),this.state=me.errored,t==null||t(Rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Rt.SUBSCRIBED);return}}).receive("error",m=>{this.state=me.errored,t==null||t(Rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===me.joined&&t===ds.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=me.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new mo(this,pt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=me.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new mo(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Ny){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=pt;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var x,w,b;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(w=m.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(m=>m.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var x,w,b,p,h,v;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const k=m.id,_=(x=m.filter)===null||x===void 0?void 0:x.event;return k&&((w=r.ids)===null||w===void 0?void 0:w.includes(k))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(h=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return k==="*"||k===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:w,table:b,commit_timestamp:p,type:h,errors:v}=x;f=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:p,eventType:h,new:{},old:{},errors:v}),this._getPayloadRecords(x))}m.callback(f,n)})}_isClosed(){return this.state===me.closed}_isJoined(){return this.state===me.joined}_isJoining(){return this.state===me.joining}_isLeaving(){return this.state===me.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&mn.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pt.close,{},t)}_onError(t){this._on(pt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=me.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Sd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Sd(t.columns,t.old_record)),r}}const go=()=>{},hi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Iy=[1e3,2e3,5e3,1e4],Py=1e4,Ly=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Dy{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yl,this.transport=null,this.heartbeatIntervalMs=hi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=go,this.ref=0,this.reconnectTimer=null,this.vsn=_d,this.logger=go,this.conn=null,this.sendBuffer=[],this.serializer=new Ey,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${xl.websocket}`,this.httpEndpoint=bp(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=by.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Yt.connecting:return jr.Connecting;case Yt.open:return jr.Open;case Yt.closing:return jr.Closing;default:return jr.Closed}}isConnected(){return this.connectionState()===jr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new mn(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(jy,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},hi.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Yt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Yt.open||this.conn.readyState===Yt.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(pt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Ly],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:_y};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(pt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new xp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,l,c,u,d,g,f,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:yl,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:hi.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:go,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:_d,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:x=>Iy[x-1]||Py,this.vsn){case Sy:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(x,w)=>w(JSON.stringify(x)),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:(x,w)=>w(JSON.parse(x));break;case yp:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Os=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function $y(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function My(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Uy(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const l=$y(e.baseUrl,n,s),c=await My(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),g=(u.headers.get("content-type")||"").includes("application/json"),f=g&&d?JSON.parse(d):d;if(!u.ok){const m=g?f:void 0,x=m==null?void 0:m.error;throw new Os((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function fi(e){return e.join("")}var Fy=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:fi(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fi(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fi(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fi(e.namespace)}`}),!0}catch(t){if(t instanceof Os&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Os&&r.status===409)return;throw r}}};function Gr(e){return e.join("")}var By=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Gr(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Gr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Os&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Os&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Vy=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Uy({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Fy(this.client,t),this.tableOps=new By(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},za=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Ta(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var pi=class extends za{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},kp=class extends za{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const qy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Hy=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},bl=e=>{if(Array.isArray(e))return e.map(r=>bl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=bl(n)}),t},Gy=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function Wy(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ky(e){var t=Wy(e,"string");return Is(t)=="symbol"?t:t+""}function Jy(e,t,r){return(t=Ky(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ed(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ed(Object(r),!0).forEach(function(n){Jy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ed(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Cd=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Qy=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new pi(Cd(a),i,l,n))}).catch(()=>{if(n==="vectors"){const a=i+"";t(new pi(s.statusText||`HTTP ${i} error`,i,a,n))}else{const a=i+"";t(new pi(s.statusText||`HTTP ${i} error`,i,a,n))}});else{const a=i+"";t(new pi(s.statusText||`HTTP ${i} error`,i,a,n))}}else t(new kp(Cd(e),e,n))},Yy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?$($({},s),r):(Hy(n)?(s.headers=$({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),$($({},s),r))};async function Gn(e,t,r,n,s,i,a){return new Promise((l,c)=>{e(r,Yy(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(a==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>Qy(u,c,n,a))})}function _p(e="storage"){return{get:async(t,r,n,s)=>Gn(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>Gn(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>Gn(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>Gn(t,"HEAD",r,$($({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>Gn(t,"DELETE",r,s,i,n,e)}}const Xy=_p("storage"),{get:Ps,post:ht,put:kl,head:Zy,remove:_c}=Xy,We=_p("vectors");var On=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=qy(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ta(r))return{data:null,error:r};throw r}}},ex=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ta(t))return{data:null,error:t};throw t}}};let Sp;Sp=Symbol.toStringTag;var tx=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Sp]="BlobDownloadBuilder",this.promise=null}asStream(){return new ex(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ta(t))return{data:null,error:t};throw t}}};const rx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var nx=class extends On{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i;const a=$($({},zd),n);let l=$($({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(l=$($({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),g=await(e=="PUT"?kl:ht)(s.fetch,`${s.url}/object/${d}`,i,$({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:g.Id,fullPath:g.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${a}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=$({upsert:zd.upsert},n),d=$($({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await kl(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=$({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await ht(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),l=a.searchParams.get("token");if(!l)throw new za("No token returned by API");return{signedUrl:a.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await ht(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await ht(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await ht(n.fetch,`${n.url}/object/sign/${s}`,$({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await ht(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(a=>$($({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"",a=this._getFinalPath(e),l=()=>Ps(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0},r);return new tx(l,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>bl(await Ps(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Zy(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ta(n)&&n instanceof kp){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await _c(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=$($($({},rx),t),{},{prefix:e||""});return await ht(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=$({},e);return await ht(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const sx="2.95.1",Hs={"X-Client-Info":`storage-js/${sx}`};var ix=class extends On{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=$($({},Hs),t);super(i,a,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Ps(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ps(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await ht(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await kl(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ht(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await _c(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},ax=class extends On{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=$($({},Hs),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ht(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Ps(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await _c(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Gy(e))throw new za("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Vy({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},ox=class extends On{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=$($({},Hs),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await We.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await We.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await We.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await We.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},lx=class extends On{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=$($({},Hs),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await We.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await We.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await We.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await We.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await We.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},cx=class extends On{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=$($({},Hs),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await We.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await We.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await We.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await We.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},ux=class extends cx{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new dx(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},dx=class extends ox{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new hx(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},hx=class extends lx{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},fx=class extends ix{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new nx(this.url,this.headers,e,this.fetch)}get vectors(){return new ux(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ax(this.url+"/iceberg",this.headers,this.fetch)}};const jp="2.95.1",Zr=30*1e3,_l=3,vo=_l*Zr,px="http://localhost:9999",mx="supabase.auth.token",gx={"X-Client-Info":`gotrue-js/${jp}`},Sl="X-Supabase-Api-Version",Np={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yx=10*60*1e3;class Ls extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function L(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class xx extends Ls{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function wx(e){return L(e)&&e.name==="AuthApiError"}class Nr extends Ls{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Vt extends Ls{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class He extends Vt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yo(e){return L(e)&&e.name==="AuthSessionMissingError"}class Wr extends Vt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mi extends Vt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class gi extends Vt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bx(e){return L(e)&&e.name==="AuthImplicitGrantRedirectError"}class Td extends Vt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kx extends Vt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class jl extends Vt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function xo(e){return L(e)&&e.name==="AuthRetryableFetchError"}class Rd extends Vt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Nl extends Vt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const la="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ad=` 	
\r=`.split(""),_x=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ad.length;t+=1)e[Ad[t].charCodeAt(0)]=-2;for(let t=0;t<la.length;t+=1)e[la[t].charCodeAt(0)]=t;return e})();function Od(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(la[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(la[n]),t.queuedBits-=6}}function Ep(e,t,r){const n=_x[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Id(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Nx(a,n,r)};for(let a=0;a<e.length;a+=1)Ep(e.charCodeAt(a),s,i);return t.join("")}function Sx(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jx(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Sx(n,t)}}function Nx(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function kn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Ep(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Ex(e){const t=[];return jx(e,r=>t.push(r)),new Uint8Array(t)}function Tr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Od(s,r,n)),Od(null,r,n),t.join("")}function Cx(e){return Math.round(Date.now()/1e3)+e}function zx(){return Symbol("auth-callback")}const ke=()=>typeof window<"u"&&typeof document<"u",wr={tested:!1,writable:!1},Cp=()=>{if(!ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wr.tested)return wr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wr.tested=!0,wr.writable=!0}catch{wr.tested=!0,wr.writable=!1}return wr.writable};function Tx(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const zp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Rx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",en=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},br=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},be=async(e,t)=>{await e.removeItem(t)};class Ra{constructor(){this.promise=new Ra.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ra.promiseConstructor=Promise;function vi(e){const t=e.split(".");if(t.length!==3)throw new Nl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!vx.test(t[n]))throw new Nl("JWT not in base64url format");return{header:JSON.parse(Id(t[0])),payload:JSON.parse(Id(t[1])),signature:kn(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ax(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ox(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function Ix(e){return("0"+e.toString(16)).substr(-2)}function Px(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Ix).join("")}async function Lx(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Dx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Lx(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kr(e,t,r=!1){const n=Px();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await en(e,`${t}-code-verifier`,s);const i=await Dx(n);return[i,n===i?"plain":"s256"]}const $x=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Mx(e){const t=e.headers.get(Sl);if(!t||!t.match($x))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ux(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Fx(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Bx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Jr(e){if(!Bx.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wo(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vx(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Pd(e){return JSON.parse(JSON.stringify(e))}const Sr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qx=[502,503,504];async function Ld(e){var t;if(!Rx(e))throw new jl(Sr(e),0);if(qx.includes(e.status))throw new jl(Sr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Nr(Sr(i),i)}let n;const s=Mx(e);if(s&&s.getTime()>=Np["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Rd(Sr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new He}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Rd(Sr(r),e.status,r.weak_password.reasons);throw new xx(Sr(r),e.status||500,n)}const Hx=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function D(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Sl]||(i[Sl]=Np["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await Gx(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Gx(e,t,r,n,s,i){const a=Hx(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new jl(Sr(c),0)}if(l.ok||await Ld(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Ld(c)}}function ut(e){var t;let r=null;Jx(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Cx(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Dd(e){const t=ut(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function er(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Wx(e){return{data:e,error:null}}function Kx(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Ca(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function $d(e){return e}function Jx(e){return e.access_token&&e.refresh_token&&e.expires_in}const bo=["global","local","others"];class Qx{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=zp(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=bo[0]){if(bo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bo.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:er})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ca(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Kx,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(L(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:er})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:$d});if(d.error)throw d.error;const g=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},g),u),error:null}}catch(u){if(L(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Jr(t);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:er})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Jr(t);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:er})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Jr(t);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:er})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Jr(t.userId);try{const{data:r,error:n}=await D(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(L(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Jr(t.userId),Jr(t.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:$d});if(d.error)throw d.error;const g=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},g),u),error:null}}catch(u){if(L(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await D(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await D(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await D(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}}function Md(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Qr={debug:!!(globalThis&&Cp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Tp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Yx extends Tp{}async function Xx(e,t,r){Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Yx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Zx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Rp(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function ew(e){return parseInt(e,16)}function tw(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function rw(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:g,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=Rp(e.address),x=d?`${d}://${n}`:n,w=e.statement?`${e.statement}
`:"",b=`${x} wants you to sign in with your Ethereum account:
${m}

${w}`;let p=`URI: ${g}
Version: ${f}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(p+=`
Expiration Time: ${s.toISOString()}`),l&&(p+=`
Not Before: ${l.toISOString()}`),c&&(p+=`
Request ID: ${c}`),u){let h=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);h+=`
- ${v}`}p+=h}return`${b}
${p}`}class fe extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class ca extends fe{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function nw({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Ap(a)){if(i.rp.id!==a)return new fe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function sw({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Ap(n)){if(r.rpId!==n)return new fe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class iw{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const aw=new iw;function ow(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Ca(e,["challenge","user","excludeCredentials"]),i=kn(t).buffer,a=Object.assign(Object.assign({},r),{id:kn(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:kn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function lw(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ca(e,["challenge","allowCredentials"]),s=kn(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:kn(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function cw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Tr(new Uint8Array(e.response.attestationObject)),clientDataJSON:Tr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function uw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Tr(new Uint8Array(s.authenticatorData)),clientDataJSON:Tr(new Uint8Array(s.clientDataJSON)),signature:Tr(new Uint8Array(s.signature)),userHandle:s.userHandle?Tr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ap(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ud(){var e,t;return!!(ke()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function dw(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ca("Browser returned unexpected credential type",t)}:{data:null,error:new ca("Empty credential response",t)}}catch(t){return{data:null,error:nw({error:t,options:e})}}}async function hw(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ca("Browser returned unexpected credential type",t)}:{data:null,error:new ca("Empty credential response",t)}}catch(t){return{data:null,error:sw({error:t,options:e})}}}const fw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},pw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ua(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const l=n[i];t(l)?n[i]=ua(l,a):n[i]=ua(a)}else n[i]=a}return n}function mw(e,t){return ua(fw,e,t||{})}function gw(e,t){return ua(pw,e,t||{})}class vw{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){var a;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=s??aw.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const g=n;if(g)d.name=`${d.id}:${g}`;else{const m=(await this.client.getUser()).data.user,x=((a=m==null?void 0:m.user_metadata)===null||a===void 0?void 0:a.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";d.name=`${d.id}:${x}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=mw(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:g,error:f}=await dw({publicKey:d,signal:u});return g?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:f}}case"request":{const d=gw(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:g,error:f}=await hw(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return g?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:f}}}}catch(l){return L(l)?{data:null,error:l}:{data:null,error:new Nr("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ls("rpId is required for WebAuthn authentication")};try{if(!Ud())return{data:null,error:new Nr("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return L(a)?{data:null,error:a}:{data:null,error:new Nr("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ls("rpId is required for WebAuthn registration")};try{if(!Ud())return{data:null,error:new Nr("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var g;return(g=d.data)===null||g===void 0?void 0:g.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return L(a)?{data:null,error:a}:{data:null,error:new Nr("Unexpected error in register",a)}}}}Zx();const yw={url:px,storageKey:mx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Fd(e,t,r){return await r()}const Yr={};class Ds{get jwks(){var t,r;return(r=(t=Yr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Yr[this.storageKey]=Object.assign(Object.assign({},Yr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Yr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Yr[this.storageKey]=Object.assign(Object.assign({},Yr[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},yw),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Ds.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ds.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ke()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Qx({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=zp(i.fetch),this.lock=i.lock||Fd,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&ke()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Xx:this.lock=Fd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new vw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Cp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Md(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Md(this.memoryStorage)),ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${jp}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(ke()&&(r=Tx(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ke()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),bx(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return L(r)?this._returnResult({error:r}):this._returnResult({error:new Nr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ut}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(L(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:g,options:f}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Kr(this.storage,this.storageKey)),i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:g,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:x},xform:ut})}else if("phone"in t){const{phone:d,password:g,options:f}=t;i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:g,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ut})}else throw new mi("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return await be(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await be(this.storage,`${this.storageKey}-code-verifier`),L(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dd})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dd})}else throw new mi("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Wr;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(L(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,l,c,u,d,g,f;let m,x;if("message"in t)m=t.message,x=t.signature;else{const{chain:w,wallet:b,statement:p,options:h}=t;let v;if(ke())if(typeof b=="object")v=b;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")v=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=b}const k=new URL((r=h==null?void 0:h.url)!==null&&r!==void 0?r:window.location.href),_=await v.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=Rp(_[0]);let j=(n=h==null?void 0:h.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const F=await v.request({method:"eth_chainId"});j=ew(F)}const T={domain:k.host,address:S,statement:p,uri:k.href,version:"1",chainId:j,nonce:(s=h==null?void 0:h.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=h==null?void 0:h.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=h==null?void 0:h.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=h==null?void 0:h.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=h==null?void 0:h.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=h==null?void 0:h.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=rw(T),x=await v.request({method:"personal_sign",params:[tw(m),S]})}try{const{data:w,error:b}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:x},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ut});if(b)throw b;if(!w||!w.session||!w.user){const p=new Wr;return this._returnResult({data:{user:null,session:null},error:p})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:b})}catch(w){if(L(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,s,i,a,l,c,u,d,g,f,m;let x,w;if("message"in t)x=t.message,w=t.signature;else{const{chain:b,wallet:p,statement:h,options:v}=t;let k;if(ke())if(typeof p=="object")k=p;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))k=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=p}const _=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const S=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),h?{statement:h}:null));let j;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")j=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)j=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)x=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),w=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${_.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((g=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||g===void 0)&&g.length?["Resources",...v.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const S=await k.signMessage(new TextEncoder().encode(x),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=S}}try{const{data:b,error:p}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Tr(w)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ut});if(p)throw p;if(!b||!b.session||!b.user){const h=new Wr;return this._returnResult({data:{user:null,session:null},error:h})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:p})}catch(b){if(L(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await br(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new kx;const{data:i,error:a}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ut});if(await be(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new Wr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await be(this.storage,`${this.storageKey}-code-verifier`),L(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ut}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Wr;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(L(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Kr(this.storage,this.storageKey));const{error:g}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new mi("You must provide either an email or phone number.")}catch(l){if(await be(this.storage,`${this.storageKey}-code-verifier`),L(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ut});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(L(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Kr(this.storage,this.storageKey));const u=await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Wx});return!((i=u.data)===null||i===void 0)&&i.url&&ke()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await be(this.storage,`${this.storageKey}-code-verifier`),L(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new He;const{error:s}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(L(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await D(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await D(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new mi("You must provide either an email or phone number and a type")}catch(r){if(L(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await br(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<vo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await br(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=wo()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=Vx(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:er}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new He}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:er})})}catch(r){if(L(r))return yo(r)&&(await this._removeSession(),await be(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new He;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Kr(this.storage,this.storageKey));const{data:u,error:d}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:er});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await be(this.storage,`${this.storageKey}-code-verifier`),L(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new He;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=vi(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(L(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new He;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(L(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ke())throw new gi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new gi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Td("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Td("No code detected.");const{data:h,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new gi("No session defined in URL");const d=Math.round(Date.now()/1e3),g=parseInt(l);let f=d+g;c&&(f=parseInt(c));const m=f-d;m*1e3<=Zr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${g}s`);const x=f-g;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:g,expires_at:f,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:t.type},error:null})}catch(n){if(L(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await br(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!yo(i))return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(wx(l)&&(l.status===404||l.status===401||l.status===403)||yo(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await be(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=zx(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Kr(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await be(this.storage,`${this.storageKey}-code-verifier`),L(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:g,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=g.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ke()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(L(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=t,g=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ut}),{data:f,error:m}=g;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Wr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(await be(this.storage,`${this.storageKey}-code-verifier`),L(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Ox(async s=>(s>0&&await Ax(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ut})),(s,i)=>{const a=200*Math.pow(2,s);return i&&xo(i)&&Date.now()+a-n<Zr})}catch(n){if(this._debug(r,"error",n),L(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ke()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await br(this.storage,this.storageKey);if(s&&this.userStorage){let a=await br(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await en(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:wo()}else if(s&&!s.user&&!s.user){const a=await br(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await be(this.storage,this.storageKey+"-user"),await en(this.storage,this.storageKey,s)):s.user=wo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<vo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${vo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),xo(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new He;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ra;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new He;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),L(i)){const a={data:null,error:i};return xo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await be(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await en(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Pd(s);await en(this.storage,this.storageKey,i)}else{const s=Pd(r);await en(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await be(this.storage,this.storageKey),await be(this.storage,this.storageKey+"-code-verifier"),await be(this.storage,this.storageKey+"-user"),this.userStorage&&await be(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Zr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Zr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Zr}ms, refresh threshold is ${_l} ticks`),s<=_l&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Tp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Kr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await D(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await D(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?cw(t.webauthn.credential_response):uw(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await D(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await D(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:ow(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:lw(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,i;if(t)try{const{payload:m}=vi(t);let x=null;m.aal&&(x=m.aal);let w=x;const{data:{user:b},error:p}=await this.getUser(t);if(p)return this._returnResult({data:null,error:p});((n=(r=b==null?void 0:b.factors)===null||r===void 0?void 0:r.filter(k=>k.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(w="aal2");const v=m.amr||[];return{data:{currentLevel:x,nextLevel:w,currentAuthenticationMethods:v},error:null}}catch(m){if(L(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=vi(a.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const f=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await D(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new He})})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new He});const a=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&ke()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new He});const a=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&ke()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await D(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new He})})}catch(t){if(L(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await D(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new He})})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+yx>s)return n;const{data:i,error:a}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:x}=await this.getSession();if(x||!m.session)return this._returnResult({data:null,error:x});n=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=vi(n);r!=null&&r.allowExpired||Ux(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const d=Fx(s.alg),g=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,g,a,Ex(`${l}.${c}`)))throw new Nl("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}}Ds.nextInstanceID={};const xw=Ds,ww="2.95.1";let Zn="";typeof Deno<"u"?Zn="deno":typeof document<"u"?Zn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zn="react-native":Zn="node";const bw={"X-Client-Info":`supabase-js-${Zn}/${ww}`},kw={headers:bw},_w={schema:"public"},Sw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jw={};function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function Nw(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ew(e){var t=Nw(e,"string");return $s(t)=="symbol"?t:t+""}function Cw(e,t,r){return(t=Ew(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bd(Object(r),!0).forEach(function(n){Cw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const zw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Tw=()=>Headers,Rw=(e,t,r)=>{const n=zw(r),s=Tw();return async(i,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,le(le({},a),{},{headers:u}))}};function Aw(e){return e.endsWith("/")?e:e+"/"}function Ow(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:g}=t,f={db:le(le({},c),s),auth:le(le({},u),i),realtime:le(le({},d),a),storage:{},global:le(le(le({},g),l),{},{headers:le(le({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function Iw(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Aw(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Pw=class extends xw{constructor(e){super(e)}},Lw=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=Iw(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:_w,realtime:jw,auth:le(le({},Sw),{},{storageKey:a}),global:kw},c=Ow(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Rw(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(le({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new wy(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new fx(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new hy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:l,debug:c,throwOnError:u},d,g){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Pw({url:this.authUrl.href,headers:le(le({},f),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:l,debug:c,throwOnError:u,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Dy(this.realtimeUrl.href,le(le({},e),{},{params:le(le({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Dw=(e,t,r)=>new Lw(e,t,r);function $w(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}$w()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Mw="https://tuysyojdayewvpuvunlu.supabase.co",Uw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR1eXN5b2pkYXlld3ZwdXZ1bmx1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAyOTk2MDMsImV4cCI6MjA4NTg3NTYwM30.GuJovxK_vAns1N5Mx1xT3tmOJ5tYQCdo46be1aS5yoU",fr=Dw(Mw,Uw),Fw=({onAuthSuccess:e})=>{const[t,r]=z.useState("signup"),[n,s]=z.useState(""),[i,a]=z.useState(""),[l,c]=z.useState(""),[u,d]=z.useState(""),[g,f]=z.useState(!1),[m,x]=z.useState(!1),[w,b]=z.useState(""),[p,h]=z.useState(""),v=S=>{const j={"Invalid login credentials":"Email ou senha incorretos","User already registered":"Este email j est cadastrado","Email not confirmed":"Email no confirmado. Verifique sua caixa de entrada","Invalid email":"Email invlido","Password should be at least 6 characters":"A senha deve ter no mnimo 6 caracteres","Email rate limit exceeded":"Muitas tentativas. Aguarde alguns minutos","Signup disabled":"Cadastro temporariamente desabilitado","User not found":"Usurio no encontrado","Invalid credentials":"Credenciais invlidas","Email link is invalid or has expired":"Link de email invlido ou expirado"};if(j[S])return j[S];for(const[T,F]of Object.entries(j))if(S.toLowerCase().includes(T.toLowerCase()))return F;return"Erro ao processar sua solicitao. Tente novamente"},k=async S=>{if(S.preventDefault(),!i){b("Por favor, informe seu email");return}x(!0),b(""),h("");try{const{error:j}=await fr.auth.resetPasswordForEmail(i,{redirectTo:`${window.location.origin}/reset-password`});if(j)throw j;h("Email de recuperao enviado! Verifique sua caixa de entrada.")}catch(j){b(v(j.message))}finally{x(!1)}},_=async S=>{if(S.preventDefault(),b(""),h(""),!i||!l){b("Preencha todos os campos");return}if(t==="signup"){if(!n.trim()){b("Por favor, informe seu nome");return}if(l!==u){b("As senhas no coincidem");return}if(l.length<6){b("A senha deve ter no mnimo 6 caracteres");return}}x(!0);try{if(t==="login"){const{data:j,error:T}=await fr.auth.signInWithPassword({email:i,password:l});if(T)throw T;j.user&&(h("Login realizado com sucesso!"),setTimeout(()=>e(),500))}else if(t==="signup"){const{data:j,error:T}=await fr.auth.signUp({email:i,password:l,options:{data:{full_name:n}}});if(T)throw T;j.user&&(h("Conta criada com sucesso! Voc j pode fazer login."),setTimeout(()=>{r("login"),c(""),d("")},1500))}}catch(j){console.error("Auth error:",j);const T=v(j.message||"Erro desconhecido");b(T)}finally{x(!1)}};return o.jsxs("div",{className:"min-h-screen w-full bg-slate-950 flex items-center justify-center p-4 overflow-hidden relative",children:[o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-primary-900/20 via-transparent to-transparent opacity-50"}),o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom_left,_var(--tw-gradient-stops))] from-blue-900/10 via-transparent to-transparent opacity-30"}),o.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8 animate-fade-in-up",children:[o.jsx("img",{src:"https://i.postimg.cc/0jF5PGV8/logo-beleads-h1-1.png",alt:"be.leads",className:"h-10 w-auto mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:t==="login"?"Bem-vindo de volta!":t==="signup"?"Criar sua conta":"Recuperar senha"}),o.jsx("p",{className:"text-slate-400 text-sm",children:t==="login"?"Entre na sua conta para continuar":t==="signup"?"Comece a extrair leads inteligentes hoje":"Informe o seu email para receber o link"})]}),o.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-xl p-8 animate-fade-in-up",style:{animationDelay:"100ms"},children:[t!=="forgot-password"&&o.jsxs("div",{className:"flex gap-2 mb-6 p-1 bg-slate-100 rounded-lg",children:[o.jsxs("button",{onClick:()=>{r("login"),b(""),h(""),s("")},className:`flex-1 py-2 px-4 rounded-md text-sm font-semibold transition-all ${t==="login"?"bg-primary-600 text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[o.jsx(gv,{className:"w-4 h-4 inline mr-2"}),"Entrar na conta"]}),o.jsxs("button",{onClick:()=>{r("signup"),b(""),h("")},className:`flex-1 py-2 px-4 rounded-md text-sm font-semibold transition-all ${t==="signup"?"bg-primary-600 text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[o.jsx(jv,{className:"w-4 h-4 inline mr-2"}),"Cadastro"]})]}),o.jsxs("form",{onSubmit:t==="forgot-password"?k:_,className:"space-y-4",children:[t==="signup"&&o.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[o.jsx("label",{className:"block text-[11px] font-bold text-slate-500 mb-2 uppercase tracking-widest",children:"Como voc se chama?"}),o.jsxs("div",{className:"relative",children:[o.jsx(Oi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx("input",{type:"text",value:n,onChange:S=>s(S.target.value),placeholder:"Seu nome",className:"w-full pl-10 pr-4 py-3 bg-white border border-slate-200 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all",disabled:m})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[11px] font-bold text-slate-500 mb-2 uppercase tracking-widest",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ea,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx("input",{type:"email",value:i,onChange:S=>a(S.target.value),placeholder:"seu@email.com",className:"w-full pl-10 pr-4 py-3 bg-white border border-slate-200 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all",disabled:m})]})]}),t!=="forgot-password"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-[11px] font-bold text-slate-500 mb-2 uppercase tracking-widest",children:"Senha"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx("input",{type:g?"text":"password",value:l,onChange:S=>c(S.target.value),placeholder:"",className:"w-full pl-10 pr-12 py-3 bg-white border border-slate-200 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all",disabled:m}),o.jsx("button",{type:"button",onClick:()=>f(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",children:g?o.jsx(nv,{className:"w-4 h-4"}):o.jsx(sv,{className:"w-4 h-4"})})]})]}),t==="signup"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-[11px] font-bold text-slate-500 mb-2 uppercase tracking-widest",children:"Confirmar Senha"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx("input",{type:g?"text":"password",value:u,onChange:S=>d(S.target.value),placeholder:"",className:"w-full pl-10 pr-4 py-3 bg-white border border-slate-200 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all",disabled:m})]})]}),w&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm animate-in fade-in slide-in-from-top-2",children:w}),p&&o.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg text-sm animate-in fade-in slide-in-from-top-2",children:p}),o.jsx("button",{type:"submit",disabled:m,className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-bold py-3 px-4 rounded-lg transition-all shadow-md shadow-primary-500/20 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:m?o.jsxs(o.Fragment,{children:[o.jsx(Ri,{className:"w-5 h-5 animate-spin"}),"Processando..."]}):o.jsxs(o.Fragment,{children:[t==="login"?"Entrar na conta":t==="signup"?"Criar Conta":"Enviar Link",o.jsx(ml,{className:"w-5 h-5"})]})})]}),o.jsxs("div",{className:"mt-6 text-center space-y-3",children:[t==="login"&&o.jsx("button",{onClick:()=>{r("forgot-password"),b(""),h("")},className:"text-sm text-slate-500 hover:text-primary-600 transition-colors font-medium border-b border-transparent hover:border-primary-600",children:"Esqueci minha senha"}),t==="forgot-password"&&o.jsx("button",{onClick:()=>{r("login"),b(""),h("")},className:"text-sm text-primary-600 hover:text-primary-700 transition-colors font-bold flex items-center justify-center gap-1 mx-auto",children:"Voltar para Entrar"})]})]}),o.jsxs("p",{className:"text-center text-slate-500 text-xs mt-8",children:["Ao continuar, voc concorda com nossos ",o.jsx("br",{}),o.jsx("span",{className:"font-semibold text-slate-400 cursor-pointer",children:"Termos de Uso"})," e ",o.jsx("span",{className:"font-semibold text-slate-500 cursor-pointer",children:"Poltica de Privacidade"})]})]})]})},Bw=async(e,t)=>{try{const{data:{session:r}}=await fr.auth.getSession();if(!r)throw new Error("Usurio no autenticado. Faa login para continuar.");const{data:n,error:s}=await fr.functions.invoke("create-checkout-session",{headers:{Authorization:`Bearer ${r.access_token}`},body:{priceId:e,isAnnual:t}});if(s)throw s;if(n!=null&&n.error)throw new Error(`Erro Backend: ${n.error}`);if(!(n!=null&&n.url))throw new Error("URL de checkout no retornada");window.location.href=n.url}catch(r){console.error("Erro detalhado checkout:",r);let n=r.message||"Erro desconhecido";throw r.context&&r.context.statusText&&(n=`Erro HTTP: ${r.context.status} - ${r.context.statusText}`),new Error(`Falha no pagamento: ${n}`)}},Vw={start:{monthly:"price_1Sxq2T3fc3cZuklGbIzlN56c",annual:"price_1Sxq5S3fc3cZuklGegcFe7cL"},pro:{monthly:"price_1Sxq5n3fc3cZuklG2IrwX16M",annual:"price_1Sxq613fc3cZuklG3yYIlRQ0"},elite:{monthly:"price_1Sxq6N3fc3cZuklGW6AYMwu2",annual:"price_1Sxq6g3fc3cZuklGcTVgVkZt"}},yi=(e,t)=>{try{const r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.warn(`Error parsing localStorage key "${e}":`,r),t}},qw=["Academias e Crossfit","Aougues e Frigorficos","Advocacia e Escritrios Jurdicos","Agncias de Marketing Digital","Agncias de Turismo","Arquitetura e Decorao","Autopeas e Acessrios","Barbearias","Bares e Pubs","Cafeterias e Docerias","Clnicas de Esttica","Clnicas Odontolgicas","Clnicas Veterinrias","Concessionrias de Veculos","Condomnios Residenciais","Construtoras e Incorporadoras","Consultrios Mdicos","Contabilidade","Corretoras de Seguros","Distribuidoras de Bebidas","Empresas de Energia Solar","Empresas de Engenharia","Escolas de Idiomas","Escolas Particulares","Farmcias e Drogarias","Floriculturas","Hamburguerias","Hotis e Pousadas","Imobilirias","Laboratrios de Anlises","Lojas de Calados","Lojas de Informtica","Lojas de Material de Construo","Lojas de Mveis","Lojas de Roupa Feminina","Lojas de Roupa Infantil","Lojas de Roupa Masculina","Lojas de Roupa Sport/Fitness","Lojas de Suplementos","Oficinas Mecnicas","ticas","Padarias","Pet Shops","Pizzarias","Restaurantes","Sales de Beleza","Supermercados","Transportadoras"].sort(),Vd=[{sigla:"AC",nome:"Acre"},{sigla:"AL",nome:"Alagoas"},{sigla:"AP",nome:"Amap"},{sigla:"AM",nome:"Amazonas"},{sigla:"BA",nome:"Bahia"},{sigla:"CE",nome:"Cear"},{sigla:"DF",nome:"Distrito Federal"},{sigla:"ES",nome:"Esprito Santo"},{sigla:"GO",nome:"Gois"},{sigla:"MA",nome:"Maranho"},{sigla:"MT",nome:"Mato Grosso"},{sigla:"MS",nome:"Mato Grosso do Sul"},{sigla:"MG",nome:"Minas Gerais"},{sigla:"PA",nome:"Par"},{sigla:"PB",nome:"Paraba"},{sigla:"PR",nome:"Paran"},{sigla:"PE",nome:"Pernambuco"},{sigla:"PI",nome:"Piau"},{sigla:"RJ",nome:"Rio de Janeiro"},{sigla:"RN",nome:"Rio Grande do Norte"},{sigla:"RS",nome:"Rio Grande do Sul"},{sigla:"RO",nome:"Rondnia"},{sigla:"RR",nome:"Roraima"},{sigla:"SC",nome:"Santa Catarina"},{sigla:"SP",nome:"So Paulo"},{sigla:"SE",nome:"Sergipe"},{sigla:"TO",nome:"Tocantins"}],qd=["Conectando ao Google Maps...","Aplicando filtro de anti-repetio...","Procurando por empresas na regio...","Diversificando resultados com IA...","Extraindo telefones e endereos...","Verificando avaliaes e reputao...","Formatando lista de contatos..."],Hd=["O sucesso  a soma de pequenos esforos repetidos dia aps dia.","A persistncia  o caminho do xito.","No espere por oportunidades, crie-as.","O nico lugar onde o sucesso vem antes do trabalho  no dicionrio.","Sua atitude determina sua altitude.","Foque no cliente, no na venda.","Grandes resultados requerem grandes ambies."],Hw=["","","","","","","","","","","","","","",""],Gd={free:0,start:1,pro:2,elite:3},Wd={free:{credits:50,whatsapp:!1,export:!1,crm:!1,name:"Free",priceMonthly:0,priceAnnual:0},start:{credits:300,whatsapp:!0,export:!0,crm:!1,name:"Start",priceMonthly:39,priceAnnual:374.4},pro:{credits:1500,whatsapp:!0,export:!0,crm:!0,name:"Pro",priceMonthly:69,priceAnnual:662.4},elite:{credits:5e3,whatsapp:!0,export:!0,crm:!0,name:"Elite",priceMonthly:149,priceAnnual:1430.4}},Gw=Array.from({length:33}).map((e,t)=>{const r=Math.floor(t/2)+6,n=t%2*30;return`${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}),Ww=[{id:"d1",name:"Construtora Elite",category:"Construo",rating:4.8,reviews:120,address:"Av. Paulista",phone:"1199999999",website:"",status:"prospecting",priority:"high",tags:["Quente"],addedAt:"",updatedAt:""},{id:"d2",name:"Clnica Sorriso",category:"Odontologia",rating:4.5,reviews:45,address:"Centro",phone:"1199999999",website:"",status:"contacted",priority:"medium",tags:[],addedAt:"",updatedAt:""},{id:"d3",name:"Tech Solutions",category:"TI",rating:5,reviews:12,address:"Vila Olmpia",phone:"1199999999",website:"",status:"negotiation",priority:"high",tags:[],addedAt:"",updatedAt:"",potentialValue:15e3}],Kw=e=>{const t=e.replace(/\D/g,"");return(Number(t)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},Jw=e=>Number(e.replace(/\D/g,""))/100,Qw=e=>(e=e.replace(/\D/g,""),e=e.replace(/^(\d{2})(\d)/g,"($1) $2"),e=e.replace(/(\d)(\d{4})$/,"$1-$2"),e),Yw=e=>{const t=new Date,r=t.getDate(),n=new Date(t);return r<e&&n.setMonth(n.getMonth()-1),n.setDate(e),n.setHours(0,0,0,0),n},Wt=(e,t)=>e?`user-${e}-${t}`:t,Xw=()=>{const[e,t]=z.useState(null),[r,n]=z.useState(!0),[s,i]=z.useState("light"),[a,l]=z.useState(!0),[c,u]=z.useState("home"),[d,g]=z.useState("monthly"),[f,m]=z.useState(null),x=z.useRef(null),[w,b]=z.useState([]),[p,h]=z.useState([]),[v,k]=z.useState([]),[_,S]=z.useState({name:"Usurio",email:"usuario@exemplo.com",avatar:"",avatarType:"emoji",avatarColor:"#0068ff",defaultState:"",defaultCity:"",pipelineGoal:1e4,pipelineResetDay:10,plan:"free",hideSheetsModal:!1,notifications:{email:!0,browser:!0,weeklyReport:!1}}),[j,T]=z.useState("guided"),[F,U]=z.useState(""),[he,Ze]=z.useState(""),[W,zt]=z.useState(_.defaultState||""),[qt,xt]=z.useState(_.defaultCity||""),[wt,A]=z.useState(""),[M,V]=z.useState(""),[J,Z]=z.useState([]),[bt,et]=z.useState(!1),[ye,Ve]=z.useState([]),[Le,O]=z.useState({isSearching:!1,error:null,hasSearched:!1}),[H,Re]=z.useState(!1),[tt,Fr]=z.useState(0),[B,re]=z.useState({maxResults:10,minRating:0,requirePhone:!1}),[Br,Ip]=z.useState(nr.RATING),[Aa,tb]=z.useState(oa.DESC),[Pp,Oa]=z.useState(!1),[Sc,Lp]=z.useState(!1),[jc,Dp]=z.useState(10),[$p,Mp]=z.useState(void 0),[Up,Ia]=z.useState("prompt"),[Fp,Nc]=z.useState([]),[Ec,Cc]=z.useState(!1),[Pa,Bp]=z.useState(""),[Vp,In]=z.useState(!1),[zc,Tc]=z.useState(""),[Rc,Ac]=z.useState(""),[lt,Oc]=z.useState(new Date),[De,qp]=z.useState(null),[Hp,Gs]=z.useState(!1),[kt,Ws]=z.useState({title:"",time:"",description:""}),[Ic,La]=z.useState(!1),Gp=z.useMemo(()=>{const y=Math.floor((new Date().getTime()-new Date(new Date().getFullYear(),0,0).getTime())/1e3/60/60/24);return Hd[y%Hd.length]},[]),Vr=Wd[_.plan]||Wd.free,Pn=Vr.credits,Ln=w.length,Da=Math.min(Ln/Pn*100,100),Ht=Vr.export,Wp=Vr.whatsapp,qe=Vr.crm,$a=z.useMemo(()=>{const y=_.pipelineResetDay||10,N=Yw(y);return p.filter(C=>C.status==="won").filter(C=>new Date(C.updatedAt)>=N).reduce((C,R)=>C+(R.potentialValue||0),0)},[p,_.pipelineResetDay]),Kp=()=>{if(!navigator.geolocation){ue("Geolocalizao no suportada no seu navegador","error");return}navigator.geolocation.getCurrentPosition(y=>{Mp(y.coords),Ia("granted"),ue("Localizao ativada com sucesso!","success")},y=>{console.error("Erro ao obter localizao:",y),Ia("denied"),ue("No foi possvel obter sua localizao","error")})},Pc=()=>{const y=w,N=p.map(R=>R.name);return Array.from(new Set([...y,...N]))};z.useEffect(()=>{fr.auth.getSession().then(({data:{session:N}})=>{t((N==null?void 0:N.user)??null),n(!1)});const{data:{subscription:y}}=fr.auth.onAuthStateChange((N,C)=>{t((C==null?void 0:C.user)??null)});return()=>y.unsubscribe()},[]),z.useEffect(()=>{var y,N;if(!r){const C=e==null?void 0:e.id;i(localStorage.getItem("theme")||"light"),C?(b(yi(Wt(C,"search-history"),[])),h(yi(Wt(C,"crm-leads"),[])),k(yi(Wt(C,"calendar-events"),[])),S(yi(Wt(C,"user-settings"),{name:((y=e.user_metadata)==null?void 0:y.full_name)||((N=e.email)==null?void 0:N.split("@")[0])||"Usurio",email:e.email||"usuario@exemplo.com",avatar:"",avatarType:"emoji",avatarColor:"#0068ff",defaultState:"",defaultCity:"",pipelineGoal:1e4,pipelineResetDay:10,plan:"free",hideSheetsModal:!1,notifications:{email:!0,browser:!0,weeklyReport:!1}}))):(b([]),h([]),k([]),u("home"))}},[e,r]),z.useEffect(()=>{localStorage.setItem("theme",s),s==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[s]),z.useEffect(()=>{document.title=`Ol, ${_.name.split(" ")[0]} - be.leads`},[_.name]),z.useEffect(()=>{e!=null&&e.id&&localStorage.setItem(Wt(e.id,"search-history"),JSON.stringify(w))},[w,e==null?void 0:e.id]),z.useEffect(()=>{e!=null&&e.id&&localStorage.setItem(Wt(e.id,"crm-leads"),JSON.stringify(p))},[p,e==null?void 0:e.id]),z.useEffect(()=>{e!=null&&e.id&&localStorage.setItem(Wt(e.id,"calendar-events"),JSON.stringify(v))},[v,e==null?void 0:e.id]),z.useEffect(()=>{e!=null&&e.id&&localStorage.setItem(Wt(e.id,"user-settings"),JSON.stringify(_))},[_,e==null?void 0:e.id]),z.useEffect(()=>{_.defaultState&&zt(_.defaultState),_.defaultCity&&xt(_.defaultCity)},[_.defaultState,_.defaultCity]),z.useEffect(()=>{let y;return(Le.isSearching||H)&&(y=setInterval(()=>Fr(N=>(N+1)%qd.length),2e3)),()=>clearInterval(y)},[Le.isSearching,H]),z.useEffect(()=>{if(!W){Z([]),xt("");return}et(!0),fetch(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${W}/municipios`).then(y=>y.json()).then(y=>{const N=y.map(C=>C.nome).sort((C,R)=>C.localeCompare(R));Z([...new Set(N)]),_.defaultCity&&W===_.defaultState&&!qt&&N.includes(_.defaultCity)&&xt(_.defaultCity)}).finally(()=>et(!1))},[W]),z.useEffect(()=>{if(!_.defaultState){Nc([]);return}Cc(!0),fetch(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${_.defaultState}/municipios`).then(y=>y.json()).then(y=>{const N=y.map(C=>C.nome).sort((C,R)=>C.localeCompare(R));Nc([...new Set(N)])}).finally(()=>Cc(!1))},[_.defaultState]);const ue=(y,N="success")=>{m({message:y,type:N}),setTimeout(()=>m(null),3e3)},Jp=y=>{var C;const N=(C=y.target.files)==null?void 0:C[0];if(N){const R=new FileReader;R.onloadend=()=>{S(Q=>({...Q,avatarType:"image",avatarImage:R.result}))},R.readAsDataURL(N)}y.target&&(y.target.value="")},Lc=async y=>{if(y&&y.preventDefault(),Ln>=Pn){ue("Limite de buscas atingido. Faa upgrade do plano!","error"),u("subscription");return}let N=F,C="";if(j==="guided"){if(!he||!W){ue("Preencha Nicho e Estado.","error");return}N=[he,wt,qt,W].filter(Boolean).length>1?`${he} em ${[wt,qt,W].filter(Boolean).join(", ")}`:"",U(N),C=M}if(!N.trim())return;O({isSearching:!0,error:null,hasSearched:!0}),Ve([]);const R=Pc();try{const Q=await vd(N,B,$p,R,void 0,C);Ve(Q),b(se=>[...se,...Q.map(_t=>_t.name)].slice(-500)),O(se=>({...se,isSearching:!1}))}catch(Q){O({isSearching:!1,error:Q.message,hasSearched:!0})}},Qp=async()=>{if(!F.trim())return;if(Ln>=Pn){ue("Limite de buscas atingido. Faa upgrade do plano!","error"),u("subscription");return}Re(!0);const y=ye.map(C=>C.name),N=[...Pc(),...y];try{const C=await vd(F,B,void 0,N,jc,M);Ve(R=>[...R,...C]),b(R=>[...R,...C.map(Q=>Q.name)].slice(-500))}catch(C){ue(C.message||"Erro ao carregar mais","error")}finally{Re(!1)}},Yp=y=>{if(!qe){ue("Recurso disponvel nos planos Pro e Elite.","error"),u("subscription");return}if(p.some(C=>C.id===y.id))return;const N={...y,status:"prospecting",addedAt:new Date().toISOString(),updatedAt:new Date().toISOString(),priority:"medium",tags:[]};h(C=>[...C,N]),ue(`${y.name} salvo no CRM!`)},Xp=y=>{if(!qe)return;const N={...y,id:`copy-${Date.now()}-${Math.random().toString(36).substr(2,5)}`,name:`${y.name} (Cpia)`,addedAt:new Date().toISOString(),updatedAt:new Date().toISOString()};h(C=>[...C,N]),ue("Card duplicado com sucesso!")},Zp=y=>{y.preventDefault();const N=new FormData(y.currentTarget),C=N.get("city"),R=N.get("uf"),Q=C&&R?`${C} - ${R}`:C||R||"N/A",se={id:`manual-${Date.now()}`,name:N.get("name"),phone:Rc||"N/A",address:Q,category:"Manual",rating:0,reviews:0,website:"N/A",status:"prospecting",priority:"medium",tags:["Manual"],addedAt:new Date().toISOString(),updatedAt:new Date().toISOString(),potentialValue:Jw(zc),notes:N.get("notes")};h(_t=>[..._t,se]),In(!1),Tc(""),Ac(""),ue("Oportunidade adicionada!")},Dc=y=>{qp(y),Ws({title:"",time:"",description:""}),La(!1),Gs(!0)},e0=y=>{if(y.preventDefault(),!kt.title.trim()||!De)return;const N=kt.time||"09:00",C={id:`evt-${Date.now()}`,date:De.toISOString().split("T")[0],title:kt.title,description:kt.description,time:N,type:"meeting"};k(R=>[...R,C]),Gs(!1),ue("Compromisso agendado!")},t0=(y,N)=>{h(C=>C.map(R=>R.id===y?{...R,status:N,updatedAt:new Date().toISOString()}:R))},r0=(y,N)=>{h(C=>C.map(R=>R.id===y?{...R,...N,updatedAt:new Date().toISOString()}:R))},n0=()=>{if(!Ht){ue("Recurso disponvel nos planos Start, Pro e Elite.","error"),u("subscription");return}if(ye.length===0)return;const y=["Nome","Categoria","Telefone","Endereo","Avaliao","Reviews","Site","Instagram"],N=ye.map(se=>[`"${se.name}"`,`"${se.category}"`,`"${se.phone}"`,`"${se.address}"`,se.rating,se.reviews,`"${se.website}"`,`"${se.instagram||""}"`].join(",")),C="data:text/csv;charset=utf-8,"+[y.join(","),...N].join(`
`),R=encodeURI(C),Q=document.createElement("a");Q.setAttribute("href",R),Q.setAttribute("download",`leads_beleads_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),ue("Planilha Excel/CSV baixada com sucesso!")},s0=()=>{if(!Ht){ue("Recurso disponvel nos planos Start, Pro e Elite.","error"),u("subscription");return}if(ye.length!==0)if(_.hideSheetsModal)i0();else{const y=["Nome","Categoria","Telefone","Endereo","Avaliao","Reviews","Site","Instagram"],N=ye.map(R=>[R.name,R.category,R.phone,R.address,R.rating,R.reviews,R.website,R.instagram||""].join("	")),C=[y.join("	"),...N].join(`
`);navigator.clipboard.writeText(C).then(()=>{Oa(!0)})}},i0=()=>{const y=["Nome","Categoria","Telefone","Endereo","Avaliao","Reviews","Site","Instagram"],N=ye.map(R=>[R.name,R.category,R.phone,R.address,R.rating,R.reviews,R.website,R.instagram||""].join("	")),C=[y.join("	"),...N].join(`
`);navigator.clipboard.writeText(C).then(()=>{window.open("https://sheets.new","_blank"),ue("Dados copiados! Colando na planilha...")})},a0=()=>{Sc&&S(y=>({...y,hideSheetsModal:!0})),window.open("https://sheets.new","_blank"),Oa(!1)},o0=z.useMemo(()=>[...ye].sort((y,N)=>{let C=Br===nr.RATING?Number(y.rating):y.name,R=Br===nr.RATING?Number(N.rating):N.name;return Aa===oa.DESC?C<R?1:-1:C>R?1:-1}),[ye,Br,Aa]),l0=z.useMemo(()=>p.filter(y=>y.name.toLowerCase().includes(Pa.toLowerCase())),[p,Pa]),c0=y=>new Date(y.getFullYear(),y.getMonth()+1,0).getDate(),u0=y=>new Date(y.getFullYear(),y.getMonth(),1).getDay(),$c=new Date().toISOString().split("T")[0],d0=new Date(new Date().setDate(new Date().getDate()+1)).toISOString().split("T")[0],Mc=z.useMemo(()=>{const y=new Date;return y.setHours(0,0,0,0),v.filter(N=>new Date(N.date+"T00:00:00")>=y).sort((N,C)=>new Date(N.date+"T"+(N.time||"00:00")).getTime()-new Date(C.date+"T"+(C.time||"00:00")).getTime())},[v]),Ma=(y,N="sm")=>{const C=N==="sm"?"w-9 h-9 text-sm":"w-24 h-24 text-4xl";return y.avatarType==="image"&&y.avatarImage?o.jsx("img",{src:y.avatarImage,alt:"Avatar",className:`${C} rounded-full object-cover shadow-sm border-2 border-white dark:border-zinc-700 bg-app-cardLight`}):y.avatarType==="color"?o.jsx("div",{className:`${C} rounded-full flex items-center justify-center font-bold text-white shadow-sm border-2 border-white dark:border-zinc-700 uppercase transition-colors`,style:{backgroundColor:y.avatarColor||"#0068ff"},children:y.name.charAt(0)}):o.jsx("div",{className:`${C} rounded-full flex items-center justify-center font-bold text-zinc-900 dark:text-zinc-100 bg-app-cardLight dark:bg-app-cardDark shadow-sm border-2 border-white dark:border-zinc-700 transition-colors`,children:y.avatar||""})},h0=()=>{switch(_.plan){case"free":return o.jsxs("div",{className:"mt-8 text-center animate-pulse",children:[o.jsx("div",{className:"text-zinc-900 dark:text-white font-bold text-sm mb-1",children:"Parabns! Voc deu o primeiro passo."}),o.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs",children:"Desbloqueie o WhatsApp Click e Exportao para Excel escolhendo o plano Start."})]});case"start":return o.jsxs("div",{className:"mt-8 text-center",children:[o.jsx("div",{className:"text-zinc-900 dark:text-white font-bold text-sm mb-1",children:"Parabns! Voc j profissionalizou sua busca."}),o.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs",children:"Tenha o CRM completo e exportao para Google Sheets fazendo upgrade para o plano Pro."})]});case"pro":return o.jsxs("div",{className:"mt-8 text-center",children:[o.jsx("div",{className:"text-zinc-900 dark:text-white font-bold text-sm mb-1",children:"Parabns! Voc desbloqueou o CRM e Pipeline."}),o.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs",children:"Libere o poder mximo da IA e tenha suporte prioritrio fazendo upgrade para o plano Elite."})]});case"elite":return o.jsxs("div",{className:"mt-8 text-center",children:[o.jsx("div",{className:"text-zinc-900 dark:text-white font-bold text-sm mb-1",children:"Parabns! Voc est no topo."}),o.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs",children:"Voc possui o poder mximo da ferramenta e suporte exclusivo."})]});default:return null}},f0=async()=>{try{const y=localStorage.getItem("theme");localStorage.clear(),y&&localStorage.setItem("theme",y),await fr.auth.signOut(),t(null)}catch(y){console.error("Logout error:",y)}},p0=async(y,N)=>{console.log("handleCheckout iniciado",{planId:y,isAnnual:N});try{const C=Vw[y];if(!C)throw new Error(`Preos no encontrados para o plano: ${y}`);const R=C[N?"annual":"monthly"];console.log("Price ID identificado:",R),ue("Redirecionando para o pagamento...","success"),alert(`Iniciando checkout via funo para ${y} (${N?"Anual":"Mensal"})...`),await Bw(R,N)}catch(C){console.error("Erro no handleCheckout:",C),ue(C.message,"error"),alert(`Erro: ${C.message}`)}};return r?o.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-slate-950 via-slate-900 to-slate-800 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ri,{className:"w-12 h-12 text-primary-500 animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-zinc-400 text-sm",children:"Carregando..."})]})}):e?o.jsxs("div",{className:"h-screen w-full bg-app-light dark:bg-app-dark flex font-sans transition-colors duration-300 overflow-hidden",children:[o.jsxs("aside",{className:`flex-shrink-0 h-full w-60 bg-sidebar text-white flex flex-col transition-all duration-300 ${a?"translate-x-0":"-ml-60"} z-50 border-r border-white/5`,children:[o.jsx("div",{className:"h-16 flex items-center px-4 border-b border-white/5 bg-sidebar shrink-0",children:o.jsx("img",{src:"https://i.postimg.cc/0jF5PGV8/logo-beleads-h1-1.png",alt:"be.leads",className:"h-7 w-auto object-contain"})}),o.jsx("nav",{className:"flex-1 p-2 space-y-2 overflow-y-auto custom-scrollbar",children:[{id:"home",icon:uv,label:"Incio"},{id:"search",icon:Xn,label:"Buscar leads"},{id:"crm",icon:po,label:"CRM"},{id:"subscription",icon:Nv,label:"Assinatura"},{id:"settings",icon:wv,label:"Configuraes"}].map(y=>o.jsxs("button",{onClick:()=>u(y.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 text-sm ${c===y.id?"bg-primary-500 shadow-md shadow-black/20 text-white font-bold":"hover:bg-white/5 text-slate-400 hover:text-white font-medium"}`,children:[o.jsx(y.icon,{className:"w-4 h-4"})," ",y.label]},y.id))}),o.jsxs("div",{className:"p-3 bg-black/20 m-2 rounded-lg border border-white/5 shrink-0",children:[o.jsx("div",{className:"flex items-center justify-between mb-2 pb-2 border-b border-white/5",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Seu Plano"}),o.jsx("span",{className:"text-xs font-bold text-white capitalize",children:Vr.name})]})}),o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Crditos"}),o.jsxs("span",{className:"text-[10px] font-bold text-white",children:[Ln,"/",Pn]})]}),o.jsx("div",{className:"w-full bg-black/40 h-1.5 rounded-full overflow-hidden",children:o.jsx("div",{className:"bg-primary-500 h-full transition-all duration-500",style:{width:`${Da}%`}})}),_.plan==="elite"?o.jsxs("div",{className:"mt-2 text-center",children:[o.jsxs("span",{className:"text-[10px] font-bold text-success-400 flex items-center justify-center gap-1 animate-pulse",children:[o.jsx(Lt,{className:"w-3 h-3"})," Limite Mximo"]}),o.jsx("p",{className:"text-[10px] text-zinc-500 mt-1 cursor-pointer hover:text-white transition-colors",onClick:()=>window.open("mailto:suporte@beleads.com"),children:"Precisa de mais? Fale conosco."})]}):o.jsx("button",{onClick:()=>u("subscription"),className:`mt-2 w-full py-2 text-[10px] font-bold rounded-md border transition-all active:scale-95 flex items-center justify-center gap-2 ${_.plan==="free"?"bg-gradient-to-r from-primary-600 to-indigo-600 hover:from-primary-500 hover:to-indigo-500 text-white border-transparent shadow-lg shadow-primary-500/30":"bg-primary-500/10 hover:bg-primary-500/20 text-primary-300 border-primary-500/20"}`,children:_.plan==="free"?"Escolher plano":"Aumentar limite"})]}),o.jsxs("div",{className:"p-3 border-t border-white/5 shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-1 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>u("settings"),children:[Ma(_,"sm"),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx("p",{className:"text-xs font-bold truncate text-white",children:_.name})})]}),o.jsx("button",{onClick:()=>i(y=>y==="light"?"dark":"light"),className:"text-slate-400 hover:text-white transition-colors",children:s==="light"?o.jsx("span",{className:"text-xs",children:""}):o.jsx("span",{className:"text-xs",children:""})})]}),o.jsxs("button",{onClick:f0,className:"w-full mt-2 flex items-center justify-center gap-2 px-3 py-2 text-xs text-zinc-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all",title:"Sair da conta",children:[o.jsx(Qu,{className:"w-3.5 h-3.5"}),"Sair"]})]})]}),o.jsxs("main",{className:"flex-1 h-full overflow-y-auto relative flex flex-col p-4 md:p-8 pt-6 md:pt-10 scrollbar-thin",children:[o.jsxs("div",{className:"md:hidden mb-6 flex items-center justify-between shrink-0",children:[o.jsx("div",{className:"flex items-center gap-2 text-zinc-900 dark:text-white font-bold",children:o.jsx("img",{src:"https://i.postimg.cc/0jF5PGV8/logo-beleads-h1-1.png",alt:"be.leads",className:"h-8 w-auto object-contain"})}),o.jsx("button",{onClick:()=>l(!a),className:"p-2 bg-app-cardLight dark:bg-app-cardDark rounded-lg shadow-sm border border-zinc-200 dark:border-zinc-700",children:o.jsx(vv,{className:"w-6 h-6 text-zinc-800 dark:text-zinc-200"})})]}),c==="home"&&o.jsxs("div",{className:"animate-fade-in-up space-y-8",children:[o.jsx("header",{className:"flex flex-col gap-4",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[Ma(_,"sm"),o.jsxs("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-white",children:["Ol, ",_.name.split(" ")[0],"!"]})]}),o.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-sm italic",children:Gp})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx("div",{className:"bg-app-cardLight dark:bg-app-cardDark p-0 rounded-2xl shadow-sm border border-zinc-200 dark:border-zinc-800 overflow-hidden relative group",children:o.jsxs("div",{className:"p-5 relative z-10",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Plano Atual"}),o.jsx("h3",{className:"text-2xl font-black text-primary-600 dark:text-primary-400 mt-1 uppercase",children:Vr.name})]}),o.jsx("div",{className:"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400 p-2 rounded-lg",children:o.jsx(Yu,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-xs font-medium text-zinc-500",children:[o.jsxs("span",{children:["Crditos: ",Ln,"/",Pn]}),o.jsxs("span",{children:[Da.toFixed(0),"%"]})]}),o.jsx("div",{className:"w-full bg-zinc-100 dark:bg-zinc-800 h-2 rounded-full overflow-hidden",children:o.jsx("div",{className:"bg-primary-500 h-full rounded-full transition-all duration-1000",style:{width:`${Da}%`}})}),(_.plan==="free"||_.plan==="start")&&o.jsx("button",{onClick:()=>u("subscription"),className:"w-full mt-2 text-xs font-bold text-white bg-success-600 hover:bg-success-700 py-2 rounded-lg transition-colors shadow-sm shadow-success-500/20",children:"Fazer upgrade"})]})]})}),o.jsxs("div",{className:"bg-app-cardLight dark:bg-app-cardDark p-5 rounded-2xl shadow-sm border border-zinc-200 dark:border-zinc-800 flex flex-col justify-between relative overflow-hidden group",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-20",children:[o.jsx("p",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Ganho mensal"}),o.jsx("div",{className:"p-2 bg-success-50 dark:bg-success-700/20 rounded-xl text-success-600 dark:text-success-400",children:o.jsx(dp,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:`flex-1 flex flex-col justify-between relative z-10 transition-all ${qe?"":"blur-sm opacity-50 select-none"}`,children:[o.jsxs("p",{className:"text-2xl font-bold text-zinc-900 dark:text-white mt-1",children:["R$ ",$a.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex justify-between items-center text-xs mb-1.5",children:[o.jsxs("span",{className:"text-zinc-400",children:["Meta: ",_.pipelineGoal.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]}),o.jsxs("span",{className:"font-bold text-success-600 dark:text-success-400",children:[Math.round(Math.min($a/_.pipelineGoal*100,100)),"%"]})]}),o.jsx("div",{className:"w-full bg-zinc-100 dark:bg-zinc-800 h-1.5 rounded-full overflow-hidden",children:o.jsx("div",{className:"bg-success-500 h-full rounded-full transition-all duration-1000",style:{width:`${Math.min($a/_.pipelineGoal*100,100)}%`}})})]})]}),!qe&&o.jsx("div",{className:"absolute inset-x-0 bottom-0 top-16 z-30 flex flex-col items-center justify-center",children:o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(Ot,{className:"w-5 h-5 text-primary-500 mb-1"}),o.jsx("span",{className:"text-xs font-bold text-zinc-600 dark:text-zinc-300",children:"CRM disponvel no Pro"}),o.jsx("button",{onClick:()=>u("subscription"),className:"text-xs bg-primary-600 hover:bg-primary-700 text-white px-3 py-1.5 rounded-lg font-bold shadow-md transition-all",children:"Liberar acesso"})]})})]}),o.jsxs("div",{className:"bg-app-cardLight dark:bg-app-cardDark p-5 rounded-2xl shadow-sm border border-zinc-200 dark:border-zinc-800 flex flex-col justify-between relative overflow-hidden group",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-20",children:[o.jsx("p",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Leads no CRM"}),o.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-xl text-blue-600 dark:text-blue-400",children:o.jsx(Oi,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:`flex-1 flex flex-col justify-between relative z-10 transition-all ${qe?"":"blur-sm opacity-50 select-none"}`,children:[o.jsx("p",{className:"text-2xl font-bold text-zinc-900 dark:text-white mt-1",children:p.length}),o.jsx("div",{className:"mt-4",children:o.jsx("p",{className:"text-xs text-zinc-400",children:"Gerencie seu funil de vendas"})})]}),!qe&&o.jsx("div",{className:"absolute inset-x-0 bottom-0 top-16 z-30 flex flex-col items-center justify-center",children:o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(Ot,{className:"w-5 h-5 text-primary-500 mb-1"}),o.jsx("span",{className:"text-xs font-bold text-zinc-600 dark:text-zinc-300",children:"Gesto de pipeline"}),o.jsx("button",{onClick:()=>u("subscription"),className:"text-xs bg-primary-600 hover:bg-primary-700 text-white px-3 py-1.5 rounded-lg font-bold shadow-md transition-all",children:"Liberar acesso"})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 bg-app-cardLight dark:bg-app-cardDark p-6 rounded-2xl shadow-sm border border-zinc-200 dark:border-zinc-800",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[o.jsx(fo,{className:"w-5 h-5 text-primary-500"})," Agenda"]}),o.jsx("span",{className:"text-xs text-zinc-400 font-normal ml-2 hidden md:inline",children:"(Clique no dia para agendar)"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>Oc(new Date(lt.setMonth(lt.getMonth()-1))),className:"p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg",children:o.jsx(Xg,{className:"w-5 h-5"})}),o.jsx("span",{className:"text-sm font-bold capitalize w-32 text-center",children:lt.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})}),o.jsx("button",{onClick:()=>Oc(new Date(lt.setMonth(lt.getMonth()+1))),className:"p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg",children:o.jsx(Zg,{className:"w-5 h-5"})})]})]}),o.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["D","S","T","Q","Q","S","S"].map((y,N)=>o.jsx("div",{className:"text-center text-xs font-bold text-zinc-400",children:y},`weekday-${N}`))}),o.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:u0(lt)}).map((y,N)=>o.jsx("div",{},`empty-${N}`)),Array.from({length:c0(lt)}).map((y,N)=>{const C=N+1,R=new Date(lt.getFullYear(),lt.getMonth(),C).toISOString().split("T")[0],Q=v.some(_t=>_t.date===R);De==null||De.toISOString().split("T")[0];const se=R===$c;return o.jsxs("button",{onClick:()=>Dc(new Date(lt.getFullYear(),lt.getMonth(),C)),className:`h-10 rounded-lg text-sm font-medium flex flex-col items-center justify-center relative transition-all border
                                            ${se?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-800 font-bold":"hover:bg-zinc-100 dark:hover:bg-zinc-800 text-zinc-700 dark:text-zinc-300 border-transparent"}
                                        `,children:[C,Q&&o.jsx("div",{className:`w-1.5 h-1.5 rounded-full mt-0.5 ${se?"bg-primary-600":"bg-primary-400"}`})]},C)})]})]}),o.jsxs("div",{className:"bg-app-cardLight dark:bg-app-cardDark p-6 rounded-2xl shadow-sm border border-zinc-200 dark:border-zinc-800 flex flex-col max-h-[450px]",children:[o.jsxs("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white mb-4 flex items-center gap-2 flex-shrink-0",children:[o.jsx(lp,{className:"w-5 h-5 text-primary-500"})," Prximos compromissos"]}),o.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 scrollbar-thin max-h-[220px]",children:Mc.length===0?o.jsxs("div",{className:"text-center py-8 text-zinc-400",children:[o.jsx(fo,{className:"w-10 h-10 mx-auto mb-2 opacity-20"}),o.jsx("p",{className:"text-sm",children:"Agenda livre!"}),o.jsx("button",{onClick:()=>Dc(new Date),className:"mt-2 text-xs text-primary-500 hover:underline",children:"Agendar para hoje"})]}):Mc.map(y=>{const N=new Date(y.date+"T00:00:00"),C=y.date===$c,R=y.date===d0;return o.jsxs("div",{className:"p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border-l-4 border-primary-500 flex items-start gap-3 group",children:[o.jsxs("div",{className:"text-center min-w-[3rem]",children:[o.jsx("div",{className:"text-[10px] font-bold uppercase text-zinc-400",children:N.toLocaleDateString("pt-BR",{weekday:"short"}).replace(".","")}),o.jsx("div",{className:"text-lg font-bold text-zinc-800 dark:text-white leading-none",children:N.getDate()})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-bold text-sm text-zinc-900 dark:text-white truncate",title:y.title,children:y.title}),o.jsxs("p",{className:"text-xs text-zinc-500 flex justify-between mt-1 items-center",children:[o.jsx("span",{children:y.time||"Dia todo"}),C&&o.jsx("span",{className:"text-green-600 font-bold bg-green-100 dark:bg-green-900/30 px-1.5 rounded text-[10px]",children:"HOJE"}),R&&o.jsx("span",{className:"text-blue-600 font-bold bg-blue-100 dark:bg-blue-900/30 px-1.5 rounded text-[10px]",children:"AMANH"})]})]}),o.jsx("button",{onClick:()=>k(Q=>Q.filter(se=>se.id!==y.id)),className:"text-zinc-400 hover:text-danger-500 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(aa,{className:"w-4 h-4"})})]},y.id)})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("button",{onClick:()=>u("search"),className:"group relative overflow-hidden bg-gradient-to-br from-primary-500 to-primary-700 rounded-2xl p-6 text-left shadow-lg shadow-primary-500/20 hover:shadow-primary-500/40 transition-all hover:-translate-y-1",children:[o.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10 group-hover:scale-110 transition-transform duration-500",children:o.jsx(Xn,{className:"w-32 h-32 text-white"})}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"bg-white/20 w-12 h-12 rounded-xl flex items-center justify-center mb-4 border border-white/10",children:o.jsx(kv,{className:"w-6 h-6 text-white"})}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:"Buscar leads"}),o.jsx("p",{className:"text-primary-100 text-sm mb-4",children:"Encontre novas empresas e extraia dados."}),o.jsxs("div",{className:"inline-flex items-center gap-2 text-white text-sm font-bold bg-white/20 px-4 py-2 rounded-lg group-hover:bg-white group-hover:text-primary-600 transition-colors",children:["Comear agora ",o.jsx(ml,{className:"w-4 h-4"})]})]})]}),o.jsxs("button",{onClick:()=>u("crm"),className:"group relative overflow-hidden bg-gradient-to-br from-success-500 to-success-700 rounded-2xl p-6 text-left shadow-lg shadow-success-500/20 hover:shadow-success-500/40 transition-all hover:-translate-y-1",children:[o.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10 group-hover:scale-110 transition-transform duration-500",children:o.jsx(Xu,{className:"w-32 h-32 text-white"})}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"bg-white/20 w-12 h-12 rounded-xl flex items-center justify-center mb-4 border border-white/10",children:o.jsx(po,{className:"w-6 h-6 text-white"})}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:"Acessar CRM"}),o.jsx("p",{className:"text-success-100 text-sm mb-4",children:"Gerencie seu pipeline de vendas."}),o.jsxs("div",{className:"inline-flex items-center gap-2 text-white text-sm font-bold bg-white/20 px-4 py-2 rounded-lg group-hover:bg-white group-hover:text-success-600 transition-colors",children:["Ver pipeline ",o.jsx(ml,{className:"w-4 h-4"})]})]})]})]})]}),c==="search"&&o.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[Up==="prompt"&&o.jsxs("div",{className:"bg-primary-50 border border-primary-100 rounded-2xl p-4 flex items-center justify-between animate-in fade-in slide-in-from-top-4 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-primary-100 p-2 rounded-xl text-primary-600",children:o.jsx(Ai,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-bold text-slate-900",children:"Leads por proximidade"}),o.jsx("p",{className:"text-xs text-slate-500",children:"Ative sua localizao para encontrar leads perto de voc."})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>Ia("denied"),className:"text-xs font-bold text-slate-400 px-3 py-2 hover:text-slate-600 transition-colors",children:"Agora no"}),o.jsx("button",{onClick:Kp,className:"bg-primary-600 text-white text-xs font-bold px-4 py-2 rounded-lg hover:bg-primary-700 shadow-md shadow-primary-500/20 active:scale-95 transition-all",children:"Ativar"})]})]}),o.jsxs("div",{className:"bg-app-cardLight dark:bg-app-cardDark p-6 rounded-2xl shadow-sm border border-zinc-200 dark:border-zinc-800",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[o.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-1 rounded-xl flex gap-1",children:[o.jsxs("button",{onClick:()=>T("free"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${j==="free"?"bg-white dark:bg-zinc-700 shadow-sm text-primary-600 dark:text-primary-400":"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:[o.jsx(fv,{className:"w-4 h-4"})," Livre"]}),o.jsxs("button",{onClick:()=>T("guided"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${j==="guided"?"bg-white dark:bg-zinc-700 shadow-sm text-primary-600 dark:text-primary-400":"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:[o.jsx(mv,{className:"w-4 h-4"})," Guiada"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[p.length>0&&o.jsxs("span",{className:"text-[10px] text-zinc-400 flex items-center gap-1",children:[o.jsx(Yu,{className:"w-3 h-3"})," Ignorando ",p.length," leads do CRM"]}),o.jsxs("button",{onClick:()=>{w.length>0&&confirm("Limpar histrico de busca? Isso far com que resultados anteriores possam aparecer novamente.")&&b([])},disabled:w.length===0,className:`text-xs font-medium flex items-center gap-1 border-l border-zinc-200 dark:border-zinc-800 pl-3 transition-colors ${w.length===0?"text-zinc-300 dark:text-zinc-700 cursor-not-allowed":"text-zinc-400 hover:text-danger-500"}`,children:[o.jsx(Qu,{className:"w-3.5 h-3.5"})," Limpar histrico (",w.length,")"]})]})]}),j==="free"?o.jsx("div",{className:"flex gap-2",children:o.jsx("input",{className:"flex-1 p-4 rounded-xl border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-950 text-zinc-900 dark:text-white placeholder:text-zinc-400 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 shadow-sm transition-all",placeholder:"Ex: Restaurantes Italianos em Pinheiros, SP...",value:F,onChange:y=>U(y.target.value),onKeyDown:y=>y.key==="Enter"&&Lc()})}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5 ml-1",children:"Nicho de mercado"}),o.jsxs("div",{className:"relative group",children:[o.jsx(op,{className:"absolute left-3 top-3.5 w-5 h-5 text-zinc-400 group-focus-within:text-primary-500 transition-colors pointer-events-none"}),o.jsxs("select",{value:he,onChange:y=>Ze(y.target.value),className:"w-full pl-10 p-3 bg-white dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 text-zinc-900 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none appearance-none transition-all shadow-sm",children:[o.jsx("option",{value:"",children:"Selecione o nicho..."}),qw.map(y=>o.jsx("option",{value:y,children:y},y))]}),o.jsx(Hn,{className:"absolute right-3 top-4 w-4 h-4 text-zinc-400 pointer-events-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5 ml-1",children:"Localizao"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[o.jsxs("div",{className:"md:col-span-2 relative group",children:[o.jsxs("select",{value:W,onChange:y=>zt(y.target.value),className:"w-full p-3 bg-white dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 text-zinc-900 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none appearance-none transition-all shadow-sm font-medium",children:[o.jsx("option",{value:"",children:"UF"}),Vd.map(y=>o.jsx("option",{value:y.sigla,children:y.nome},y.sigla))]}),o.jsx(Hn,{className:"absolute right-3 top-4 w-4 h-4 text-zinc-400 pointer-events-none"})]}),o.jsxs("div",{className:"md:col-span-3 relative group",children:[o.jsx(Ai,{className:"absolute left-3 top-3.5 w-5 h-5 text-zinc-400 group-focus-within:text-primary-500 transition-colors pointer-events-none"}),o.jsxs("select",{value:qt,onChange:y=>xt(y.target.value),disabled:!W||bt,className:"w-full pl-10 p-3 bg-white dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 text-zinc-900 dark:text-white disabled:opacity-50 focus:ring-2 focus:ring-primary-500 outline-none appearance-none transition-all shadow-sm",children:[o.jsx("option",{value:"",children:bt?"Carregando...":"Cidade"}),J.map(y=>o.jsx("option",{value:y,children:y},y))]}),o.jsx(Hn,{className:"absolute right-3 top-4 w-4 h-4 text-zinc-400 pointer-events-none"})]}),o.jsxs("div",{className:"md:col-span-3 relative group",children:[o.jsx(Qg,{className:"absolute left-3 top-3.5 w-5 h-5 text-zinc-400 group-focus-within:text-primary-500 transition-colors pointer-events-none"}),o.jsx("input",{placeholder:"Bairro (Opcional)",value:wt,onChange:y=>A(y.target.value),className:"w-full pl-10 p-3 bg-white dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 text-zinc-900 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none transition-all shadow-sm"})]}),o.jsxs("div",{className:"md:col-span-4 relative group",children:[o.jsx(aa,{className:"absolute left-3 top-3.5 w-5 h-5 text-red-400 pointer-events-none"}),o.jsxs("select",{value:M,onChange:y=>V(y.target.value),disabled:!W||bt,className:"w-full pl-10 p-3 rounded-xl border border-danger-200 bg-danger-50 text-danger-700 dark:bg-danger-900/10 dark:text-danger-300 dark:border-danger-900/30 focus:ring-2 focus:ring-danger-500 outline-none appearance-none transition-all shadow-sm",children:[o.jsx("option",{value:"",children:"Excluir cidade..."}),J.map(y=>o.jsx("option",{value:y,children:y},y))]}),o.jsx(Hn,{className:"absolute right-3 top-4 w-4 h-4 text-red-400 pointer-events-none"})]})]})]})]}),Le.error&&o.jsxs("div",{className:"bg-danger-50 dark:bg-danger-900/20 border border-danger-200 dark:border-danger-800 text-danger-700 dark:text-danger-300 p-4 rounded-xl flex items-start gap-3 mt-4 animate-in fade-in slide-in-from-top-2",children:[o.jsx(Gg,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-sm",children:"Ocorreu um erro na busca"}),o.jsx("p",{className:"text-sm opacity-90",children:Le.error})]}),o.jsx("button",{onClick:()=>O(y=>({...y,error:null})),className:"ml-auto hover:bg-danger-100 dark:hover:bg-danger-900/40 p-1 rounded-lg transition-colors",children:o.jsx(pn,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"mt-8 flex flex-col md:flex-row gap-4 items-center justify-between border-t border-zinc-100 dark:border-zinc-800 pt-6",children:[o.jsxs("div",{className:"flex gap-4 items-center w-full md:w-auto overflow-x-auto pb-2 md:pb-0",children:[o.jsxs("div",{className:"flex items-center gap-2 text-zinc-400",children:[o.jsx(ov,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Filtros"})]}),o.jsx("div",{className:"h-4 w-px bg-zinc-200 dark:bg-zinc-700"}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("select",{value:B.maxResults,onChange:y=>re(N=>({...N,maxResults:parseInt(y.target.value)})),className:"py-1.5 px-2 text-sm bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg",children:[o.jsx("option",{value:"5",children:"5 resultados"}),o.jsx("option",{value:"10",children:"10 resultados"}),o.jsx("option",{value:"20",children:"20 resultados"}),o.jsx("option",{value:"30",children:"30 resultados"}),o.jsx("option",{value:"50",children:"50 resultados"})]})}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-zinc-50 dark:bg-zinc-800 px-3 py-1.5 rounded-lg border border-zinc-200 dark:border-zinc-700 hover:border-primary-300 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:B.requirePhone,onChange:y=>re(N=>({...N,requirePhone:y.target.checked})),className:"rounded text-primary-600 focus:ring-primary-500"}),o.jsx(zs,{className:"w-3.5 h-3.5 text-zinc-500"}),o.jsx("span",{className:"text-sm text-zinc-600 dark:text-zinc-300 whitespace-nowrap",children:"Com telefone"})]})]}),o.jsx("button",{onClick:y=>Lc(y),disabled:Le.isSearching,className:"w-full md:w-auto bg-primary-600 hover:bg-primary-700 text-white px-8 py-3 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg shadow-primary-500/30 transition-all active:scale-95 disabled:opacity-70 disabled:scale-100",children:Le.isSearching?o.jsxs(o.Fragment,{children:[o.jsx(Ri,{className:"animate-spin w-5 h-5"})," ",qd[tt]]}):o.jsxs(o.Fragment,{children:[o.jsx(Xn,{className:"w-5 h-5"})," Buscar leads"]})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end md:items-center gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h2",{className:"text-xl font-bold text-zinc-900 dark:text-white",children:"Resultados"}),ye.length>0&&o.jsx("span",{className:"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-300 px-2.5 py-0.5 rounded-full text-sm font-bold",children:ye.length})]}),ye.length>0&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:n0,className:`px-3 py-1.5 text-sm font-medium border rounded-lg flex items-center gap-2 transition-colors shadow-sm ${Ht?"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-700 text-zinc-700 dark:text-zinc-200":"bg-zinc-100 dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 text-zinc-400 cursor-not-allowed opacity-70"}`,title:Ht?"":"Disponvel a partir do plano Start",children:[Ht?o.jsx(rv,{className:"w-4 h-4 text-green-600"}):o.jsx(Ot,{className:"w-3.5 h-3.5"})," Excel/CSV"]}),o.jsxs("button",{onClick:s0,className:`px-3 py-1.5 text-sm font-medium border rounded-lg flex items-center gap-2 transition-colors shadow-sm ${Ht?"bg-green-50 dark:bg-green-900/10 border-green-200 dark:border-green-800 hover:bg-green-100 dark:hover:bg-green-900/20 text-green-700 dark:text-green-300":"bg-zinc-100 dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 text-zinc-400 cursor-not-allowed opacity-70"}`,title:Ht?"":"Disponvel a partir do plano Start",children:[Ht?o.jsx(iv,{className:"w-4 h-4"}):o.jsx(Ot,{className:"w-3.5 h-3.5"})," Google Sheets"]})]})]}),o.jsx(sy,{leads:o0,sortField:Br,sortOrder:Aa,onSort:y=>Ip(y),isSearching:Le.isSearching,onAddToCRM:Yp,savedLeadIds:p.map(y=>y.id),hasCRMAccess:qe,hasWhatsAppAccess:Wp}),ye.length>0&&o.jsxs("div",{className:"mt-6 flex flex-col items-center gap-4 bg-app-cardLight dark:bg-app-cardDark p-4 rounded-2xl border border-zinc-200 dark:border-zinc-700 shadow-sm",children:[o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("select",{value:jc,onChange:y=>Dp(parseInt(y.target.value)||10),className:"py-2 px-4 text-sm font-bold bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg outline-none focus:ring-2 focus:ring-primary-500 cursor-pointer",children:[o.jsx("option",{value:"5",children:"5 resultados"}),o.jsx("option",{value:"10",children:"10 resultados"}),o.jsx("option",{value:"20",children:"20 resultados"}),o.jsx("option",{value:"30",children:"30 resultados"}),o.jsx("option",{value:"50",children:"50 resultados"})]})}),o.jsxs("button",{onClick:Qp,disabled:H,className:"px-6 py-2.5 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-xl shadow-lg shadow-primary-500/20 transition-all flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:[H?o.jsx(Ri,{className:"w-4 h-4 animate-spin"}):o.jsx(Yn,{className:"w-4 h-4"}),H?"Buscando...":"Carregar mais leads"]})]})]})]}),c==="subscription"&&o.jsxs("div",{className:"animate-fade-in-up max-w-6xl mx-auto w-full pb-10",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-white mb-2",children:"Planos"}),o.jsx("p",{className:"text-zinc-500 mb-6",children:"Escolha a melhor ferramenta para escalar suas vendas."}),o.jsxs("div",{className:"inline-flex items-center gap-3 bg-zinc-100 dark:bg-zinc-800 p-1.5 rounded-full",children:[o.jsx("button",{onClick:()=>g("monthly"),className:`px-6 py-2 rounded-full text-sm font-semibold transition-all ${d==="monthly"?"bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white shadow-md":"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:"Mensal"}),o.jsxs("button",{onClick:()=>g("annual"),className:`px-6 py-2 rounded-full text-sm font-semibold transition-all relative ${d==="annual"?"bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white shadow-md":"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:["Anual",o.jsx("span",{className:"absolute -top-2 -right-2 bg-success-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full",children:"-20%"})]})]}),d==="annual"&&o.jsx("p",{className:"text-xs text-success-600 dark:text-success-400 mt-3 font-medium",children:" Economize 20% com o plano anual!"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{id:"free",name:"Free",priceMonthly:0,priceAnnual:0,credits:50,features:["50 Buscas/ms","Visualizao Bsica"],missing:["WhatsApp Click","Exportar Excel/Sheets","CRM Completo"],text:"Indicado para comear e conhecer a plataforma"},{id:"start",name:"Start",priceMonthly:39,priceAnnual:374.4,credits:300,features:["300 Buscas/ms","WhatsApp Click","Exportar Excel","Suporte Email"],missing:["Google Sheets","CRM Completo","IA Avanada"],text:"Para quem est comeando a prospectar ativamente"},{id:"pro",name:"Pro",priceMonthly:69,priceAnnual:662.4,credits:1500,features:["1.500 Buscas/ms","CRM Completo","WhatsApp Click","Exportar Excel & Sheets"],missing:["IA Avanada"],popular:!0,text:"Para quem quer escalar vendas com organizao"},{id:"elite",name:"Elite",priceMonthly:149,priceAnnual:1430.4,credits:5e3,features:["5.000 Buscas/ms","IA Avanada","Suporte prioritrio"],missing:[],text:"Poder mximo para grandes operaes"}].map(y=>{var Uc;const N=Gd[_.plan],C=Gd[y.id],R=_.plan===y.id,Q=C<N,se=y.popular&&_.plan!=="elite"&&_.plan!=="pro";let _t="bg-app-cardLight dark:bg-app-cardDark border-zinc-200 dark:border-zinc-800";return se?_t="bg-app-cardLight dark:bg-app-cardDark border-success-500 ring-2 ring-success-500/20 scale-105 z-10":R&&(y.id==="free"?_t="bg-zinc-50 dark:bg-zinc-900 border-zinc-400 ring-1 ring-zinc-400 shadow-xl shadow-zinc-500/10 scale-[1.02]":_t="bg-gradient-to-br from-success-50 to-white dark:from-zinc-900 dark:to-zinc-800/50 border-success-500 ring-1 ring-success-500 shadow-xl shadow-success-500/10 scale-[1.02]"),o.jsxs("div",{className:`relative rounded-2xl p-6 border flex flex-col transition-all ${_t} ${Q?"opacity-70 grayscale-[0.5]":""}`,children:[se&&o.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-success-500 text-white text-xs font-bold px-3 py-1 rounded-full uppercase shadow-lg shadow-success-500/30",children:"Mais popular"}),R&&o.jsx("div",{className:"absolute top-2 right-2",children:o.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full border flex items-center gap-1 ${y.id==="free"?"bg-zinc-200 text-zinc-700 dark:bg-zinc-800 dark:text-zinc-300 border-zinc-300 dark:border-zinc-700":"bg-success-100 text-success-700 dark:bg-success-900 dark:text-success-300 border-success-200 dark:border-success-800"}`,children:[o.jsx(Lt,{className:"w-3 h-3"})," Atual"]})}),o.jsx("h3",{className:"text-xl font-bold mb-1",children:y.name}),o.jsx("p",{className:"text-xs text-zinc-500 min-h-[40px] mb-4",children:y.text}),o.jsx("div",{className:"mb-6",children:d==="monthly"?o.jsxs("div",{className:"text-3xl font-bold text-zinc-900 dark:text-white",children:["R$ ",y.priceMonthly.toFixed(2).replace(".",","),o.jsx("span",{className:"text-sm text-zinc-400 font-normal",children:"/ms"})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"text-3xl font-bold text-zinc-900 dark:text-white",children:["R$ ",(y.priceAnnual/12).toFixed(2).replace(".",","),o.jsx("span",{className:"text-sm text-zinc-400 font-normal",children:"/ms"})]}),y.id!=="free"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-xs text-zinc-400 mt-1 line-through",children:["R$ ",y.priceMonthly.toFixed(2).replace(".",","),"/ms"]}),o.jsxs("div",{className:"inline-block mt-2 bg-success-100 dark:bg-success-900 text-success-700 dark:text-success-300 text-xs font-bold px-2 py-1 rounded",children:["Economize R$ ",(y.priceMonthly*12-y.priceAnnual).toFixed(2).replace(".",","),"/ano"]}),o.jsxs("div",{className:"text-[10px] text-zinc-400 mt-2",children:["Cobrana anual: R$ ",y.priceAnnual.toFixed(2).replace(".",",")]})]})]})}),o.jsxs("ul",{className:"space-y-3 mb-8 flex-1",children:[y.features.map(xr=>o.jsxs("li",{className:"flex items-center gap-2 text-xs text-zinc-700 dark:text-zinc-300",children:[o.jsx(Lt,{className:"w-3.5 h-3.5 text-success-500 flex-shrink-0"})," ",xr]},xr)),(Uc=y.missing)==null?void 0:Uc.map(xr=>o.jsxs("li",{className:"flex items-center gap-2 text-xs text-zinc-400 dark:text-zinc-600 line-through",children:[o.jsx(pn,{className:"w-3.5 h-3.5 flex-shrink-0"})," ",xr]},xr))]}),o.jsx("button",{onClick:()=>{if(alert(`Clique reconhecido no plano: ${y.id}`),R||Q){alert("Boto desabilitado pela lgica (isCurrent ou isLower)");return}if(y.id==="free"){S(xr=>({...xr,plan:"free"}));return}p0(y.id,d==="annual")},className:`w-full py-3 rounded-xl font-bold transition-all text-sm ${R?y.id==="free"?"bg-zinc-600 text-white cursor-default shadow-md":"bg-success-600 text-white cursor-default shadow-md shadow-success-500/20":Q?"bg-zinc-50 dark:bg-zinc-900 text-zinc-400 cursor-not-allowed border border-zinc-200 dark:border-zinc-800":se?"bg-success-600 text-white hover:bg-success-700 shadow-lg shadow-success-500/30 hover:-translate-y-0.5":"bg-zinc-900 dark:bg-white text-white dark:text-zinc-900 hover:bg-zinc-800 dark:hover:bg-zinc-100 hover:-translate-y-0.5"}`,children:R?"Plano atual":Q?"Plano inferior":"Assinar Agora"})]},y.id)})}),h0()]}),c==="crm"&&o.jsxs("div",{className:"animate-fade-in-up h-full flex flex-col relative",children:[!qe&&o.jsx("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center p-4",children:o.jsxs("div",{className:"flex flex-col items-center gap-4 bg-white/90 dark:bg-black/80 backdrop-blur-md p-8 rounded-3xl border border-zinc-200 dark:border-zinc-800 shadow-2xl text-center max-w-md",children:[o.jsx("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-4 rounded-full shadow-inner",children:o.jsx(Ot,{className:"w-10 h-10 text-primary-500"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white mb-2",children:"Pipeline Bloqueado"}),o.jsx("p",{className:"text-zinc-600 dark:text-zinc-300 font-medium mb-6",children:"Organize suas vendas visualmente com o CRM Kanban. Disponvel a partir do plano Pro."}),o.jsx("button",{onClick:()=>u("subscription"),className:"w-full bg-success-600 hover:bg-success-700 text-white px-6 py-3 rounded-xl font-bold shadow-lg transition-transform hover:scale-105 active:scale-95",children:"Liberar acesso agora"})]})]})}),o.jsxs("div",{className:`flex justify-between items-center mb-6 transition-all duration-500 ${qe?"":"blur-sm select-none pointer-events-none opacity-50"}`,children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-white",children:"CRM Pipeline"}),o.jsx("p",{className:"text-zinc-500",children:"Gerencie seus negcios e vendas."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Xn,{className:"absolute left-3 top-3 w-4 h-4 text-zinc-400"}),o.jsx("input",{value:Pa,onChange:y=>Bp(y.target.value),placeholder:"Buscar no CRM...",className:"pl-9 pr-4 py-2 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-xl shadow-sm focus:ring-2 focus:ring-primary-500 text-sm w-64"})]}),o.jsxs("button",{onClick:()=>In(!0),className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl font-bold flex items-center gap-2 shadow-lg shadow-primary-500/20 transition-all",children:[o.jsx(Yn,{className:"w-4 h-4"})," Novo negcio"]})]})]}),o.jsx("div",{className:`flex-1 overflow-hidden transition-all duration-500 ${qe?"":"blur-sm select-none pointer-events-none opacity-60 grayscale-[0.3]"}`,children:p.length===0&&qe?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-app-cardLight dark:bg-app-cardDark rounded-3xl border border-dashed border-zinc-300 dark:border-zinc-700 m-4",children:[o.jsx(po,{className:"w-16 h-16 text-zinc-300 dark:text-zinc-600 mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-zinc-800 dark:text-zinc-200",children:"Seu pipeline est vazio"}),o.jsx("p",{className:"text-zinc-500 max-w-md text-center mb-6",children:"Adicione leads manualmente ou importe da busca para comear a gerenciar suas vendas."}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>u("search"),className:"px-6 py-2.5 bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700 text-zinc-700 dark:text-zinc-300 font-bold rounded-xl transition-colors",children:"Ir para Busca"}),o.jsx("button",{onClick:()=>In(!0),className:"px-6 py-2.5 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-xl shadow-lg shadow-primary-500/20 transition-colors",children:"Adicionar manualmente"})]})]}):o.jsx(oy,{leads:qe?l0:Ww,onStatusChange:t0,onDelete:y=>h(N=>N.filter(C=>C.id!==y)),onUpdateLead:r0,onDuplicate:Xp,goal:_.pipelineGoal,onSetGoal:y=>S(N=>({...N,pipelineGoal:y})),resetDay:_.pipelineResetDay,readOnly:!qe})})]}),c==="settings"&&o.jsxs("div",{className:"animate-fade-in-up max-w-3xl mx-auto pb-10",children:[o.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-white mb-8",children:"Configuraes"}),o.jsxs("div",{className:"bg-app-cardLight dark:bg-app-cardDark rounded-2xl border border-zinc-200 dark:border-zinc-700 shadow-sm overflow-hidden mb-6",children:[o.jsx("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900/50",children:o.jsxs("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[o.jsx(Oi,{className:"w-5 h-5 text-primary-500"})," Perfil"]})}),o.jsxs("div",{className:"p-6 space-y-6 overflow-visible",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-zinc-500 mb-3",children:"Avatar"}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("div",{className:"relative group p-1",children:[Ma(_,"lg"),o.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer text-white text-xs font-bold m-1",onClick:()=>{var y;return(y=x.current)==null?void 0:y.click()},children:"Alterar"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>S(y=>({...y,avatarType:"emoji"})),className:`p-2 rounded-lg border ${_.avatarType==="emoji"?"border-primary-500 bg-primary-50 text-primary-600":"border-zinc-200 dark:border-zinc-700 text-zinc-500"}`,children:o.jsx(bv,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>{var y;return(y=x.current)==null?void 0:y.click()},className:`p-2 rounded-lg border ${_.avatarType==="image"?"border-primary-500 bg-primary-50 text-primary-600":"border-zinc-200 dark:border-zinc-700 text-zinc-500"}`,children:o.jsx(dv,{className:"w-5 h-5"})}),o.jsx("input",{ref:x,type:"file",className:"hidden",accept:"image/*",onChange:Jp})]})]}),o.jsx("div",{className:"mt-4 h-16 bg-zinc-50/50 dark:bg-zinc-900/30 rounded-xl border border-zinc-100 dark:border-zinc-800 flex items-center px-2 transition-all",children:o.jsx("div",{className:"w-full h-full flex items-center gap-2 overflow-x-auto px-1 scrollbar-thin",children:Hw.map(y=>o.jsx("button",{onClick:()=>S(N=>({...N,avatar:y,avatarType:"emoji"})),className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center text-xl hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors ${_.avatar===y&&_.avatarType==="emoji"?"bg-primary-100 ring-2 ring-primary-500":""}`,children:y},y))})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Seu nome"}),o.jsxs("div",{className:"relative",children:[o.jsx(Oi,{className:"absolute left-3 top-3.5 w-4 h-4 text-zinc-400"}),o.jsx("input",{value:_.name,onChange:y=>S(N=>({...N,name:y.target.value})),className:"w-full pl-10 p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Seu e-mail"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ea,{className:"absolute left-3 top-3.5 w-4 h-4 text-zinc-400"}),o.jsx("input",{readOnly:!0,disabled:!0,value:_.email,className:"w-full pl-10 p-3 bg-zinc-100 dark:bg-zinc-900 text-zinc-500 dark:text-zinc-500 rounded-xl border border-zinc-200 dark:border-zinc-800 cursor-not-allowed focus:outline-none"})]})]})]})]})]}),o.jsxs("div",{className:"bg-app-cardLight dark:bg-app-cardDark rounded-2xl border border-zinc-200 dark:border-zinc-700 shadow-sm overflow-hidden mb-6",children:[o.jsx("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900/50",children:o.jsxs("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[o.jsx(Ai,{className:"w-5 h-5 text-primary-500"})," Preferncias de busca"]})}),o.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Estado padro"}),o.jsxs("select",{value:_.defaultState,onChange:y=>S(N=>({...N,defaultState:y.target.value,defaultCity:""})),className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white",children:[o.jsx("option",{value:"",children:"Selecione..."}),Vd.map(y=>o.jsx("option",{value:y.sigla,children:y.nome},y.sigla))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Cidade padro"}),o.jsxs("select",{value:_.defaultCity,onChange:y=>S(N=>({...N,defaultCity:y.target.value})),disabled:!_.defaultState||Ec,className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white disabled:opacity-50",children:[o.jsx("option",{value:"",children:Ec?"Carregando...":"Selecione..."}),Fp.map(y=>o.jsx("option",{value:y,children:y},y))]})]})]})]}),o.jsxs("div",{className:"bg-app-cardLight dark:bg-app-cardDark rounded-2xl border border-zinc-200 dark:border-zinc-700 shadow-sm overflow-hidden mb-6",children:[o.jsx("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900/50",children:o.jsxs("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[o.jsx(Xu,{className:"w-5 h-5 text-primary-500"})," Metas e CRM"]})}),o.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Meta mensal (R$)"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-3.5 text-zinc-400 font-bold text-xs",children:"R$"}),o.jsx("input",{type:"number",value:_.pipelineGoal,onChange:y=>S(N=>({...N,pipelineGoal:Number(y.target.value)})),className:"w-full pl-9 p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Dia de fechamento"}),o.jsxs("div",{className:"relative",children:[o.jsx(Yg,{className:"absolute left-3 top-3.5 w-4 h-4 text-zinc-400"}),o.jsx("select",{value:_.pipelineResetDay,onChange:y=>S(N=>({...N,pipelineResetDay:Number(y.target.value)})),className:"w-full pl-10 p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white",children:[1,5,10,15,20,25,30].map(y=>o.jsxs("option",{value:y,children:["Dia ",y]},y))})]})]})]})]}),o.jsxs("div",{className:"bg-app-cardLight dark:bg-app-cardDark rounded-2xl border border-zinc-200 dark:border-zinc-700 shadow-sm overflow-hidden mb-6",children:[o.jsx("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900/50",children:o.jsxs("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[o.jsx(ev,{className:"w-5 h-5 text-danger-500"})," Gerenciamento de Dados"]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-900/30 rounded-xl border border-zinc-100 dark:border-zinc-800",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm text-zinc-900 dark:text-white",children:"Histrico de Busca"}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Limpa a memria de empresas j visitadas pela IA."})]}),o.jsxs("button",{onClick:()=>{confirm("Tem certeza? Isso far com que empresas j vistas possam aparecer novamente.")&&(b([]),ue("Histrico limpo com sucesso!"))},disabled:w.length===0,className:"px-4 py-2 text-xs font-bold bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg hover:text-danger-500 hover:border-danger-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Limpar (",w.length,")"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-900/30 rounded-xl border border-zinc-100 dark:border-zinc-800",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm text-zinc-900 dark:text-white",children:"Resetar CRM"}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Apaga todos os leads e recomea do zero."})]}),o.jsxs("button",{onClick:()=>{confirm("ATENO: Isso apagar TODOS os seus leads do CRM. Esta ao no pode ser desfeita.")&&(h([]),ue("CRM resetado com sucesso!"))},disabled:p.length===0,className:"px-4 py-2 text-xs font-bold bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg text-danger-500 hover:bg-danger-50 dark:hover:bg-danger-900/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Apagar Tudo (",p.length,")"]})]})]})]}),o.jsxs("div",{className:"bg-app-cardLight dark:bg-app-cardDark rounded-2xl border border-zinc-200 dark:border-zinc-700 shadow-sm overflow-hidden mb-6",children:[o.jsx("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900/50",children:o.jsxs("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[o.jsx(pv,{className:"w-5 h-5 text-primary-500"})," Suporte"]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 p-4 bg-blue-50 dark:bg-blue-900/10 rounded-xl border border-blue-100 dark:border-blue-900/30",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm text-zinc-900 dark:text-white",children:"Precisa de ajuda?"}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Entre em contato para suporte, dvidas ou feedback."})]}),o.jsx("a",{href:"mailto:suporte@agenciabenck.com",className:"px-4 py-2 text-xs font-bold bg-white dark:bg-zinc-800 border border-blue-200 dark:border-blue-800 rounded-lg text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors shadow-sm",children:"suporte@agenciabenck.com"})]})})]}),o.jsx("div",{className:"mt-6 flex justify-end",children:o.jsxs("button",{onClick:()=>ue("Configuraes salvas com sucesso!"),className:"bg-success-600 hover:bg-success-700 text-white px-8 py-3 rounded-xl font-bold shadow-lg shadow-success-500/20 transition-all active:scale-95 flex items-center gap-2",children:[o.jsx(Lt,{className:"w-5 h-5"})," Salvar tudo"]})})]})]}),Hp&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white dark:bg-zinc-900 w-full max-w-md rounded-2xl shadow-2xl border border-zinc-200 dark:border-zinc-800 animate-fade-in-up overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-zinc-100 dark:border-zinc-800 flex justify-between items-center bg-zinc-50/50 dark:bg-zinc-900/50",children:[o.jsxs("h3",{className:"font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[o.jsx(fo,{className:"w-5 h-5 text-primary-500"}),"Novo Compromisso"]}),o.jsx("button",{onClick:()=>Gs(!1),className:"p-1 hover:bg-zinc-200 dark:hover:bg-zinc-800 rounded-lg transition-colors",children:o.jsx(pn,{className:"w-5 h-5 text-zinc-500"})})]}),o.jsxs("form",{onSubmit:e0,className:"p-6 space-y-4",children:[o.jsxs("div",{className:"p-3 bg-primary-50 dark:bg-primary-900/20 rounded-xl flex items-center gap-3 border border-primary-100 dark:border-primary-800/50",children:[o.jsxs("div",{className:"bg-white dark:bg-zinc-800 p-2 rounded-lg shadow-sm",children:[o.jsx("span",{className:"block text-xs font-bold text-zinc-500 uppercase text-center",children:De==null?void 0:De.toLocaleDateString("pt-BR",{month:"short"})}),o.jsx("span",{className:"block text-xl font-black text-zinc-900 dark:text-white text-center leading-none",children:De==null?void 0:De.getDate()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-primary-700 dark:text-primary-300",children:"Data selecionada"}),o.jsx("p",{className:"text-xs text-primary-600/80 dark:text-primary-400/80 capitalize",children:De==null?void 0:De.toLocaleDateString("pt-BR",{weekday:"long"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Ttulo do evento"}),o.jsx("input",{autoFocus:!0,required:!0,value:kt.title,onChange:y=>Ws({...kt,title:y.target.value}),className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white outline-none transition-all",placeholder:"Ex: Reunio com Cliente"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Horrio"}),o.jsxs("button",{type:"button",onClick:()=>La(!Ic),className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 text-left flex justify-between items-center hover:border-primary-300 transition-colors",children:[o.jsx("span",{className:"text-zinc-900 dark:text-white font-medium",children:kt.time||"09:00"}),o.jsx(Hn,{className:"w-4 h-4 text-zinc-400"})]}),Ic&&o.jsx("div",{className:"absolute top-full left-0 w-full mt-2 bg-white dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 shadow-xl max-h-48 overflow-y-auto z-20 scrollbar-thin",children:Gw.map(y=>o.jsx("button",{type:"button",onClick:()=>{Ws({...kt,time:y}),La(!1)},className:"w-full text-left px-4 py-2 hover:bg-zinc-100 dark:hover:bg-zinc-700 text-sm text-zinc-700 dark:text-zinc-200 transition-colors",children:y},y))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Descrio (Opcional)"}),o.jsx("textarea",{value:kt.description,onChange:y=>Ws({...kt,description:y.target.value}),className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white outline-none transition-all resize-none h-24",placeholder:"Detalhes do compromisso..."})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:()=>Gs(!1),className:"flex-1 py-3 text-zinc-600 dark:text-zinc-400 font-bold hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-xl transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 py-3 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-xl shadow-lg shadow-primary-500/20 transition-all active:scale-95",children:"Agendar"})]})]})]})}),Vp&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white dark:bg-zinc-900 w-full max-w-lg rounded-2xl shadow-2xl border border-zinc-200 dark:border-zinc-800 animate-fade-in-up flex flex-col max-h-[90vh]",children:[o.jsxs("div",{className:"p-6 border-b border-zinc-100 dark:border-zinc-800 flex justify-between items-center bg-zinc-50/50 dark:bg-zinc-900/50",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-xl font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[o.jsx(Yn,{className:"w-6 h-6 text-primary-500 bg-primary-100 dark:bg-primary-900/30 rounded-lg p-1"}),"Novo Negcio"]}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Adicione um lead manualmente ao seu CRM."})]}),o.jsx("button",{onClick:()=>In(!1),className:"p-2 hover:bg-zinc-200 dark:hover:bg-zinc-800 rounded-full transition-colors",children:o.jsx(pn,{className:"w-5 h-5 text-zinc-500"})})]}),o.jsxs("form",{id:"manual-lead-form",onSubmit:Zp,className:"p-6 space-y-5 overflow-y-auto",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:["Nome da Empresa ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{name:"name",required:!0,className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white outline-none transition-all placeholder:text-zinc-400",placeholder:"Ex: Padaria do Joo"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Valor Potencial"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-3 text-zinc-400 font-bold text-xs",children:"R$"}),o.jsx("input",{value:zc,onChange:y=>{const N=Kw(y.target.value);Tc(N)},className:"w-full pl-9 p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white outline-none font-medium",placeholder:"0,00"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Telefone"}),o.jsx("input",{value:Rc,maxLength:15,onChange:y=>{const N=Qw(y.target.value);Ac(N)},className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white outline-none transition-all",placeholder:"(00) 00000-0000"})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Cidade"}),o.jsx("input",{name:"city",className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white outline-none",placeholder:"So Paulo"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"UF"}),o.jsx("input",{name:"uf",maxLength:2,className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white outline-none uppercase",placeholder:"SP"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Notas iniciais"}),o.jsx("textarea",{name:"notes",rows:4,className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white resize-none",placeholder:"Detalhes do negcio..."})]})]}),o.jsxs("div",{className:"p-6 border-t border-zinc-100 dark:border-zinc-800 flex justify-between items-center bg-zinc-50 dark:bg-zinc-900/50 rounded-b-2xl",children:[o.jsx("button",{type:"button",onClick:()=>In(!1),className:"px-6 py-2.5 text-zinc-600 dark:text-zinc-300 font-bold hover:bg-zinc-200 dark:hover:bg-zinc-800 rounded-xl transition-colors",children:"Cancelar"}),o.jsxs("button",{type:"submit",form:"manual-lead-form",className:"px-6 py-2.5 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-xl shadow-lg shadow-primary-500/20 flex items-center gap-2",children:[o.jsx(Yn,{className:"w-4 h-4"})," Adicionar"]})]})]})}),Pp&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:o.jsx("div",{className:"bg-white dark:bg-zinc-900 w-full max-w-md rounded-2xl shadow-2xl border border-zinc-200 dark:border-zinc-800 animate-fade-in-up overflow-hidden",children:o.jsxs("div",{className:"p-6 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ia,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),o.jsx("h3",{className:"text-xl font-bold text-zinc-900 dark:text-white mb-2",children:"Dados copiados!"}),o.jsx("p",{className:"text-sm text-zinc-500 mb-6",children:"Os leads foram copiados para sua rea de transferncia. Agora basta abrir o Google Sheets e colar (Ctrl+V)."}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[o.jsx("input",{type:"checkbox",id:"dontShowAgain",checked:Sc,onChange:y=>Lp(y.target.checked),className:"rounded text-primary-600 focus:ring-primary-500"}),o.jsx("label",{htmlFor:"dontShowAgain",className:"text-xs text-zinc-500 cursor-pointer select-none",children:"No mostrar essa mensagem novamente"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>Oa(!1),className:"flex-1 py-3 text-zinc-600 dark:text-zinc-400 font-bold hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-xl transition-colors",children:"Fechar"}),o.jsxs("button",{onClick:a0,className:"flex-1 py-3 bg-green-600 hover:bg-green-700 text-white font-bold rounded-xl shadow-lg shadow-green-500/20 transition-all active:scale-95 flex items-center justify-center gap-2",children:[o.jsx(cp,{className:"w-4 h-4"})," Abrir Google Sheets"]})]})]})})})]}):o.jsx(Fw,{onAuthSuccess:()=>{}})};class Zw extends z.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){var t,r,n;return this.state.hasError?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-zinc-900 text-white p-8",children:o.jsxs("div",{className:"max-w-2xl w-full bg-zinc-800 rounded-xl p-8 border border-red-500/20 shadow-2xl",children:[o.jsx("h1",{className:"text-3xl font-bold text-red-500 mb-4",children:"Algo deu errado..."}),o.jsx("p",{className:"text-zinc-300 mb-6",children:"A aplicao encontrou um erro crtico e no pde ser carregada."}),o.jsxs("div",{className:"bg-black/50 rounded-lg p-4 font-mono text-sm overflow-auto max-h-64 mb-6 border border-zinc-700",children:[o.jsxs("div",{className:"text-red-400 font-bold mb-2",children:[(t=this.state.error)==null?void 0:t.name,": ",(r=this.state.error)==null?void 0:r.message]}),o.jsx("div",{className:"text-zinc-500 whitespace-pre-wrap",children:(n=this.state.error)==null?void 0:n.stack})]}),o.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},className:"bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg transition-colors w-full",children:"Limpar Cache e Tentar Novamente"}),o.jsx("p",{className:"text-center text-xs text-zinc-500 mt-4",children:"Isso limpar o LocalStorage, que frequentemente  a causa de erros."})]})}):this.props.children}}const Op=document.getElementById("root");if(!Op)throw new Error("Could not find root element to mount to");const eb=ko.createRoot(Op);eb.render(o.jsx(R0.StrictMode,{children:o.jsx(Zw,{children:o.jsx(Xw,{})})}));
