(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Wp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xd={exports:{}},ta={},wd={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ns=Symbol.for("react.element"),Kp=Symbol.for("react.portal"),Jp=Symbol.for("react.fragment"),Qp=Symbol.for("react.strict_mode"),Yp=Symbol.for("react.profiler"),Xp=Symbol.for("react.provider"),Zp=Symbol.for("react.context"),e0=Symbol.for("react.forward_ref"),t0=Symbol.for("react.suspense"),r0=Symbol.for("react.memo"),n0=Symbol.for("react.lazy"),wc=Symbol.iterator;function s0(e){return e===null||typeof e!="object"?null:(e=wc&&e[wc]||e["@@iterator"],typeof e=="function"?e:null)}var bd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kd=Object.assign,_d={};function _n(e,t,r){this.props=e,this.context=t,this.refs=_d,this.updater=r||bd}_n.prototype.isReactComponent={};_n.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sd(){}Sd.prototype=_n.prototype;function ml(e,t,r){this.props=e,this.context=t,this.refs=_d,this.updater=r||bd}var gl=ml.prototype=new Sd;gl.constructor=ml;kd(gl,_n.prototype);gl.isPureReactComponent=!0;var bc=Array.isArray,jd=Object.prototype.hasOwnProperty,vl={current:null},Ed={key:!0,ref:!0,__self:!0,__source:!0};function Nd(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)jd.call(t,n)&&!Ed.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ns,type:e,key:i,ref:a,props:s,_owner:vl.current}}function i0(e,t){return{$$typeof:Ns,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ns}function a0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var kc=/\/+/g;function za(e,t){return typeof e=="object"&&e!==null&&e.key!=null?a0(""+e.key):t.toString(36)}function di(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ns:case Kp:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+za(a,0):n,bc(s)?(r="",e!=null&&(r=e.replace(kc,"$&/")+"/"),di(s,t,r,"",function(u){return u})):s!=null&&(yl(s)&&(s=i0(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(kc,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",bc(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+za(i,l);a+=di(i,t,r,c,s)}else if(c=s0(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+za(i,l++),a+=di(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Us(e,t,r){if(e==null)return e;var n=[],s=0;return di(e,n,"","",function(i){return t.call(r,i,s++)}),n}function o0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ie={current:null},hi={transition:null},l0={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:hi,ReactCurrentOwner:vl};function Cd(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:Us,forEach:function(e,t,r){Us(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Us(e,function(){t++}),t},toArray:function(e){return Us(e,function(t){return t})||[]},only:function(e){if(!yl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=_n;q.Fragment=Jp;q.Profiler=Yp;q.PureComponent=ml;q.StrictMode=Qp;q.Suspense=t0;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l0;q.act=Cd;q.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=kd({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=vl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)jd.call(t,c)&&!Ed.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ns,type:e.type,key:s,ref:i,props:n,_owner:a}};q.createContext=function(e){return e={$$typeof:Zp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Xp,_context:e},e.Consumer=e};q.createElement=Nd;q.createFactory=function(e){var t=Nd.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:e0,render:e}};q.isValidElement=yl;q.lazy=function(e){return{$$typeof:n0,_payload:{_status:-1,_result:e},_init:o0}};q.memo=function(e,t){return{$$typeof:r0,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=hi.transition;hi.transition={};try{e()}finally{hi.transition=t}};q.unstable_act=Cd;q.useCallback=function(e,t){return Ie.current.useCallback(e,t)};q.useContext=function(e){return Ie.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return Ie.current.useDeferredValue(e)};q.useEffect=function(e,t){return Ie.current.useEffect(e,t)};q.useId=function(){return Ie.current.useId()};q.useImperativeHandle=function(e,t,r){return Ie.current.useImperativeHandle(e,t,r)};q.useInsertionEffect=function(e,t){return Ie.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return Ie.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return Ie.current.useMemo(e,t)};q.useReducer=function(e,t,r){return Ie.current.useReducer(e,t,r)};q.useRef=function(e){return Ie.current.useRef(e)};q.useState=function(e){return Ie.current.useState(e)};q.useSyncExternalStore=function(e,t,r){return Ie.current.useSyncExternalStore(e,t,r)};q.useTransition=function(){return Ie.current.useTransition()};q.version="18.3.1";wd.exports=q;var z=wd.exports;const c0=Wp(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0=z,d0=Symbol.for("react.element"),h0=Symbol.for("react.fragment"),f0=Object.prototype.hasOwnProperty,p0=u0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m0={key:!0,ref:!0,__self:!0,__source:!0};function zd(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)f0.call(t,n)&&!m0.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:d0,type:e,key:i,ref:a,props:s,_owner:p0.current}}ta.Fragment=h0;ta.jsx=zd;ta.jsxs=zd;xd.exports=ta;var o=xd.exports,lo={},Td={exports:{}},Ke={},Rd={exports:{}},Od={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,L){var F=T.length;T.push(L);e:for(;0<F;){var G=F-1>>>1,J=T[G];if(0<s(J,L))T[G]=L,T[F]=J,F=G;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var L=T[0],F=T.pop();if(F!==L){T[0]=F;e:for(var G=0,J=T.length,Ye=J>>>1;G<Ye;){var ee=2*(G+1)-1,Te=T[ee],Se=ee+1,Xe=T[Se];if(0>s(Te,F))Se<J&&0>s(Xe,Te)?(T[G]=Xe,T[Se]=F,G=Se):(T[G]=Te,T[ee]=F,G=ee);else if(Se<J&&0>s(Xe,F))T[G]=Xe,T[Se]=F,G=Se;else break e}}return L}function s(T,L){var F=T.sortIndex-L.sortIndex;return F!==0?F:T.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(T){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=T)n(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(u)}}function b(T){if(x=!1,v(T),!y)if(r(c)!==null)y=!0,it(j);else{var L=r(u);L!==null&&yt(b,L.startTime-T)}}function j(T,L){y=!1,x&&(x=!1,g(E),E=-1),m=!0;var F=h;try{for(v(L),f=r(c);f!==null&&(!(f.expirationTime>L)||T&&!K());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var J=G(f.expirationTime<=L);L=e.unstable_now(),typeof J=="function"?f.callback=J:f===r(c)&&n(c),v(L)}else n(c);f=r(c)}if(f!==null)var Ye=!0;else{var ee=r(u);ee!==null&&yt(b,ee.startTime-L),Ye=!1}return Ye}finally{f=null,h=F,m=!1}}var k=!1,_=null,E=-1,D=5,P=-1;function K(){return!(e.unstable_now()-P<D)}function ue(){if(_!==null){var T=e.unstable_now();P=T;var L=!0;try{L=_(!0,T)}finally{L?se():(k=!1,_=null)}}else k=!1}var se;if(typeof p=="function")se=function(){p(ue)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,fr=Qe.port2;Qe.port1.onmessage=ue,se=function(){fr.postMessage(null)}}else se=function(){w(ue,0)};function it(T){_=T,k||(k=!0,se())}function yt(T,L){E=w(function(){T(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,it(j))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var F=h;h=L;try{return T()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,L){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var F=h;h=T;try{return L()}finally{h=F}},e.unstable_scheduleCallback=function(T,L,F){var G=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,T){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=F+J,T={id:d++,callback:L,priorityLevel:T,startTime:F,expirationTime:J,sortIndex:-1},F>G?(T.sortIndex=F,t(u,T),r(c)===null&&T===r(u)&&(x?(g(E),E=-1):x=!0,yt(b,F-G))):(T.sortIndex=J,t(c,T),y||m||(y=!0,it(j))),T},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(T){var L=h;return function(){var F=h;h=L;try{return T.apply(this,arguments)}finally{h=F}}}})(Od);Rd.exports=Od;var g0=Rd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0=z,We=g0;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ad=new Set,es={};function Pr(e,t){gn(e,t),gn(e+"Capture",t)}function gn(e,t){for(es[e]=t,e=0;e<t.length;e++)Ad.add(t[e])}var It=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),co=Object.prototype.hasOwnProperty,y0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_c={},Sc={};function x0(e){return co.call(Sc,e)?!0:co.call(_c,e)?!1:y0.test(e)?Sc[e]=!0:(_c[e]=!0,!1)}function w0(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b0(e,t,r,n){if(t===null||typeof t>"u"||w0(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pe(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_e[e]=new Pe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_e[t]=new Pe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_e[e]=new Pe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_e[e]=new Pe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_e[e]=new Pe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_e[e]=new Pe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_e[e]=new Pe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_e[e]=new Pe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_e[e]=new Pe(e,5,!1,e.toLowerCase(),null,!1,!1)});var xl=/[\-:]([a-z])/g;function wl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xl,wl);_e[t]=new Pe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xl,wl);_e[t]=new Pe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xl,wl);_e[t]=new Pe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_e[e]=new Pe(e,1,!1,e.toLowerCase(),null,!1,!1)});_e.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_e[e]=new Pe(e,1,!1,e.toLowerCase(),null,!0,!0)});function bl(e,t,r,n){var s=_e.hasOwnProperty(t)?_e[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b0(t,r,s,n)&&(r=null),n||s===null?x0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Dt=v0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fs=Symbol.for("react.element"),Jr=Symbol.for("react.portal"),Qr=Symbol.for("react.fragment"),kl=Symbol.for("react.strict_mode"),uo=Symbol.for("react.profiler"),Id=Symbol.for("react.provider"),Pd=Symbol.for("react.context"),_l=Symbol.for("react.forward_ref"),ho=Symbol.for("react.suspense"),fo=Symbol.for("react.suspense_list"),Sl=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),Ld=Symbol.for("react.offscreen"),jc=Symbol.iterator;function Nn(e){return e===null||typeof e!="object"?null:(e=jc&&e[jc]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,Ta;function Ln(e){if(Ta===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ta=t&&t[1]||""}return`
`+Ta+e}var Ra=!1;function Oa(e,t){if(!e||Ra)return"";Ra=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Ra=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ln(e):""}function k0(e){switch(e.tag){case 5:return Ln(e.type);case 16:return Ln("Lazy");case 13:return Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function po(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qr:return"Fragment";case Jr:return"Portal";case uo:return"Profiler";case kl:return"StrictMode";case ho:return"Suspense";case fo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pd:return(e.displayName||"Context")+".Consumer";case Id:return(e._context.displayName||"Context")+".Provider";case _l:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sl:return t=e.displayName||null,t!==null?t:po(e.type)||"Memo";case Ft:t=e._payload,e=e._init;try{return po(e(t))}catch{}}return null}function _0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return po(t);case 8:return t===kl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function lr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $d(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function S0(e){var t=$d(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bs(e){e._valueTracker||(e._valueTracker=S0(e))}function Dd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$d(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mo(e,t){var r=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ec(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=lr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Md(e,t){t=t.checked,t!=null&&bl(e,"checked",t,!1)}function go(e,t){Md(e,t);var r=lr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vo(e,t.type,r):t.hasOwnProperty("defaultValue")&&vo(e,t.type,lr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function vo(e,t,r){(t!=="number"||Si(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $n=Array.isArray;function cn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+lr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function yo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(N(92));if($n(r)){if(1<r.length)throw Error(N(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:lr(r)}}function Ud(e,t){var r=lr(t.value),n=lr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function zc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vs,Bd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vs=Vs||document.createElement("div"),Vs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ts(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Fn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},j0=["Webkit","ms","Moz","O"];Object.keys(Fn).forEach(function(e){j0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fn[t]=Fn[e]})});function Vd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Fn.hasOwnProperty(e)&&Fn[e]?(""+t).trim():t+"px"}function qd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Vd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var E0=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wo(e,t){if(t){if(E0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function bo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ko=null;function jl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _o=null,un=null,dn=null;function Tc(e){if(e=Ts(e)){if(typeof _o!="function")throw Error(N(280));var t=e.stateNode;t&&(t=aa(t),_o(e.stateNode,e.type,t))}}function Hd(e){un?dn?dn.push(e):dn=[e]:un=e}function Gd(){if(un){var e=un,t=dn;if(dn=un=null,Tc(e),t)for(e=0;e<t.length;e++)Tc(t[e])}}function Wd(e,t){return e(t)}function Kd(){}var Aa=!1;function Jd(e,t,r){if(Aa)return e(t,r);Aa=!0;try{return Wd(e,t,r)}finally{Aa=!1,(un!==null||dn!==null)&&(Kd(),Gd())}}function rs(e,t){var r=e.stateNode;if(r===null)return null;var n=aa(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(N(231,t,typeof r));return r}var So=!1;if(It)try{var Cn={};Object.defineProperty(Cn,"passive",{get:function(){So=!0}}),window.addEventListener("test",Cn,Cn),window.removeEventListener("test",Cn,Cn)}catch{So=!1}function N0(e,t,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Bn=!1,ji=null,Ei=!1,jo=null,C0={onError:function(e){Bn=!0,ji=e}};function z0(e,t,r,n,s,i,a,l,c){Bn=!1,ji=null,N0.apply(C0,arguments)}function T0(e,t,r,n,s,i,a,l,c){if(z0.apply(this,arguments),Bn){if(Bn){var u=ji;Bn=!1,ji=null}else throw Error(N(198));Ei||(Ei=!0,jo=u)}}function Lr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Qd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rc(e){if(Lr(e)!==e)throw Error(N(188))}function R0(e){var t=e.alternate;if(!t){if(t=Lr(e),t===null)throw Error(N(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Rc(s),e;if(i===n)return Rc(s),t;i=i.sibling}throw Error(N(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?e:t}function Yd(e){return e=R0(e),e!==null?Xd(e):null}function Xd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xd(e);if(t!==null)return t;e=e.sibling}return null}var Zd=We.unstable_scheduleCallback,Oc=We.unstable_cancelCallback,O0=We.unstable_shouldYield,A0=We.unstable_requestPaint,de=We.unstable_now,I0=We.unstable_getCurrentPriorityLevel,El=We.unstable_ImmediatePriority,eh=We.unstable_UserBlockingPriority,Ni=We.unstable_NormalPriority,P0=We.unstable_LowPriority,th=We.unstable_IdlePriority,ra=null,_t=null;function L0(e){if(_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(ra,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:M0,$0=Math.log,D0=Math.LN2;function M0(e){return e>>>=0,e===0?32:31-($0(e)/D0|0)|0}var qs=64,Hs=4194304;function Dn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ci(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Dn(l):(i&=a,i!==0&&(n=Dn(i)))}else a=r&~s,a!==0?n=Dn(a):i!==0&&(n=Dn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-mt(t),s=1<<r,n|=e[r],t&=~s;return n}function U0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F0(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-mt(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=U0(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Eo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rh(){var e=qs;return qs<<=1,!(qs&4194240)&&(qs=64),e}function Ia(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Cs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=r}function B0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-mt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Nl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-mt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var W=0;function nh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sh,Cl,ih,ah,oh,No=!1,Gs=[],Xt=null,Zt=null,er=null,ns=new Map,ss=new Map,Gt=[],V0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ac(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":ns.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(t.pointerId)}}function zn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ts(t),t!==null&&Cl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function q0(e,t,r,n,s){switch(t){case"focusin":return Xt=zn(Xt,e,t,r,n,s),!0;case"dragenter":return Zt=zn(Zt,e,t,r,n,s),!0;case"mouseover":return er=zn(er,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ns.set(i,zn(ns.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ss.set(i,zn(ss.get(i)||null,e,t,r,n,s)),!0}return!1}function lh(e){var t=kr(e.target);if(t!==null){var r=Lr(t);if(r!==null){if(t=r.tag,t===13){if(t=Qd(r),t!==null){e.blockedOn=t,oh(e.priority,function(){ih(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Co(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ko=n,r.target.dispatchEvent(n),ko=null}else return t=Ts(r),t!==null&&Cl(t),e.blockedOn=r,!1;t.shift()}return!0}function Ic(e,t,r){fi(e)&&r.delete(t)}function H0(){No=!1,Xt!==null&&fi(Xt)&&(Xt=null),Zt!==null&&fi(Zt)&&(Zt=null),er!==null&&fi(er)&&(er=null),ns.forEach(Ic),ss.forEach(Ic)}function Tn(e,t){e.blockedOn===t&&(e.blockedOn=null,No||(No=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,H0)))}function is(e){function t(s){return Tn(s,e)}if(0<Gs.length){Tn(Gs[0],e);for(var r=1;r<Gs.length;r++){var n=Gs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Xt!==null&&Tn(Xt,e),Zt!==null&&Tn(Zt,e),er!==null&&Tn(er,e),ns.forEach(t),ss.forEach(t),r=0;r<Gt.length;r++)n=Gt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Gt.length&&(r=Gt[0],r.blockedOn===null);)lh(r),r.blockedOn===null&&Gt.shift()}var hn=Dt.ReactCurrentBatchConfig,zi=!0;function G0(e,t,r,n){var s=W,i=hn.transition;hn.transition=null;try{W=1,zl(e,t,r,n)}finally{W=s,hn.transition=i}}function W0(e,t,r,n){var s=W,i=hn.transition;hn.transition=null;try{W=4,zl(e,t,r,n)}finally{W=s,hn.transition=i}}function zl(e,t,r,n){if(zi){var s=Co(e,t,r,n);if(s===null)qa(e,t,n,Ti,r),Ac(e,n);else if(q0(s,e,t,r,n))n.stopPropagation();else if(Ac(e,n),t&4&&-1<V0.indexOf(e)){for(;s!==null;){var i=Ts(s);if(i!==null&&sh(i),i=Co(e,t,r,n),i===null&&qa(e,t,n,Ti,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else qa(e,t,n,null,r)}}var Ti=null;function Co(e,t,r,n){if(Ti=null,e=jl(n),e=kr(e),e!==null)if(t=Lr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Qd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ti=e,null}function ch(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I0()){case El:return 1;case eh:return 4;case Ni:case P0:return 16;case th:return 536870912;default:return 16}default:return 16}}var Jt=null,Tl=null,pi=null;function uh(){if(pi)return pi;var e,t=Tl,r=t.length,n,s="value"in Jt?Jt.value:Jt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return pi=s.slice(e,1<n?1-n:void 0)}function mi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ws(){return!0}function Pc(){return!1}function Je(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ws:Pc,this.isPropagationStopped=Pc,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ws)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ws)},persist:function(){},isPersistent:Ws}),t}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=Je(Sn),zs=oe({},Sn,{view:0,detail:0}),K0=Je(zs),Pa,La,Rn,na=oe({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ol,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rn&&(Rn&&e.type==="mousemove"?(Pa=e.screenX-Rn.screenX,La=e.screenY-Rn.screenY):La=Pa=0,Rn=e),Pa)},movementY:function(e){return"movementY"in e?e.movementY:La}}),Lc=Je(na),J0=oe({},na,{dataTransfer:0}),Q0=Je(J0),Y0=oe({},zs,{relatedTarget:0}),$a=Je(Y0),X0=oe({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Z0=Je(X0),em=oe({},Sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tm=Je(em),rm=oe({},Sn,{data:0}),$c=Je(rm),nm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},im={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function am(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=im[e])?!!t[e]:!1}function Ol(){return am}var om=oe({},zs,{key:function(e){if(e.key){var t=nm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ol,charCode:function(e){return e.type==="keypress"?mi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lm=Je(om),cm=oe({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dc=Je(cm),um=oe({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ol}),dm=Je(um),hm=oe({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),fm=Je(hm),pm=oe({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mm=Je(pm),gm=[9,13,27,32],Al=It&&"CompositionEvent"in window,Vn=null;It&&"documentMode"in document&&(Vn=document.documentMode);var vm=It&&"TextEvent"in window&&!Vn,dh=It&&(!Al||Vn&&8<Vn&&11>=Vn),Mc=" ",Uc=!1;function hh(e,t){switch(e){case"keyup":return gm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yr=!1;function ym(e,t){switch(e){case"compositionend":return fh(t);case"keypress":return t.which!==32?null:(Uc=!0,Mc);case"textInput":return e=t.data,e===Mc&&Uc?null:e;default:return null}}function xm(e,t){if(Yr)return e==="compositionend"||!Al&&hh(e,t)?(e=uh(),pi=Tl=Jt=null,Yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dh&&t.locale!=="ko"?null:t.data;default:return null}}var wm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wm[e.type]:t==="textarea"}function ph(e,t,r,n){Hd(n),t=Ri(t,"onChange"),0<t.length&&(r=new Rl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var qn=null,as=null;function bm(e){jh(e,0)}function sa(e){var t=en(e);if(Dd(t))return e}function km(e,t){if(e==="change")return t}var mh=!1;if(It){var Da;if(It){var Ma="oninput"in document;if(!Ma){var Bc=document.createElement("div");Bc.setAttribute("oninput","return;"),Ma=typeof Bc.oninput=="function"}Da=Ma}else Da=!1;mh=Da&&(!document.documentMode||9<document.documentMode)}function Vc(){qn&&(qn.detachEvent("onpropertychange",gh),as=qn=null)}function gh(e){if(e.propertyName==="value"&&sa(as)){var t=[];ph(t,as,e,jl(e)),Jd(bm,t)}}function _m(e,t,r){e==="focusin"?(Vc(),qn=t,as=r,qn.attachEvent("onpropertychange",gh)):e==="focusout"&&Vc()}function Sm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sa(as)}function jm(e,t){if(e==="click")return sa(t)}function Em(e,t){if(e==="input"||e==="change")return sa(t)}function Nm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:Nm;function os(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!co.call(t,s)||!vt(e[s],t[s]))return!1}return!0}function qc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hc(e,t){var r=qc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qc(r)}}function vh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yh(){for(var e=window,t=Si();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Si(e.document)}return t}function Il(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Cm(e){var t=yh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&vh(r.ownerDocument.documentElement,r)){if(n!==null&&Il(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Hc(r,i);var a=Hc(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zm=It&&"documentMode"in document&&11>=document.documentMode,Xr=null,zo=null,Hn=null,To=!1;function Gc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;To||Xr==null||Xr!==Si(n)||(n=Xr,"selectionStart"in n&&Il(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hn&&os(Hn,n)||(Hn=n,n=Ri(zo,"onSelect"),0<n.length&&(t=new Rl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Xr)))}function Ks(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Zr={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionend:Ks("Transition","TransitionEnd")},Ua={},xh={};It&&(xh=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function ia(e){if(Ua[e])return Ua[e];if(!Zr[e])return e;var t=Zr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in xh)return Ua[e]=t[r];return e}var wh=ia("animationend"),bh=ia("animationiteration"),kh=ia("animationstart"),_h=ia("transitionend"),Sh=new Map,Wc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ur(e,t){Sh.set(e,t),Pr(t,[e])}for(var Fa=0;Fa<Wc.length;Fa++){var Ba=Wc[Fa],Tm=Ba.toLowerCase(),Rm=Ba[0].toUpperCase()+Ba.slice(1);ur(Tm,"on"+Rm)}ur(wh,"onAnimationEnd");ur(bh,"onAnimationIteration");ur(kh,"onAnimationStart");ur("dblclick","onDoubleClick");ur("focusin","onFocus");ur("focusout","onBlur");ur(_h,"onTransitionEnd");gn("onMouseEnter",["mouseout","mouseover"]);gn("onMouseLeave",["mouseout","mouseover"]);gn("onPointerEnter",["pointerout","pointerover"]);gn("onPointerLeave",["pointerout","pointerover"]);Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Om=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mn));function Kc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,T0(n,t,void 0,e),e.currentTarget=null}function jh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Kc(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Kc(s,l,u),i=c}}}if(Ei)throw e=jo,Ei=!1,jo=null,e}function te(e,t){var r=t[Po];r===void 0&&(r=t[Po]=new Set);var n=e+"__bubble";r.has(n)||(Eh(t,e,2,!1),r.add(n))}function Va(e,t,r){var n=0;t&&(n|=4),Eh(r,e,n,t)}var Js="_reactListening"+Math.random().toString(36).slice(2);function ls(e){if(!e[Js]){e[Js]=!0,Ad.forEach(function(r){r!=="selectionchange"&&(Om.has(r)||Va(r,!1,e),Va(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Js]||(t[Js]=!0,Va("selectionchange",!1,t))}}function Eh(e,t,r,n){switch(ch(t)){case 1:var s=G0;break;case 4:s=W0;break;default:s=zl}r=s.bind(null,t,r,e),s=void 0,!So||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function qa(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=kr(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}Jd(function(){var u=i,d=jl(r),f=[];e:{var h=Sh.get(e);if(h!==void 0){var m=Rl,y=e;switch(e){case"keypress":if(mi(r)===0)break e;case"keydown":case"keyup":m=lm;break;case"focusin":y="focus",m=$a;break;case"focusout":y="blur",m=$a;break;case"beforeblur":case"afterblur":m=$a;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=dm;break;case wh:case bh:case kh:m=Z0;break;case _h:m=fm;break;case"scroll":m=K0;break;case"wheel":m=mm;break;case"copy":case"cut":case"paste":m=tm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Dc}var x=(t&4)!==0,w=!x&&e==="scroll",g=x?h!==null?h+"Capture":null:h;x=[];for(var p=u,v;p!==null;){v=p;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,g!==null&&(b=rs(p,g),b!=null&&x.push(cs(p,b,v)))),w)break;p=p.return}0<x.length&&(h=new m(h,y,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==ko&&(y=r.relatedTarget||r.fromElement)&&(kr(y)||y[Pt]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?kr(y):null,y!==null&&(w=Lr(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(x=Lc,b="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=Dc,b="onPointerLeave",g="onPointerEnter",p="pointer"),w=m==null?h:en(m),v=y==null?h:en(y),h=new x(b,p+"leave",m,r,d),h.target=w,h.relatedTarget=v,b=null,kr(d)===u&&(x=new x(g,p+"enter",y,r,d),x.target=v,x.relatedTarget=w,b=x),w=b,m&&y)t:{for(x=m,g=y,p=0,v=x;v;v=Dr(v))p++;for(v=0,b=g;b;b=Dr(b))v++;for(;0<p-v;)x=Dr(x),p--;for(;0<v-p;)g=Dr(g),v--;for(;p--;){if(x===g||g!==null&&x===g.alternate)break t;x=Dr(x),g=Dr(g)}x=null}else x=null;m!==null&&Jc(f,h,m,x,!1),y!==null&&w!==null&&Jc(f,w,y,x,!0)}}e:{if(h=u?en(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=km;else if(Fc(h))if(mh)j=Em;else{j=Sm;var k=_m}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=jm);if(j&&(j=j(e,u))){ph(f,j,r,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&vo(h,"number",h.value)}switch(k=u?en(u):window,e){case"focusin":(Fc(k)||k.contentEditable==="true")&&(Xr=k,zo=u,Hn=null);break;case"focusout":Hn=zo=Xr=null;break;case"mousedown":To=!0;break;case"contextmenu":case"mouseup":case"dragend":To=!1,Gc(f,r,d);break;case"selectionchange":if(zm)break;case"keydown":case"keyup":Gc(f,r,d)}var _;if(Al)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Yr?hh(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(dh&&r.locale!=="ko"&&(Yr||E!=="onCompositionStart"?E==="onCompositionEnd"&&Yr&&(_=uh()):(Jt=d,Tl="value"in Jt?Jt.value:Jt.textContent,Yr=!0)),k=Ri(u,E),0<k.length&&(E=new $c(E,e,null,r,d),f.push({event:E,listeners:k}),_?E.data=_:(_=fh(r),_!==null&&(E.data=_)))),(_=vm?ym(e,r):xm(e,r))&&(u=Ri(u,"onBeforeInput"),0<u.length&&(d=new $c("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}jh(f,t)})}function cs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ri(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=rs(e,r),i!=null&&n.unshift(cs(e,i,s)),i=rs(e,t),i!=null&&n.push(cs(e,i,s))),e=e.return}return n}function Dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jc(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=rs(r,i),c!=null&&a.unshift(cs(r,c,l))):s||(c=rs(r,i),c!=null&&a.push(cs(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Am=/\r\n?/g,Im=/\u0000|\uFFFD/g;function Qc(e){return(typeof e=="string"?e:""+e).replace(Am,`
`).replace(Im,"")}function Qs(e,t,r){if(t=Qc(t),Qc(e)!==t&&r)throw Error(N(425))}function Oi(){}var Ro=null,Oo=null;function Ao(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Io=typeof setTimeout=="function"?setTimeout:void 0,Pm=typeof clearTimeout=="function"?clearTimeout:void 0,Yc=typeof Promise=="function"?Promise:void 0,Lm=typeof queueMicrotask=="function"?queueMicrotask:typeof Yc<"u"?function(e){return Yc.resolve(null).then(e).catch($m)}:Io;function $m(e){setTimeout(function(){throw e})}function Ha(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),is(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);is(t)}function tr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var jn=Math.random().toString(36).slice(2),kt="__reactFiber$"+jn,us="__reactProps$"+jn,Pt="__reactContainer$"+jn,Po="__reactEvents$"+jn,Dm="__reactListeners$"+jn,Mm="__reactHandles$"+jn;function kr(e){var t=e[kt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Pt]||r[kt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Xc(e);e!==null;){if(r=e[kt])return r;e=Xc(e)}return t}e=r,r=e.parentNode}return null}function Ts(e){return e=e[kt]||e[Pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function en(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function aa(e){return e[us]||null}var Lo=[],tn=-1;function dr(e){return{current:e}}function re(e){0>tn||(e.current=Lo[tn],Lo[tn]=null,tn--)}function Z(e,t){tn++,Lo[tn]=e.current,e.current=t}var cr={},ze=dr(cr),De=dr(!1),Cr=cr;function vn(e,t){var r=e.type.contextTypes;if(!r)return cr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Me(e){return e=e.childContextTypes,e!=null}function Ai(){re(De),re(ze)}function Zc(e,t,r){if(ze.current!==cr)throw Error(N(168));Z(ze,t),Z(De,r)}function Nh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(N(108,_0(e)||"Unknown",s));return oe({},r,n)}function Ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cr,Cr=ze.current,Z(ze,e),Z(De,De.current),!0}function eu(e,t,r){var n=e.stateNode;if(!n)throw Error(N(169));r?(e=Nh(e,t,Cr),n.__reactInternalMemoizedMergedChildContext=e,re(De),re(ze),Z(ze,e)):re(De),Z(De,r)}var Ct=null,oa=!1,Ga=!1;function Ch(e){Ct===null?Ct=[e]:Ct.push(e)}function Um(e){oa=!0,Ch(e)}function hr(){if(!Ga&&Ct!==null){Ga=!0;var e=0,t=W;try{var r=Ct;for(W=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ct=null,oa=!1}catch(s){throw Ct!==null&&(Ct=Ct.slice(e+1)),Zd(El,hr),s}finally{W=t,Ga=!1}}return null}var rn=[],nn=0,Pi=null,Li=0,Ze=[],et=0,zr=null,zt=1,Tt="";function vr(e,t){rn[nn++]=Li,rn[nn++]=Pi,Pi=e,Li=t}function zh(e,t,r){Ze[et++]=zt,Ze[et++]=Tt,Ze[et++]=zr,zr=e;var n=zt;e=Tt;var s=32-mt(n)-1;n&=~(1<<s),r+=1;var i=32-mt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,zt=1<<32-mt(t)+s|r<<s|n,Tt=i+e}else zt=1<<i|r<<s|n,Tt=e}function Pl(e){e.return!==null&&(vr(e,1),zh(e,1,0))}function Ll(e){for(;e===Pi;)Pi=rn[--nn],rn[nn]=null,Li=rn[--nn],rn[nn]=null;for(;e===zr;)zr=Ze[--et],Ze[et]=null,Tt=Ze[--et],Ze[et]=null,zt=Ze[--et],Ze[et]=null}var Ge=null,He=null,ne=!1,pt=null;function Th(e,t){var r=tt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function tu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ge=e,He=tr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ge=e,He=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=zr!==null?{id:zt,overflow:Tt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=tt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ge=e,He=null,!0):!1;default:return!1}}function $o(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Do(e){if(ne){var t=He;if(t){var r=t;if(!tu(e,t)){if($o(e))throw Error(N(418));t=tr(r.nextSibling);var n=Ge;t&&tu(e,t)?Th(n,r):(e.flags=e.flags&-4097|2,ne=!1,Ge=e)}}else{if($o(e))throw Error(N(418));e.flags=e.flags&-4097|2,ne=!1,Ge=e}}}function ru(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ge=e}function Ys(e){if(e!==Ge)return!1;if(!ne)return ru(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ao(e.type,e.memoizedProps)),t&&(t=He)){if($o(e))throw Rh(),Error(N(418));for(;t;)Th(e,t),t=tr(t.nextSibling)}if(ru(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){He=tr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}He=null}}else He=Ge?tr(e.stateNode.nextSibling):null;return!0}function Rh(){for(var e=He;e;)e=tr(e.nextSibling)}function yn(){He=Ge=null,ne=!1}function $l(e){pt===null?pt=[e]:pt.push(e)}var Fm=Dt.ReactCurrentBatchConfig;function On(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,e))}return e}function Xs(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nu(e){var t=e._init;return t(e._payload)}function Oh(e){function t(g,p){if(e){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=ir(g,p),g.index=0,g.sibling=null,g}function i(g,p,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,v,b){return p===null||p.tag!==6?(p=Za(v,g.mode,b),p.return=g,p):(p=s(p,v),p.return=g,p)}function c(g,p,v,b){var j=v.type;return j===Qr?d(g,p,v.props.children,b,v.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ft&&nu(j)===p.type)?(b=s(p,v.props),b.ref=On(g,p,v),b.return=g,b):(b=ki(v.type,v.key,v.props,null,g.mode,b),b.ref=On(g,p,v),b.return=g,b)}function u(g,p,v,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=eo(v,g.mode,b),p.return=g,p):(p=s(p,v.children||[]),p.return=g,p)}function d(g,p,v,b,j){return p===null||p.tag!==7?(p=Nr(v,g.mode,b,j),p.return=g,p):(p=s(p,v),p.return=g,p)}function f(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Za(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Fs:return v=ki(p.type,p.key,p.props,null,g.mode,v),v.ref=On(g,null,p),v.return=g,v;case Jr:return p=eo(p,g.mode,v),p.return=g,p;case Ft:var b=p._init;return f(g,b(p._payload),v)}if($n(p)||Nn(p))return p=Nr(p,g.mode,v,null),p.return=g,p;Xs(g,p)}return null}function h(g,p,v,b){var j=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:l(g,p,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fs:return v.key===j?c(g,p,v,b):null;case Jr:return v.key===j?u(g,p,v,b):null;case Ft:return j=v._init,h(g,p,j(v._payload),b)}if($n(v)||Nn(v))return j!==null?null:d(g,p,v,b,null);Xs(g,v)}return null}function m(g,p,v,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(v)||null,l(p,g,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fs:return g=g.get(b.key===null?v:b.key)||null,c(p,g,b,j);case Jr:return g=g.get(b.key===null?v:b.key)||null,u(p,g,b,j);case Ft:var k=b._init;return m(g,p,v,k(b._payload),j)}if($n(b)||Nn(b))return g=g.get(v)||null,d(p,g,b,j,null);Xs(p,b)}return null}function y(g,p,v,b){for(var j=null,k=null,_=p,E=p=0,D=null;_!==null&&E<v.length;E++){_.index>E?(D=_,_=null):D=_.sibling;var P=h(g,_,v[E],b);if(P===null){_===null&&(_=D);break}e&&_&&P.alternate===null&&t(g,_),p=i(P,p,E),k===null?j=P:k.sibling=P,k=P,_=D}if(E===v.length)return r(g,_),ne&&vr(g,E),j;if(_===null){for(;E<v.length;E++)_=f(g,v[E],b),_!==null&&(p=i(_,p,E),k===null?j=_:k.sibling=_,k=_);return ne&&vr(g,E),j}for(_=n(g,_);E<v.length;E++)D=m(_,g,E,v[E],b),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?E:D.key),p=i(D,p,E),k===null?j=D:k.sibling=D,k=D);return e&&_.forEach(function(K){return t(g,K)}),ne&&vr(g,E),j}function x(g,p,v,b){var j=Nn(v);if(typeof j!="function")throw Error(N(150));if(v=j.call(v),v==null)throw Error(N(151));for(var k=j=null,_=p,E=p=0,D=null,P=v.next();_!==null&&!P.done;E++,P=v.next()){_.index>E?(D=_,_=null):D=_.sibling;var K=h(g,_,P.value,b);if(K===null){_===null&&(_=D);break}e&&_&&K.alternate===null&&t(g,_),p=i(K,p,E),k===null?j=K:k.sibling=K,k=K,_=D}if(P.done)return r(g,_),ne&&vr(g,E),j;if(_===null){for(;!P.done;E++,P=v.next())P=f(g,P.value,b),P!==null&&(p=i(P,p,E),k===null?j=P:k.sibling=P,k=P);return ne&&vr(g,E),j}for(_=n(g,_);!P.done;E++,P=v.next())P=m(_,g,E,P.value,b),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?E:P.key),p=i(P,p,E),k===null?j=P:k.sibling=P,k=P);return e&&_.forEach(function(ue){return t(g,ue)}),ne&&vr(g,E),j}function w(g,p,v,b){if(typeof v=="object"&&v!==null&&v.type===Qr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Fs:e:{for(var j=v.key,k=p;k!==null;){if(k.key===j){if(j=v.type,j===Qr){if(k.tag===7){r(g,k.sibling),p=s(k,v.props.children),p.return=g,g=p;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ft&&nu(j)===k.type){r(g,k.sibling),p=s(k,v.props),p.ref=On(g,k,v),p.return=g,g=p;break e}r(g,k);break}else t(g,k);k=k.sibling}v.type===Qr?(p=Nr(v.props.children,g.mode,b,v.key),p.return=g,g=p):(b=ki(v.type,v.key,v.props,null,g.mode,b),b.ref=On(g,p,v),b.return=g,g=b)}return a(g);case Jr:e:{for(k=v.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){r(g,p.sibling),p=s(p,v.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=eo(v,g.mode,b),p.return=g,g=p}return a(g);case Ft:return k=v._init,w(g,p,k(v._payload),b)}if($n(v))return y(g,p,v,b);if(Nn(v))return x(g,p,v,b);Xs(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,v),p.return=g,g=p):(r(g,p),p=Za(v,g.mode,b),p.return=g,g=p),a(g)):r(g,p)}return w}var xn=Oh(!0),Ah=Oh(!1),$i=dr(null),Di=null,sn=null,Dl=null;function Ml(){Dl=sn=Di=null}function Ul(e){var t=$i.current;re($i),e._currentValue=t}function Mo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function fn(e,t){Di=e,Dl=sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($e=!0),e.firstContext=null)}function nt(e){var t=e._currentValue;if(Dl!==e)if(e={context:e,memoizedValue:t,next:null},sn===null){if(Di===null)throw Error(N(308));sn=e,Di.dependencies={lanes:0,firstContext:e}}else sn=sn.next=e;return t}var _r=null;function Fl(e){_r===null?_r=[e]:_r.push(e)}function Ih(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Fl(t)):(r.next=s.next,s.next=r),t.interleaved=r,Lt(e,n)}function Lt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bt=!1;function Bl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ph(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ot(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,H&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Lt(e,r)}return s=n.interleaved,s===null?(t.next=t,Fl(n)):(t.next=s.next,s.next=t),n.interleaved=t,Lt(e,r)}function gi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nl(e,r)}}function su(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Mi(e,t,r,n){var s=e.updateQueue;Bt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,x=l;switch(h=t,m=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=oe({},f,h);break e;case 2:Bt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Rr|=a,e.lanes=a,e.memoizedState=f}}function iu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(N(191,s));s.call(n)}}}var Rs={},St=dr(Rs),ds=dr(Rs),hs=dr(Rs);function Sr(e){if(e===Rs)throw Error(N(174));return e}function Vl(e,t){switch(Z(hs,t),Z(ds,e),Z(St,Rs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xo(t,e)}re(St),Z(St,t)}function wn(){re(St),re(ds),re(hs)}function Lh(e){Sr(hs.current);var t=Sr(St.current),r=xo(t,e.type);t!==r&&(Z(ds,e),Z(St,r))}function ql(e){ds.current===e&&(re(St),re(ds))}var ie=dr(0);function Ui(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wa=[];function Hl(){for(var e=0;e<Wa.length;e++)Wa[e]._workInProgressVersionPrimary=null;Wa.length=0}var vi=Dt.ReactCurrentDispatcher,Ka=Dt.ReactCurrentBatchConfig,Tr=0,ae=null,me=null,ve=null,Fi=!1,Gn=!1,fs=0,Bm=0;function je(){throw Error(N(321))}function Gl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!vt(e[r],t[r]))return!1;return!0}function Wl(e,t,r,n,s,i){if(Tr=i,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vi.current=e===null||e.memoizedState===null?Gm:Wm,e=r(n,s),Gn){i=0;do{if(Gn=!1,fs=0,25<=i)throw Error(N(301));i+=1,ve=me=null,t.updateQueue=null,vi.current=Km,e=r(n,s)}while(Gn)}if(vi.current=Bi,t=me!==null&&me.next!==null,Tr=0,ve=me=ae=null,Fi=!1,t)throw Error(N(300));return e}function Kl(){var e=fs!==0;return fs=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?ae.memoizedState=ve=e:ve=ve.next=e,ve}function st(){if(me===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=ve===null?ae.memoizedState:ve.next;if(t!==null)ve=t,me=e;else{if(e===null)throw Error(N(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},ve===null?ae.memoizedState=ve=e:ve=ve.next=e}return ve}function ps(e,t){return typeof t=="function"?t(e):t}function Ja(e){var t=st(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=me,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Tr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,ae.lanes|=d,Rr|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,vt(n,t.memoizedState)||($e=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ae.lanes|=i,Rr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Qa(e){var t=st(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);vt(i,t.memoizedState)||($e=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function $h(){}function Dh(e,t){var r=ae,n=st(),s=t(),i=!vt(n.memoizedState,s);if(i&&(n.memoizedState=s,$e=!0),n=n.queue,Jl(Fh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ve!==null&&ve.memoizedState.tag&1){if(r.flags|=2048,ms(9,Uh.bind(null,r,n,s,t),void 0,null),ye===null)throw Error(N(349));Tr&30||Mh(r,t,s)}return s}function Mh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Uh(e,t,r,n){t.value=r,t.getSnapshot=n,Bh(t)&&Vh(e)}function Fh(e,t,r){return r(function(){Bh(t)&&Vh(e)})}function Bh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!vt(e,r)}catch{return!0}}function Vh(e){var t=Lt(e,1);t!==null&&gt(t,e,1,-1)}function au(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:e},t.queue=e,e=e.dispatch=Hm.bind(null,ae,e),[t.memoizedState,e]}function ms(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function qh(){return st().memoizedState}function yi(e,t,r,n){var s=bt();ae.flags|=e,s.memoizedState=ms(1|t,r,void 0,n===void 0?null:n)}function la(e,t,r,n){var s=st();n=n===void 0?null:n;var i=void 0;if(me!==null){var a=me.memoizedState;if(i=a.destroy,n!==null&&Gl(n,a.deps)){s.memoizedState=ms(t,r,i,n);return}}ae.flags|=e,s.memoizedState=ms(1|t,r,i,n)}function ou(e,t){return yi(8390656,8,e,t)}function Jl(e,t){return la(2048,8,e,t)}function Hh(e,t){return la(4,2,e,t)}function Gh(e,t){return la(4,4,e,t)}function Wh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kh(e,t,r){return r=r!=null?r.concat([e]):null,la(4,4,Wh.bind(null,t,e),r)}function Ql(){}function Jh(e,t){var r=st();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Qh(e,t){var r=st();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Yh(e,t,r){return Tr&21?(vt(r,t)||(r=rh(),ae.lanes|=r,Rr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$e=!0),e.memoizedState=r)}function Vm(e,t){var r=W;W=r!==0&&4>r?r:4,e(!0);var n=Ka.transition;Ka.transition={};try{e(!1),t()}finally{W=r,Ka.transition=n}}function Xh(){return st().memoizedState}function qm(e,t,r){var n=sr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Zh(e))ef(t,r);else if(r=Ih(e,t,r,n),r!==null){var s=Ae();gt(r,e,n,s),tf(r,t,n)}}function Hm(e,t,r){var n=sr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zh(e))ef(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,vt(l,a)){var c=t.interleaved;c===null?(s.next=s,Fl(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Ih(e,t,s,n),r!==null&&(s=Ae(),gt(r,e,n,s),tf(r,t,n))}}function Zh(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function ef(e,t){Gn=Fi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function tf(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nl(e,r)}}var Bi={readContext:nt,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},Gm={readContext:nt,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:ou,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,yi(4194308,4,Wh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return yi(4194308,4,e,t)},useInsertionEffect:function(e,t){return yi(4,2,e,t)},useMemo:function(e,t){var r=bt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=bt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=qm.bind(null,ae,e),[n.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:au,useDebugValue:Ql,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=au(!1),t=e[0];return e=Vm.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ae,s=bt();if(ne){if(r===void 0)throw Error(N(407));r=r()}else{if(r=t(),ye===null)throw Error(N(349));Tr&30||Mh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,ou(Fh.bind(null,n,i,e),[e]),n.flags|=2048,ms(9,Uh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=bt(),t=ye.identifierPrefix;if(ne){var r=Tt,n=zt;r=(n&~(1<<32-mt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=fs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Bm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Wm={readContext:nt,useCallback:Jh,useContext:nt,useEffect:Jl,useImperativeHandle:Kh,useInsertionEffect:Hh,useLayoutEffect:Gh,useMemo:Qh,useReducer:Ja,useRef:qh,useState:function(){return Ja(ps)},useDebugValue:Ql,useDeferredValue:function(e){var t=st();return Yh(t,me.memoizedState,e)},useTransition:function(){var e=Ja(ps)[0],t=st().memoizedState;return[e,t]},useMutableSource:$h,useSyncExternalStore:Dh,useId:Xh,unstable_isNewReconciler:!1},Km={readContext:nt,useCallback:Jh,useContext:nt,useEffect:Jl,useImperativeHandle:Kh,useInsertionEffect:Hh,useLayoutEffect:Gh,useMemo:Qh,useReducer:Qa,useRef:qh,useState:function(){return Qa(ps)},useDebugValue:Ql,useDeferredValue:function(e){var t=st();return me===null?t.memoizedState=e:Yh(t,me.memoizedState,e)},useTransition:function(){var e=Qa(ps)[0],t=st().memoizedState;return[e,t]},useMutableSource:$h,useSyncExternalStore:Dh,useId:Xh,unstable_isNewReconciler:!1};function ut(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Uo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:oe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ca={isMounted:function(e){return(e=e._reactInternals)?Lr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ae(),s=sr(e),i=Ot(n,s);i.payload=t,r!=null&&(i.callback=r),t=rr(e,i,s),t!==null&&(gt(t,e,s,n),gi(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ae(),s=sr(e),i=Ot(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=rr(e,i,s),t!==null&&(gt(t,e,s,n),gi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ae(),n=sr(e),s=Ot(r,n);s.tag=2,t!=null&&(s.callback=t),t=rr(e,s,n),t!==null&&(gt(t,e,n,r),gi(t,e,n))}};function lu(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!os(r,n)||!os(s,i):!0}function rf(e,t,r){var n=!1,s=cr,i=t.contextType;return typeof i=="object"&&i!==null?i=nt(i):(s=Me(t)?Cr:ze.current,n=t.contextTypes,i=(n=n!=null)?vn(e,s):cr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function cu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function Fo(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Bl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=nt(i):(i=Me(t)?Cr:ze.current,s.context=vn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Uo(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ca.enqueueReplaceState(s,s.state,null),Mi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function bn(e,t){try{var r="",n=t;do r+=k0(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ya(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Bo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Jm=typeof WeakMap=="function"?WeakMap:Map;function nf(e,t,r){r=Ot(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){qi||(qi=!0,Xo=n),Bo(e,t)},r}function sf(e,t,r){r=Ot(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Bo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Bo(e,t),typeof n!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function uu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Jm;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=cg.bind(null,e,t,r),t.then(e,e))}function du(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ot(-1,1),t.tag=2,rr(r,t,1))),r.lanes|=1),e)}var Qm=Dt.ReactCurrentOwner,$e=!1;function Oe(e,t,r,n){t.child=e===null?Ah(t,null,r,n):xn(t,e.child,r,n)}function fu(e,t,r,n,s){r=r.render;var i=t.ref;return fn(t,s),n=Wl(e,t,r,n,i,s),r=Kl(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$t(e,t,s)):(ne&&r&&Pl(t),t.flags|=1,Oe(e,t,n,s),t.child)}function pu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!sc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,af(e,t,i,n,s)):(e=ki(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:os,r(a,n)&&e.ref===t.ref)return $t(e,t,s)}return t.flags|=1,e=ir(i,n),e.ref=t.ref,e.return=t,t.child=e}function af(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(os(i,n)&&e.ref===t.ref)if($e=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&($e=!0);else return t.lanes=e.lanes,$t(e,t,s)}return Vo(e,t,r,n,s)}function of(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(on,Ve),Ve|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(on,Ve),Ve|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Z(on,Ve),Ve|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Z(on,Ve),Ve|=n;return Oe(e,t,s,r),t.child}function lf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Vo(e,t,r,n,s){var i=Me(r)?Cr:ze.current;return i=vn(t,i),fn(t,s),r=Wl(e,t,r,n,i,s),n=Kl(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$t(e,t,s)):(ne&&n&&Pl(t),t.flags|=1,Oe(e,t,r,s),t.child)}function mu(e,t,r,n,s){if(Me(r)){var i=!0;Ii(t)}else i=!1;if(fn(t,s),t.stateNode===null)xi(e,t),rf(t,r,n),Fo(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=nt(u):(u=Me(r)?Cr:ze.current,u=vn(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&cu(t,a,n,u),Bt=!1;var h=t.memoizedState;a.state=h,Mi(t,n,a,s),c=t.memoizedState,l!==n||h!==c||De.current||Bt?(typeof d=="function"&&(Uo(t,r,d,n),c=t.memoizedState),(l=Bt||lu(t,r,l,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Ph(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ut(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=nt(c):(c=Me(r)?Cr:ze.current,c=vn(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&cu(t,a,n,c),Bt=!1,h=t.memoizedState,a.state=h,Mi(t,n,a,s);var y=t.memoizedState;l!==f||h!==y||De.current||Bt?(typeof m=="function"&&(Uo(t,r,m,n),y=t.memoizedState),(u=Bt||lu(t,r,u,n,h,y,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),a.props=n,a.state=y,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return qo(e,t,r,n,i,s)}function qo(e,t,r,n,s,i){lf(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&eu(t,r,!1),$t(e,t,i);n=t.stateNode,Qm.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=xn(t,e.child,null,i),t.child=xn(t,null,l,i)):Oe(e,t,l,i),t.memoizedState=n.state,s&&eu(t,r,!0),t.child}function cf(e){var t=e.stateNode;t.pendingContext?Zc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zc(e,t.context,!1),Vl(e,t.containerInfo)}function gu(e,t,r,n,s){return yn(),$l(s),t.flags|=256,Oe(e,t,r,n),t.child}var Ho={dehydrated:null,treeContext:null,retryLane:0};function Go(e){return{baseLanes:e,cachePool:null,transitions:null}}function uf(e,t,r){var n=t.pendingProps,s=ie.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Z(ie,s&1),e===null)return Do(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ha(a,n,0,null),e=Nr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Go(r),t.memoizedState=Ho,e):Yl(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Ym(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ir(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ir(l,i):(i=Nr(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Go(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Ho,n}return i=e.child,e=i.sibling,n=ir(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Yl(e,t){return t=ha({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zs(e,t,r,n){return n!==null&&$l(n),xn(t,e.child,null,r),e=Yl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ym(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Ya(Error(N(422))),Zs(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=ha({mode:"visible",children:n.children},s,0,null),i=Nr(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&xn(t,e.child,null,a),t.child.memoizedState=Go(a),t.memoizedState=Ho,i);if(!(t.mode&1))return Zs(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(N(419)),n=Ya(i,n,void 0),Zs(e,t,a,n)}if(l=(a&e.childLanes)!==0,$e||l){if(n=ye,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Lt(e,s),gt(n,e,s,-1))}return nc(),n=Ya(Error(N(421))),Zs(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ug.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,He=tr(s.nextSibling),Ge=t,ne=!0,pt=null,e!==null&&(Ze[et++]=zt,Ze[et++]=Tt,Ze[et++]=zr,zt=e.id,Tt=e.overflow,zr=t),t=Yl(t,n.children),t.flags|=4096,t)}function vu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Mo(e.return,t,r)}function Xa(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function df(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Oe(e,t,n.children,r),n=ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vu(e,r,t);else if(e.tag===19)vu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Z(ie,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ui(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Xa(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ui(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Xa(t,!0,r,null,i);break;case"together":Xa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $t(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Rr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,r=ir(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ir(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Xm(e,t,r){switch(t.tag){case 3:cf(t),yn();break;case 5:Lh(t);break;case 1:Me(t.type)&&Ii(t);break;case 4:Vl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Z($i,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Z(ie,ie.current&1),t.flags|=128,null):r&t.child.childLanes?uf(e,t,r):(Z(ie,ie.current&1),e=$t(e,t,r),e!==null?e.sibling:null);Z(ie,ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return df(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(ie,ie.current),n)break;return null;case 22:case 23:return t.lanes=0,of(e,t,r)}return $t(e,t,r)}var hf,Wo,ff,pf;hf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wo=function(){};ff=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Sr(St.current);var i=null;switch(r){case"input":s=mo(e,s),n=mo(e,n),i=[];break;case"select":s=oe({},s,{value:void 0}),n=oe({},n,{value:void 0}),i=[];break;case"textarea":s=yo(e,s),n=yo(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Oi)}wo(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(es.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(es.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&te("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};pf=function(e,t,r,n){r!==n&&(t.flags|=4)};function An(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Zm(e,t,r){var n=t.pendingProps;switch(Ll(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(t),null;case 1:return Me(t.type)&&Ai(),Ee(t),null;case 3:return n=t.stateNode,wn(),re(De),re(ze),Hl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ys(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pt!==null&&(tl(pt),pt=null))),Wo(e,t),Ee(t),null;case 5:ql(t);var s=Sr(hs.current);if(r=t.type,e!==null&&t.stateNode!=null)ff(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(N(166));return Ee(t),null}if(e=Sr(St.current),Ys(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[kt]=t,n[us]=i,e=(t.mode&1)!==0,r){case"dialog":te("cancel",n),te("close",n);break;case"iframe":case"object":case"embed":te("load",n);break;case"video":case"audio":for(s=0;s<Mn.length;s++)te(Mn[s],n);break;case"source":te("error",n);break;case"img":case"image":case"link":te("error",n),te("load",n);break;case"details":te("toggle",n);break;case"input":Ec(n,i),te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},te("invalid",n);break;case"textarea":Cc(n,i),te("invalid",n)}wo(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Qs(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Qs(n.textContent,l,e),s=["children",""+l]):es.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&te("scroll",n)}switch(r){case"input":Bs(n),Nc(n,i,!0);break;case"textarea":Bs(n),zc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Oi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[kt]=t,e[us]=n,hf(e,t,!1,!1),t.stateNode=e;e:{switch(a=bo(r,n),r){case"dialog":te("cancel",e),te("close",e),s=n;break;case"iframe":case"object":case"embed":te("load",e),s=n;break;case"video":case"audio":for(s=0;s<Mn.length;s++)te(Mn[s],e);s=n;break;case"source":te("error",e),s=n;break;case"img":case"image":case"link":te("error",e),te("load",e),s=n;break;case"details":te("toggle",e),s=n;break;case"input":Ec(e,n),s=mo(e,n),te("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=oe({},n,{value:void 0}),te("invalid",e);break;case"textarea":Cc(e,n),s=yo(e,n),te("invalid",e);break;default:s=n}wo(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?qd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Bd(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ts(e,c):typeof c=="number"&&ts(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(es.hasOwnProperty(i)?c!=null&&i==="onScroll"&&te("scroll",e):c!=null&&bl(e,i,c,a))}switch(r){case"input":Bs(e),Nc(e,n,!1);break;case"textarea":Bs(e),zc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+lr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?cn(e,!!n.multiple,i,!1):n.defaultValue!=null&&cn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Oi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ee(t),null;case 6:if(e&&t.stateNode!=null)pf(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(N(166));if(r=Sr(hs.current),Sr(St.current),Ys(t)){if(n=t.stateNode,r=t.memoizedProps,n[kt]=t,(i=n.nodeValue!==r)&&(e=Ge,e!==null))switch(e.tag){case 3:Qs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[kt]=t,t.stateNode=n}return Ee(t),null;case 13:if(re(ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&He!==null&&t.mode&1&&!(t.flags&128))Rh(),yn(),t.flags|=98560,i=!1;else if(i=Ys(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[kt]=t}else yn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ee(t),i=!1}else pt!==null&&(tl(pt),pt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?ge===0&&(ge=3):nc())),t.updateQueue!==null&&(t.flags|=4),Ee(t),null);case 4:return wn(),Wo(e,t),e===null&&ls(t.stateNode.containerInfo),Ee(t),null;case 10:return Ul(t.type._context),Ee(t),null;case 17:return Me(t.type)&&Ai(),Ee(t),null;case 19:if(re(ie),i=t.memoizedState,i===null)return Ee(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)An(i,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ui(e),a!==null){for(t.flags|=128,An(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Z(ie,ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&de()>kn&&(t.flags|=128,n=!0,An(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ui(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),An(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ne)return Ee(t),null}else 2*de()-i.renderingStartTime>kn&&r!==1073741824&&(t.flags|=128,n=!0,An(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=de(),t.sibling=null,r=ie.current,Z(ie,n?r&1|2:r&1),t):(Ee(t),null);case 22:case 23:return rc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ve&1073741824&&(Ee(t),t.subtreeFlags&6&&(t.flags|=8192)):Ee(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function eg(e,t){switch(Ll(t),t.tag){case 1:return Me(t.type)&&Ai(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wn(),re(De),re(ze),Hl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ql(t),null;case 13:if(re(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(ie),null;case 4:return wn(),null;case 10:return Ul(t.type._context),null;case 22:case 23:return rc(),null;case 24:return null;default:return null}}var ei=!1,Ne=!1,tg=typeof WeakSet=="function"?WeakSet:Set,O=null;function an(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ce(e,t,n)}else r.current=null}function Ko(e,t,r){try{r()}catch(n){ce(e,t,n)}}var yu=!1;function rg(e,t){if(Ro=zi,e=yh(),Il(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=a+s),f!==i||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=a),h===i&&++d===n&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Oo={focusedElem:e,selectionRange:r},zi=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,w=y.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:ut(t.type,x),w);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(b){ce(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return y=yu,yu=!1,y}function Wn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ko(t,r,i)}s=s.next}while(s!==n)}}function ua(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Jo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function mf(e){var t=e.alternate;t!==null&&(e.alternate=null,mf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kt],delete t[us],delete t[Po],delete t[Dm],delete t[Mm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gf(e){return e.tag===5||e.tag===3||e.tag===4}function xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Oi));else if(n!==4&&(e=e.child,e!==null))for(Qo(e,t,r),e=e.sibling;e!==null;)Qo(e,t,r),e=e.sibling}function Yo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Yo(e,t,r),e=e.sibling;e!==null;)Yo(e,t,r),e=e.sibling}var be=null,ht=!1;function Ut(e,t,r){for(r=r.child;r!==null;)vf(e,t,r),r=r.sibling}function vf(e,t,r){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(ra,r)}catch{}switch(r.tag){case 5:Ne||an(r,t);case 6:var n=be,s=ht;be=null,Ut(e,t,r),be=n,ht=s,be!==null&&(ht?(e=be,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):be.removeChild(r.stateNode));break;case 18:be!==null&&(ht?(e=be,r=r.stateNode,e.nodeType===8?Ha(e.parentNode,r):e.nodeType===1&&Ha(e,r),is(e)):Ha(be,r.stateNode));break;case 4:n=be,s=ht,be=r.stateNode.containerInfo,ht=!0,Ut(e,t,r),be=n,ht=s;break;case 0:case 11:case 14:case 15:if(!Ne&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Ko(r,t,a),s=s.next}while(s!==n)}Ut(e,t,r);break;case 1:if(!Ne&&(an(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ce(r,t,l)}Ut(e,t,r);break;case 21:Ut(e,t,r);break;case 22:r.mode&1?(Ne=(n=Ne)||r.memoizedState!==null,Ut(e,t,r),Ne=n):Ut(e,t,r);break;default:Ut(e,t,r)}}function wu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new tg),t.forEach(function(n){var s=dg.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function lt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:be=l.stateNode,ht=!1;break e;case 3:be=l.stateNode.containerInfo,ht=!0;break e;case 4:be=l.stateNode.containerInfo,ht=!0;break e}l=l.return}if(be===null)throw Error(N(160));vf(i,a,s),be=null,ht=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ce(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yf(t,e),t=t.sibling}function yf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lt(t,e),wt(e),n&4){try{Wn(3,e,e.return),ua(3,e)}catch(x){ce(e,e.return,x)}try{Wn(5,e,e.return)}catch(x){ce(e,e.return,x)}}break;case 1:lt(t,e),wt(e),n&512&&r!==null&&an(r,r.return);break;case 5:if(lt(t,e),wt(e),n&512&&r!==null&&an(r,r.return),e.flags&32){var s=e.stateNode;try{ts(s,"")}catch(x){ce(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Md(s,i),bo(l,a);var u=bo(l,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?qd(s,f):d==="dangerouslySetInnerHTML"?Bd(s,f):d==="children"?ts(s,f):bl(s,d,f,u)}switch(l){case"input":go(s,i);break;case"textarea":Ud(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?cn(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?cn(s,!!i.multiple,i.defaultValue,!0):cn(s,!!i.multiple,i.multiple?[]:"",!1))}s[us]=i}catch(x){ce(e,e.return,x)}}break;case 6:if(lt(t,e),wt(e),n&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){ce(e,e.return,x)}}break;case 3:if(lt(t,e),wt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{is(t.containerInfo)}catch(x){ce(e,e.return,x)}break;case 4:lt(t,e),wt(e);break;case 13:lt(t,e),wt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ec=de())),n&4&&wu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ne=(u=Ne)||d,lt(t,e),Ne=u):lt(t,e),wt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(f=O=d;O!==null;){switch(h=O,m=h.child,h.tag){case 0:case 11:case 14:case 15:Wn(4,h,h.return);break;case 1:an(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){ce(n,r,x)}}break;case 5:an(h,h.return);break;case 22:if(h.memoizedState!==null){ku(f);continue}}m!==null?(m.return=h,O=m):ku(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Vd("display",a))}catch(x){ce(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){ce(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:lt(t,e),wt(e),n&4&&wu(e);break;case 21:break;default:lt(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gf(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ts(s,""),n.flags&=-33);var i=xu(e);Yo(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=xu(e);Qo(e,l,a);break;default:throw Error(N(161))}}catch(c){ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ng(e,t,r){O=e,xf(e)}function xf(e,t,r){for(var n=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||ei;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ne;l=ei;var u=Ne;if(ei=a,(Ne=c)&&!u)for(O=s;O!==null;)a=O,c=a.child,a.tag===22&&a.memoizedState!==null?_u(s):c!==null?(c.return=a,O=c):_u(s);for(;i!==null;)O=i,xf(i),i=i.sibling;O=s,ei=l,Ne=u}bu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):bu(e)}}function bu(e){for(;O!==null;){var t=O;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||ua(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ne)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ut(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&iu(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}iu(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&is(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Ne||t.flags&512&&Jo(t)}catch(h){ce(t,t.return,h)}}if(t===e){O=null;break}if(r=t.sibling,r!==null){r.return=t.return,O=r;break}O=t.return}}function ku(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var r=t.sibling;if(r!==null){r.return=t.return,O=r;break}O=t.return}}function _u(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ua(4,t)}catch(c){ce(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ce(t,s,c)}}var i=t.return;try{Jo(t)}catch(c){ce(t,i,c)}break;case 5:var a=t.return;try{Jo(t)}catch(c){ce(t,a,c)}}}catch(c){ce(t,t.return,c)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var sg=Math.ceil,Vi=Dt.ReactCurrentDispatcher,Xl=Dt.ReactCurrentOwner,rt=Dt.ReactCurrentBatchConfig,H=0,ye=null,fe=null,ke=0,Ve=0,on=dr(0),ge=0,gs=null,Rr=0,da=0,Zl=0,Kn=null,Le=null,ec=0,kn=1/0,Et=null,qi=!1,Xo=null,nr=null,ti=!1,Qt=null,Hi=0,Jn=0,Zo=null,wi=-1,bi=0;function Ae(){return H&6?de():wi!==-1?wi:wi=de()}function sr(e){return e.mode&1?H&2&&ke!==0?ke&-ke:Fm.transition!==null?(bi===0&&(bi=rh()),bi):(e=W,e!==0||(e=window.event,e=e===void 0?16:ch(e.type)),e):1}function gt(e,t,r,n){if(50<Jn)throw Jn=0,Zo=null,Error(N(185));Cs(e,r,n),(!(H&2)||e!==ye)&&(e===ye&&(!(H&2)&&(da|=r),ge===4&&Wt(e,ke)),Ue(e,n),r===1&&H===0&&!(t.mode&1)&&(kn=de()+500,oa&&hr()))}function Ue(e,t){var r=e.callbackNode;F0(e,t);var n=Ci(e,e===ye?ke:0);if(n===0)r!==null&&Oc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Oc(r),t===1)e.tag===0?Um(Su.bind(null,e)):Ch(Su.bind(null,e)),Lm(function(){!(H&6)&&hr()}),r=null;else{switch(nh(n)){case 1:r=El;break;case 4:r=eh;break;case 16:r=Ni;break;case 536870912:r=th;break;default:r=Ni}r=Nf(r,wf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function wf(e,t){if(wi=-1,bi=0,H&6)throw Error(N(327));var r=e.callbackNode;if(pn()&&e.callbackNode!==r)return null;var n=Ci(e,e===ye?ke:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Gi(e,n);else{t=n;var s=H;H|=2;var i=kf();(ye!==e||ke!==t)&&(Et=null,kn=de()+500,Er(e,t));do try{og();break}catch(l){bf(e,l)}while(!0);Ml(),Vi.current=i,H=s,fe!==null?t=0:(ye=null,ke=0,t=ge)}if(t!==0){if(t===2&&(s=Eo(e),s!==0&&(n=s,t=el(e,s))),t===1)throw r=gs,Er(e,0),Wt(e,n),Ue(e,de()),r;if(t===6)Wt(e,n);else{if(s=e.current.alternate,!(n&30)&&!ig(s)&&(t=Gi(e,n),t===2&&(i=Eo(e),i!==0&&(n=i,t=el(e,i))),t===1))throw r=gs,Er(e,0),Wt(e,n),Ue(e,de()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(N(345));case 2:yr(e,Le,Et);break;case 3:if(Wt(e,n),(n&130023424)===n&&(t=ec+500-de(),10<t)){if(Ci(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ae(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Io(yr.bind(null,e,Le,Et),t);break}yr(e,Le,Et);break;case 4:if(Wt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-mt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=de()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*sg(n/1960))-n,10<n){e.timeoutHandle=Io(yr.bind(null,e,Le,Et),n);break}yr(e,Le,Et);break;case 5:yr(e,Le,Et);break;default:throw Error(N(329))}}}return Ue(e,de()),e.callbackNode===r?wf.bind(null,e):null}function el(e,t){var r=Kn;return e.current.memoizedState.isDehydrated&&(Er(e,t).flags|=256),e=Gi(e,t),e!==2&&(t=Le,Le=r,t!==null&&tl(t)),e}function tl(e){Le===null?Le=e:Le.push.apply(Le,e)}function ig(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!vt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wt(e,t){for(t&=~Zl,t&=~da,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-mt(t),n=1<<r;e[r]=-1,t&=~n}}function Su(e){if(H&6)throw Error(N(327));pn();var t=Ci(e,0);if(!(t&1))return Ue(e,de()),null;var r=Gi(e,t);if(e.tag!==0&&r===2){var n=Eo(e);n!==0&&(t=n,r=el(e,n))}if(r===1)throw r=gs,Er(e,0),Wt(e,t),Ue(e,de()),r;if(r===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yr(e,Le,Et),Ue(e,de()),null}function tc(e,t){var r=H;H|=1;try{return e(t)}finally{H=r,H===0&&(kn=de()+500,oa&&hr())}}function Or(e){Qt!==null&&Qt.tag===0&&!(H&6)&&pn();var t=H;H|=1;var r=rt.transition,n=W;try{if(rt.transition=null,W=1,e)return e()}finally{W=n,rt.transition=r,H=t,!(H&6)&&hr()}}function rc(){Ve=on.current,re(on)}function Er(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Pm(r)),fe!==null)for(r=fe.return;r!==null;){var n=r;switch(Ll(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ai();break;case 3:wn(),re(De),re(ze),Hl();break;case 5:ql(n);break;case 4:wn();break;case 13:re(ie);break;case 19:re(ie);break;case 10:Ul(n.type._context);break;case 22:case 23:rc()}r=r.return}if(ye=e,fe=e=ir(e.current,null),ke=Ve=t,ge=0,gs=null,Zl=da=Rr=0,Le=Kn=null,_r!==null){for(t=0;t<_r.length;t++)if(r=_r[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}_r=null}return e}function bf(e,t){do{var r=fe;try{if(Ml(),vi.current=Bi,Fi){for(var n=ae.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Fi=!1}if(Tr=0,ve=me=ae=null,Gn=!1,fs=0,Xl.current=null,r===null||r.return===null){ge=1,gs=t,fe=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=ke,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=du(a);if(m!==null){m.flags&=-257,hu(m,a,l,i,t),m.mode&1&&uu(i,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(c),t.updateQueue=x}else y.add(c);break e}else{if(!(t&1)){uu(i,u,t),nc();break e}c=Error(N(426))}}else if(ne&&l.mode&1){var w=du(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),hu(w,a,l,i,t),$l(bn(c,l));break e}}i=c=bn(c,l),ge!==4&&(ge=2),Kn===null?Kn=[i]:Kn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=nf(i,c,t);su(i,g);break e;case 1:l=c;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(nr===null||!nr.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=sf(i,l,t);su(i,b);break e}}i=i.return}while(i!==null)}Sf(r)}catch(j){t=j,fe===r&&r!==null&&(fe=r=r.return);continue}break}while(!0)}function kf(){var e=Vi.current;return Vi.current=Bi,e===null?Bi:e}function nc(){(ge===0||ge===3||ge===2)&&(ge=4),ye===null||!(Rr&268435455)&&!(da&268435455)||Wt(ye,ke)}function Gi(e,t){var r=H;H|=2;var n=kf();(ye!==e||ke!==t)&&(Et=null,Er(e,t));do try{ag();break}catch(s){bf(e,s)}while(!0);if(Ml(),H=r,Vi.current=n,fe!==null)throw Error(N(261));return ye=null,ke=0,ge}function ag(){for(;fe!==null;)_f(fe)}function og(){for(;fe!==null&&!O0();)_f(fe)}function _f(e){var t=Ef(e.alternate,e,Ve);e.memoizedProps=e.pendingProps,t===null?Sf(e):fe=t,Xl.current=null}function Sf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=eg(r,t),r!==null){r.flags&=32767,fe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ge=6,fe=null;return}}else if(r=Zm(r,t,Ve),r!==null){fe=r;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);ge===0&&(ge=5)}function yr(e,t,r){var n=W,s=rt.transition;try{rt.transition=null,W=1,lg(e,t,r,n)}finally{rt.transition=s,W=n}return null}function lg(e,t,r,n){do pn();while(Qt!==null);if(H&6)throw Error(N(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(B0(e,i),e===ye&&(fe=ye=null,ke=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ti||(ti=!0,Nf(Ni,function(){return pn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=rt.transition,rt.transition=null;var a=W;W=1;var l=H;H|=4,Xl.current=null,rg(e,r),yf(r,e),Cm(Oo),zi=!!Ro,Oo=Ro=null,e.current=r,ng(r),A0(),H=l,W=a,rt.transition=i}else e.current=r;if(ti&&(ti=!1,Qt=e,Hi=s),i=e.pendingLanes,i===0&&(nr=null),L0(r.stateNode),Ue(e,de()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(qi)throw qi=!1,e=Xo,Xo=null,e;return Hi&1&&e.tag!==0&&pn(),i=e.pendingLanes,i&1?e===Zo?Jn++:(Jn=0,Zo=e):Jn=0,hr(),null}function pn(){if(Qt!==null){var e=nh(Hi),t=rt.transition,r=W;try{if(rt.transition=null,W=16>e?16:e,Qt===null)var n=!1;else{if(e=Qt,Qt=null,Hi=0,H&6)throw Error(N(331));var s=H;for(H|=4,O=e.current;O!==null;){var i=O,a=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:Wn(8,d,i)}var f=d.child;if(f!==null)f.return=d,O=f;else for(;O!==null;){d=O;var h=d.sibling,m=d.return;if(mf(d),d===u){O=null;break}if(h!==null){h.return=m,O=h;break}O=m}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}O=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,O=a;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Wn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,O=g;break e}O=i.return}}var p=e.current;for(O=p;O!==null;){a=O;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,O=v;else e:for(a=p;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ua(9,l)}}catch(j){ce(l,l.return,j)}if(l===a){O=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,O=b;break e}O=l.return}}if(H=s,hr(),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(ra,e)}catch{}n=!0}return n}finally{W=r,rt.transition=t}}return!1}function ju(e,t,r){t=bn(r,t),t=nf(e,t,1),e=rr(e,t,1),t=Ae(),e!==null&&(Cs(e,1,t),Ue(e,t))}function ce(e,t,r){if(e.tag===3)ju(e,e,r);else for(;t!==null;){if(t.tag===3){ju(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(nr===null||!nr.has(n))){e=bn(r,e),e=sf(t,e,1),t=rr(t,e,1),e=Ae(),t!==null&&(Cs(t,1,e),Ue(t,e));break}}t=t.return}}function cg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ae(),e.pingedLanes|=e.suspendedLanes&r,ye===e&&(ke&r)===r&&(ge===4||ge===3&&(ke&130023424)===ke&&500>de()-ec?Er(e,0):Zl|=r),Ue(e,t)}function jf(e,t){t===0&&(e.mode&1?(t=Hs,Hs<<=1,!(Hs&130023424)&&(Hs=4194304)):t=1);var r=Ae();e=Lt(e,t),e!==null&&(Cs(e,t,r),Ue(e,r))}function ug(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),jf(e,r)}function dg(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(t),jf(e,r)}var Ef;Ef=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||De.current)$e=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $e=!1,Xm(e,t,r);$e=!!(e.flags&131072)}else $e=!1,ne&&t.flags&1048576&&zh(t,Li,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;xi(e,t),e=t.pendingProps;var s=vn(t,ze.current);fn(t,r),s=Wl(null,t,n,e,s,r);var i=Kl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Me(n)?(i=!0,Ii(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Bl(t),s.updater=ca,t.stateNode=s,s._reactInternals=t,Fo(t,n,e,r),t=qo(null,t,n,!0,i,r)):(t.tag=0,ne&&i&&Pl(t),Oe(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(xi(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=fg(n),e=ut(n,e),s){case 0:t=Vo(null,t,n,e,r);break e;case 1:t=mu(null,t,n,e,r);break e;case 11:t=fu(null,t,n,e,r);break e;case 14:t=pu(null,t,n,ut(n.type,e),r);break e}throw Error(N(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ut(n,s),Vo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ut(n,s),mu(e,t,n,s,r);case 3:e:{if(cf(t),e===null)throw Error(N(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Ph(e,t),Mi(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=bn(Error(N(423)),t),t=gu(e,t,n,r,s);break e}else if(n!==s){s=bn(Error(N(424)),t),t=gu(e,t,n,r,s);break e}else for(He=tr(t.stateNode.containerInfo.firstChild),Ge=t,ne=!0,pt=null,r=Ah(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(yn(),n===s){t=$t(e,t,r);break e}Oe(e,t,n,r)}t=t.child}return t;case 5:return Lh(t),e===null&&Do(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Ao(n,s)?a=null:i!==null&&Ao(n,i)&&(t.flags|=32),lf(e,t),Oe(e,t,a,r),t.child;case 6:return e===null&&Do(t),null;case 13:return uf(e,t,r);case 4:return Vl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=xn(t,null,n,r):Oe(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ut(n,s),fu(e,t,n,s,r);case 7:return Oe(e,t,t.pendingProps,r),t.child;case 8:return Oe(e,t,t.pendingProps.children,r),t.child;case 12:return Oe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Z($i,n._currentValue),n._currentValue=a,i!==null)if(vt(i.value,a)){if(i.children===s.children&&!De.current){t=$t(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ot(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Mo(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(N(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Mo(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Oe(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,fn(t,r),s=nt(s),n=n(s),t.flags|=1,Oe(e,t,n,r),t.child;case 14:return n=t.type,s=ut(n,t.pendingProps),s=ut(n.type,s),pu(e,t,n,s,r);case 15:return af(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ut(n,s),xi(e,t),t.tag=1,Me(n)?(e=!0,Ii(t)):e=!1,fn(t,r),rf(t,n,s),Fo(t,n,s,r),qo(null,t,n,!0,e,r);case 19:return df(e,t,r);case 22:return of(e,t,r)}throw Error(N(156,t.tag))};function Nf(e,t){return Zd(e,t)}function hg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(e,t,r,n){return new hg(e,t,r,n)}function sc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fg(e){if(typeof e=="function")return sc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_l)return 11;if(e===Sl)return 14}return 2}function ir(e,t){var r=e.alternate;return r===null?(r=tt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ki(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")sc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Qr:return Nr(r.children,s,i,t);case kl:a=8,s|=8;break;case uo:return e=tt(12,r,t,s|2),e.elementType=uo,e.lanes=i,e;case ho:return e=tt(13,r,t,s),e.elementType=ho,e.lanes=i,e;case fo:return e=tt(19,r,t,s),e.elementType=fo,e.lanes=i,e;case Ld:return ha(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Id:a=10;break e;case Pd:a=9;break e;case _l:a=11;break e;case Sl:a=14;break e;case Ft:a=16,n=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=tt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Nr(e,t,r,n){return e=tt(7,e,n,t),e.lanes=r,e}function ha(e,t,r,n){return e=tt(22,e,n,t),e.elementType=Ld,e.lanes=r,e.stateNode={isHidden:!1},e}function Za(e,t,r){return e=tt(6,e,null,t),e.lanes=r,e}function eo(e,t,r){return t=tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pg(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ia(0),this.expirationTimes=Ia(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ic(e,t,r,n,s,i,a,l,c){return e=new pg(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=tt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bl(i),e}function mg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Cf(e){if(!e)return cr;e=e._reactInternals;e:{if(Lr(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Me(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var r=e.type;if(Me(r))return Nh(e,r,t)}return t}function zf(e,t,r,n,s,i,a,l,c){return e=ic(r,n,!0,e,s,i,a,l,c),e.context=Cf(null),r=e.current,n=Ae(),s=sr(r),i=Ot(n,s),i.callback=t??null,rr(r,i,s),e.current.lanes=s,Cs(e,s,n),Ue(e,n),e}function fa(e,t,r,n){var s=t.current,i=Ae(),a=sr(s);return r=Cf(r),t.context===null?t.context=r:t.pendingContext=r,t=Ot(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=rr(s,t,a),e!==null&&(gt(e,s,a,i),gi(e,s,a)),a}function Wi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Eu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ac(e,t){Eu(e,t),(e=e.alternate)&&Eu(e,t)}function gg(){return null}var Tf=typeof reportError=="function"?reportError:function(e){console.error(e)};function oc(e){this._internalRoot=e}pa.prototype.render=oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));fa(e,t,null,null)};pa.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Or(function(){fa(null,e,null,null)}),t[Pt]=null}};function pa(e){this._internalRoot=e}pa.prototype.unstable_scheduleHydration=function(e){if(e){var t=ah();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Gt.length&&t!==0&&t<Gt[r].priority;r++);Gt.splice(r,0,e),r===0&&lh(e)}};function lc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ma(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nu(){}function vg(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Wi(a);i.call(u)}}var a=zf(t,n,e,0,null,!1,!1,"",Nu);return e._reactRootContainer=a,e[Pt]=a.current,ls(e.nodeType===8?e.parentNode:e),Or(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Wi(c);l.call(u)}}var c=ic(e,0,!1,null,null,!1,!1,"",Nu);return e._reactRootContainer=c,e[Pt]=c.current,ls(e.nodeType===8?e.parentNode:e),Or(function(){fa(t,c,r,n)}),c}function ga(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Wi(a);l.call(c)}}fa(t,a,e,s)}else a=vg(r,t,e,s,n);return Wi(a)}sh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Dn(t.pendingLanes);r!==0&&(Nl(t,r|1),Ue(t,de()),!(H&6)&&(kn=de()+500,hr()))}break;case 13:Or(function(){var n=Lt(e,1);if(n!==null){var s=Ae();gt(n,e,1,s)}}),ac(e,1)}};Cl=function(e){if(e.tag===13){var t=Lt(e,134217728);if(t!==null){var r=Ae();gt(t,e,134217728,r)}ac(e,134217728)}};ih=function(e){if(e.tag===13){var t=sr(e),r=Lt(e,t);if(r!==null){var n=Ae();gt(r,e,t,n)}ac(e,t)}};ah=function(){return W};oh=function(e,t){var r=W;try{return W=e,t()}finally{W=r}};_o=function(e,t,r){switch(t){case"input":if(go(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=aa(n);if(!s)throw Error(N(90));Dd(n),go(n,s)}}}break;case"textarea":Ud(e,r);break;case"select":t=r.value,t!=null&&cn(e,!!r.multiple,t,!1)}};Wd=tc;Kd=Or;var yg={usingClientEntryPoint:!1,Events:[Ts,en,aa,Hd,Gd,tc]},In={findFiberByHostInstance:kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xg={bundleType:In.bundleType,version:In.version,rendererPackageName:In.rendererPackageName,rendererConfig:In.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yd(e),e===null?null:e.stateNode},findFiberByHostInstance:In.findFiberByHostInstance||gg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ri.isDisabled&&ri.supportsFiber)try{ra=ri.inject(xg),_t=ri}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yg;Ke.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lc(t))throw Error(N(200));return mg(e,t,null,r)};Ke.createRoot=function(e,t){if(!lc(e))throw Error(N(299));var r=!1,n="",s=Tf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ic(e,1,!1,null,null,r,!1,n,s),e[Pt]=t.current,ls(e.nodeType===8?e.parentNode:e),new oc(t)};Ke.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=Yd(t),e=e===null?null:e.stateNode,e};Ke.flushSync=function(e){return Or(e)};Ke.hydrate=function(e,t,r){if(!ma(t))throw Error(N(200));return ga(null,e,t,!0,r)};Ke.hydrateRoot=function(e,t,r){if(!lc(e))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Tf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=zf(t,null,e,1,r??null,s,!1,i,a),e[Pt]=t.current,ls(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new pa(t)};Ke.render=function(e,t,r){if(!ma(t))throw Error(N(200));return ga(null,e,t,!1,r)};Ke.unmountComponentAtNode=function(e){if(!ma(e))throw Error(N(40));return e._reactRootContainer?(Or(function(){ga(null,null,e,!1,function(){e._reactRootContainer=null,e[Pt]=null})}),!0):!1};Ke.unstable_batchedUpdates=tc;Ke.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ma(r))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return ga(e,t,r,!1,n)};Ke.version="18.3.1-next-f1338f8080-20240426";function Rf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rf)}catch(e){console.error(e)}}Rf(),Td.exports=Ke;var wg=Td.exports,Cu=wg;lo.createRoot=Cu.createRoot,lo.hydrateRoot=Cu.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),A=(e,t)=>{const r=z.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>z.createElement("svg",{ref:d,...bg,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${kg(e)}`,l].join(" "),...u},[...t.map(([f,h])=>z.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=A("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=A("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=A("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=A("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=A("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=A("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=A("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=A("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=A("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=A("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=A("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=A("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=A("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=A("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=A("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=A("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=A("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=A("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=A("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=A("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=A("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=A("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=A("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=A("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=A("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=A("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=A("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=A("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=A("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=A("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=A("KanbanSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=A("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=A("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=A("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=A("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=A("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=A("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=A("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=A("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=A("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=A("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=A("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=A("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=A("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=A("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=A("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=A("SearchX",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=A("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=A("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=A("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=A("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=A("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=A("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=A("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=A("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=A("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=A("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=A("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=A("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=A("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=A("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=A("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function xa(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function ov(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}const lv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class dc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class cv extends dc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class zu extends dc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Tu extends dc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var il;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(il||(il={}));class uv{constructor(t,{headers:r={},customFetch:n,region:s=il.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=lv(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ov(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const y=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let x;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",x=u):typeof u=="string"?(h["Content-Type"]="text/plain",x=u):typeof FormData<"u"&&u instanceof FormData?x=u:(h["Content-Type"]="application/json",x=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?x=JSON.stringify(u):x=u;let w=d;f&&(a=new AbortController,i=setTimeout(()=>a.abort(),f),d?(w=a.signal,d.addEventListener("abort",()=>a.abort())):w=a.signal);const g=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:x,signal:w}).catch(j=>{throw new cv(j)}),p=g.headers.get("x-relay-error");if(p&&p==="true")throw new zu(g);if(!g.ok)throw new Tu(g);let v=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield g.json():v==="application/octet-stream"||v==="application/pdf"?b=yield g.blob():v==="text/event-stream"?b=g:v==="multipart/form-data"?b=yield g.formData():b=yield g.text(),{data:b,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof Tu||l instanceof zu?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var dv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},hv=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var m;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=g:l=JSON.parse(g))}const x=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),w=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");x&&w&&w.length>1&&(c=parseInt(w[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var y;const x=await i.text();try{a=JSON.parse(x),Array.isArray(a)&&i.status===404&&(l=[],a=null,u=200,d="OK")}catch{i.status===404&&x===""?(u=204,d="No Content"):a={message:x}}if(a&&r.isMaybeSingle&&(!(a==null||(y=a.details)===null||y===void 0)&&y.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&r.shouldThrowOnError)throw new dv(a)}return{error:a,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let l="",c="",u="";const d=i==null?void 0:i.cause;if(d){var f,h,m,y;const g=(f=d==null?void 0:d.message)!==null&&f!==void 0?f:"",p=(h=d==null?void 0:d.code)!==null&&h!==void 0?h:"";l=`${(m=i==null?void 0:i.name)!==null&&m!==void 0?m:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(y=d==null?void 0:d.name)!==null&&y!==void 0?y:"Error"}: ${g}`,p&&(l+=` (${p})`),d!=null&&d.stack&&(l+=`
${d.stack}`)}else{var x;l=(x=i==null?void 0:i.stack)!==null&&x!==void 0?x:""}const w=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",c="Request was aborted (timeout or manual cancellation)",w>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${w} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",c="HTTP headers exceeded server limits (typically 16KB)",w>this.urlLengthLimit&&(c+=`. Your request URL is ${w} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:c,code:u},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},fv=class extends hv{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Ru=new RegExp("[,()]");var Gr=class extends fv{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Ru.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Ru.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},pv=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",a),n&&c.append("Prefer",`count=${n}`),new Gr({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),r||a.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Gr({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new Gr({method:a,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Gr({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Gr({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function ys(e){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}function mv(e,t){if(ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gv(e){var t=mv(e,"string");return ys(t)=="symbol"?t:t+""}function vv(e,t,r){return(t=gv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ou(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ou(Object(r),!0).forEach(function(n){vv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ou(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var yv=class Mf{constructor(t,{headers:r={},schema:n,fetch:s,timeout:i,urlLengthLimit:a=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=a;const l=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(c,u)=>{const d=new AbortController,f=setTimeout(()=>d.abort(),i),h=u==null?void 0:u.signal;if(h){if(h.aborted)return clearTimeout(f),l(c,u);const m=()=>{clearTimeout(f),d.abort()};return h.addEventListener("abort",m,{once:!0}),l(c,si(si({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(f),h.removeEventListener("abort",m)})}return l(c,si(si({},u),{},{signal:d.signal})).finally(()=>clearTimeout(f))}:this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new pv(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Mf(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{c.searchParams.append(m,y)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new Gr({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class xv{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const wv="2.95.1",bv=`realtime-js/${wv}`,kv="1.0.0",Uf="2.0.0",Au=Uf,al=1e4,_v=1e3,Sv=100;var Vt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Vt||(Vt={}));var pe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pe||(pe={}));var ft;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ft||(ft={}));var ol;(function(e){e.websocket="websocket"})(ol||(ol={}));var wr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wr||(wr={}));class jv{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,i;const a=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(m),x=0;y.setUint8(x++,this.KINDS.userBroadcastPush),y.setUint8(x++,c.length),y.setUint8(x++,l.length),y.setUint8(x++,a.length),y.setUint8(x++,u.length),y.setUint8(x++,f.length),y.setUint8(x++,r),Array.from(c,g=>y.setUint8(x++,g.charCodeAt(0))),Array.from(l,g=>y.setUint8(x++,g.charCodeAt(0))),Array.from(a,g=>y.setUint8(x++,g.charCodeAt(0))),Array.from(u,g=>y.setUint8(x++,g.charCodeAt(0))),Array.from(f,g=>y.setUint8(x++,g.charCodeAt(0)));var w=new Uint8Array(m.byteLength+n.byteLength);return w.set(new Uint8Array(m),0),w.set(new Uint8Array(n),m.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,l,c]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+a));c=c+a;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:d,payload:m};return a>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Ff{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var X;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(X||(X={}));const Iu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=Ev(a,e,t,s),i),{}):{}},Ev=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Bf(i,a):ll(a)},Bf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Tv(t,r)}switch(e){case X.bool:return Nv(t);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return Cv(t);case X.json:case X.jsonb:return zv(t);case X.timestamp:return Rv(t);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return ll(t);default:return ll(t)}},ll=e=>e,Nv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Cv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Tv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Bf(t,l))}return e},Rv=e=>typeof e=="string"?e.replace(" ","T"):e,Vf=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class to{constructor(t,r,n={},s=al){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Pu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Pu||(Pu={}));class Qn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qn.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Qn.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Qn.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=i[u];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),y=d.filter(w=>m.indexOf(w.presence_ref)<0),x=f.filter(w=>h.indexOf(w.presence_ref)<0);y.length>0&&(l[u]=y),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Lu||(Lu={}));var Yn;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yn||(Yn={}));var Nt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Nt||(Nt={}));class ln{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new to(this,ft.join,this.params,this.timeout),this.rejoinTimer=new Ff(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ft.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Qn(this),this.broadcastEndpointURL=Vf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pe.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Yn.PRESENCE]&&this.bindings[Yn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Nt.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Nt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Nt.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(y=x==null?void 0:x.length)!==null&&y!==void 0?y:0,g=[];for(let p=0;p<w;p++){const v=x[p],{filter:{event:b,schema:j,table:k,filter:_}}=v,E=m&&m[p];if(E&&E.event===b&&ln.isFilterValueEqual(E.schema,j)&&ln.isFilterValueEqual(E.table,k)&&ln.isFilterValueEqual(E.filter,_))g.push(Object.assign(Object.assign({},v),{id:E.id}));else{this.unsubscribe(),this.state=pe.errored,t==null||t(Nt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Nt.SUBSCRIBED);return}}).receive("error",m=>{this.state=pe.errored,t==null||t(Nt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Nt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===pe.joined&&t===Yn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ft.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new to(this,ft.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new to(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Sv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ft;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,x,w;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(x=m.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var y,x,w,g,p,v;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const b=m.id,j=(y=m.filter)===null||y===void 0?void 0:y.event;return b&&((x=r.ids)===null||x===void 0?void 0:x.includes(b))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(p=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:x,table:w,commit_timestamp:g,type:p,errors:v}=y;h=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:g,eventType:p,new:{},old:{},errors:v}),this._getPayloadRecords(y))}m.callback(h,n)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ln.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ft.close,{},t)}_onError(t){this._on(ft.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Iu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Iu(t.columns,t.old_record)),r}}const ro=()=>{},ii={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ov=[1e3,2e3,5e3,1e4],Av=1e4,Iv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Pv{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=al,this.transport=null,this.heartbeatIntervalMs=ii.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ro,this.ref=0,this.reconnectTimer=null,this.vsn=Au,this.logger=ro,this.conn=null,this.sendBuffer=[],this.serializer=new jv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ol.websocket}`,this.httpEndpoint=Vf(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xv.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Vt.connecting:return wr.Connecting;case Vt.open:return wr.Open;case Vt.closing:return wr.Closing;default:return wr.Closed}}isConnected(){return this.connectionState()===wr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new ln(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_v,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ii.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Vt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Vt.open||this.conn.readyState===Vt.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ft.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Iv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:bv};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ft.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Ff(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ii.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,l,c,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:al,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ii.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:ro,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Au,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>Ov[y-1]||Av,this.vsn){case kv:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,x)=>x(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(y,x)=>x(JSON.parse(y));break;case Uf:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var xs=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Lv(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function $v(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Dv(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const l=Lv(e.baseUrl,n,s),c=await $v(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,y=m==null?void 0:m.error;throw new xs((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function ai(e){return e.join("")}var Mv=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ai(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ai(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ai(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ai(e.namespace)}`}),!0}catch(t){if(t instanceof xs&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof xs&&r.status===409)return;throw r}}};function Mr(e){return e.join("")}var Uv=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Mr(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Mr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Mr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Mr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof xs&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof xs&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Fv=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Dv({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Mv(this.client,t),this.tableOps=new Uv(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},wa=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function ba(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var oi=class extends wa{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qf=class extends wa{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Bv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Vv=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},cl=e=>{if(Array.isArray(e))return e.map(r=>cl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=cl(n)}),t},qv=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function Hv(e,t){if(ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gv(e){var t=Hv(e,"string");return ws(t)=="symbol"?t:t+""}function Wv(e,t,r){return(t=Gv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$u(Object(r),!0).forEach(function(n){Wv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$u(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Du=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Kv=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new oi(Du(a),i,l,n))}).catch(()=>{if(n==="vectors"){const a=i+"";t(new oi(s.statusText||`HTTP ${i} error`,i,a,n))}else{const a=i+"";t(new oi(s.statusText||`HTTP ${i} error`,i,a,n))}});else{const a=i+"";t(new oi(s.statusText||`HTTP ${i} error`,i,a,n))}}else t(new qf(Du(e),e,n))},Jv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?U(U({},s),r):(Vv(n)?(s.headers=U({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),U(U({},s),r))};async function Pn(e,t,r,n,s,i,a){return new Promise((l,c)=>{e(r,Jv(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(a==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>Kv(u,c,n,a))})}function Hf(e="storage"){return{get:async(t,r,n,s)=>Pn(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>Pn(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>Pn(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>Pn(t,"HEAD",r,U(U({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>Pn(t,"DELETE",r,s,i,n,e)}}const Qv=Hf("storage"),{get:bs,post:dt,put:ul,head:Yv,remove:hc}=Qv,qe=Hf("vectors");var En=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Bv(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ba(r))return{data:null,error:r};throw r}}},Xv=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ba(t))return{data:null,error:t};throw t}}};let Gf;Gf=Symbol.toStringTag;var Zv=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Gf]="BlobDownloadBuilder",this.promise=null}asStream(){return new Xv(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ba(t))return{data:null,error:t};throw t}}};const ey={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ty=class extends En{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i;const a=U(U({},Mu),n);let l=U(U({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(l=U(U({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?ul:dt)(s.fetch,`${s.url}/object/${d}`,i,U({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${a}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=U({upsert:Mu.upsert},n),d=U(U({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await ul(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=U({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await dt(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),l=a.searchParams.get("token");if(!l)throw new wa("No token returned by API");return{signedUrl:a.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await dt(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await dt(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await dt(n.fetch,`${n.url}/object/sign/${s}`,U({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await dt(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(a=>U(U({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"",a=this._getFinalPath(e),l=()=>bs(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0},r);return new Zv(l,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>cl(await bs(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Yv(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ba(n)&&n instanceof qf){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await hc(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=U(U(U({},ey),t),{},{prefix:e||""});return await dt(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=U({},e);return await dt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const ry="2.95.1",As={"X-Client-Info":`storage-js/${ry}`};var ny=class extends En{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=U(U({},As),t);super(i,a,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await bs(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await bs(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await dt(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await ul(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await dt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await hc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},sy=class extends En{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=U(U({},As),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await dt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await bs(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await hc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!qv(e))throw new wa("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Fv({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},iy=class extends En{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=U(U({},As),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await qe.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await qe.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await qe.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await qe.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},ay=class extends En{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=U(U({},As),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await qe.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await qe.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await qe.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await qe.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await qe.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},oy=class extends En{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=U(U({},As),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await qe.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await qe.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await qe.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await qe.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},ly=class extends oy{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new cy(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},cy=class extends iy{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,U(U({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,U(U({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new uy(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},uy=class extends ay{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,U(U({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,U(U({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,U(U({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,U(U({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,U(U({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},dy=class extends ny{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new ty(this.url,this.headers,e,this.fetch)}get vectors(){return new ly(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new sy(this.url+"/iceberg",this.headers,this.fetch)}};const Wf="2.95.1",Wr=30*1e3,dl=3,no=dl*Wr,hy="http://localhost:9999",fy="supabase.auth.token",py={"X-Client-Info":`gotrue-js/${Wf}`},hl="X-Supabase-Api-Version",Kf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},my=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gy=10*60*1e3;class ks extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function I(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class vy extends ks{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function yy(e){return I(e)&&e.name==="AuthApiError"}class br extends ks{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Mt extends ks{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Be extends Mt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function so(e){return I(e)&&e.name==="AuthSessionMissingError"}class Ur extends Mt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class li extends Mt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ci extends Mt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xy(e){return I(e)&&e.name==="AuthImplicitGrantRedirectError"}class Uu extends Mt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wy extends Mt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class fl extends Mt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function io(e){return I(e)&&e.name==="AuthRetryableFetchError"}class Fu extends Mt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class pl extends Mt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bu=` 	
\r=`.split(""),by=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Bu.length;t+=1)e[Bu[t].charCodeAt(0)]=-2;for(let t=0;t<Xi.length;t+=1)e[Xi[t].charCodeAt(0)]=t;return e})();function Vu(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Xi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Xi[n]),t.queuedBits-=6}}function Jf(e,t,r){const n=by[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function qu(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Sy(a,n,r)};for(let a=0;a<e.length;a+=1)Jf(e.charCodeAt(a),s,i);return t.join("")}function ky(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function _y(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ky(n,t)}}function Sy(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function mn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Jf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function jy(e){const t=[];return _y(e,r=>t.push(r)),new Uint8Array(t)}function jr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Vu(s,r,n)),Vu(null,r,n),t.join("")}function Ey(e){return Math.round(Date.now()/1e3)+e}function Ny(){return Symbol("auth-callback")}const we=()=>typeof window<"u"&&typeof document<"u",mr={tested:!1,writable:!1},Qf=()=>{if(!we())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mr.tested)return mr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mr.tested=!0,mr.writable=!0}catch{mr.tested=!0,mr.writable=!1}return mr.writable};function Cy(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Yf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),zy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Kr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},gr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},xe=async(e,t)=>{await e.removeItem(t)};class ka{constructor(){this.promise=new ka.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ka.promiseConstructor=Promise;function ui(e){const t=e.split(".");if(t.length!==3)throw new pl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!my.test(t[n]))throw new pl("JWT not in base64url format");return{header:JSON.parse(qu(t[0])),payload:JSON.parse(qu(t[1])),signature:mn(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ty(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ry(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function Oy(e){return("0"+e.toString(16)).substr(-2)}function Ay(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Oy).join("")}async function Iy(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Py(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Iy(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fr(e,t,r=!1){const n=Ay();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Kr(e,`${t}-code-verifier`,s);const i=await Py(n);return[i,n===i?"plain":"s256"]}const Ly=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $y(e){const t=e.headers.get(hl);if(!t||!t.match(Ly))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Dy(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function My(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Uy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Br(e){if(!Uy.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ao(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Fy(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Hu(e){return JSON.parse(JSON.stringify(e))}const xr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),By=[502,503,504];async function Gu(e){var t;if(!zy(e))throw new fl(xr(e),0);if(By.includes(e.status))throw new fl(xr(e),e.status);let r;try{r=await e.json()}catch(i){throw new br(xr(i),i)}let n;const s=$y(e);if(s&&s.getTime()>=Kf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Fu(xr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Be}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Fu(xr(r),e.status,r.weak_password.reasons);throw new vy(xr(r),e.status||500,n)}const Vy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function M(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[hl]||(i[hl]=Kf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await qy(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function qy(e,t,r,n,s,i){const a=Vy(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new fl(xr(c),0)}if(l.ok||await Gu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Gu(c)}}function ct(e){var t;let r=null;Wy(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ey(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Wu(e){const t=ct(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Kt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Hy(e){return{data:e,error:null}}function Gy(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=xa(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Ku(e){return e}function Wy(e){return e.access_token&&e.refresh_token&&e.expires_in}const oo=["global","local","others"];class Ky{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Yf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=oo[0]){if(oo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${oo.join(", ")}`);try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Kt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=xa(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Gy,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(I(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Kt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ku});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Br(t);try{return await M(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Br(t);try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Kt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Br(t);try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Kt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Br(t.userId);try{const{data:r,error:n}=await M(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Br(t.userId),Br(t.id);try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await M(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ku});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(I(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await M(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await M(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await M(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await M(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await M(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}}function Ju(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Vr={debug:!!(globalThis&&Qf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Jy extends Xf{}async function Qy(e,t,r){Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Jy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Yy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Zf(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Xy(e){return parseInt(e,16)}function Zy(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function ex(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=Zf(e.address),y=d?`${d}://${n}`:n,x=e.statement?`${e.statement}
`:"",w=`${y} wants you to sign in with your Ethereum account:
${m}

${x}`;let g=`URI: ${f}
Version: ${h}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let p=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);p+=`
- ${v}`}g+=p}return`${w}
${g}`}class he extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Zi extends he{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function tx({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new he({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new he({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new he({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new he({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new he({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new he({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new he({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new he({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(ep(a)){if(i.rp.id!==a)return new he({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new he({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new he({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new he({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new he({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function rx({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new he({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new he({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(ep(n)){if(r.rpId!==n)return new he({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new he({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new he({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new he({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class nx{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const sx=new nx;function ix(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=xa(e,["challenge","user","excludeCredentials"]),i=mn(t).buffer,a=Object.assign(Object.assign({},r),{id:mn(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:mn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function ax(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=xa(e,["challenge","allowCredentials"]),s=mn(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:mn(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function ox(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:jr(new Uint8Array(e.response.attestationObject)),clientDataJSON:jr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function lx(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:jr(new Uint8Array(s.authenticatorData)),clientDataJSON:jr(new Uint8Array(s.clientDataJSON)),signature:jr(new Uint8Array(s.signature)),userHandle:s.userHandle?jr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ep(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Qu(){var e,t;return!!(we()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function cx(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zi("Browser returned unexpected credential type",t)}:{data:null,error:new Zi("Empty credential response",t)}}catch(t){return{data:null,error:tx({error:t,options:e})}}}async function ux(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zi("Browser returned unexpected credential type",t)}:{data:null,error:new Zi("Empty credential response",t)}}catch(t){return{data:null,error:rx({error:t,options:e})}}}const dx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},hx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ea(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const l=n[i];t(l)?n[i]=ea(l,a):n[i]=ea(a)}else n[i]=a}return n}function fx(e,t){return ea(dx,e,t||{})}function px(e,t){return ea(hx,e,t||{})}class mx{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){var a;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=s??sx.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const m=(await this.client.getUser()).data.user,y=((a=m==null?void 0:m.user_metadata)===null||a===void 0?void 0:a.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";d.name=`${d.id}:${y}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=fx(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await cx({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=px(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await ux(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return I(l)?{data:null,error:l}:{data:null,error:new br("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new ks("rpId is required for WebAuthn authentication")};try{if(!Qu())return{data:null,error:new br("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return I(a)?{data:null,error:a}:{data:null,error:new br("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new ks("rpId is required for WebAuthn registration")};try{if(!Qu())return{data:null,error:new br("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return I(a)?{data:null,error:a}:{data:null,error:new br("Unexpected error in register",a)}}}}Yy();const gx={url:hy,storageKey:fy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:py,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Yu(e,t,r){return await r()}const qr={};class _s{get jwks(){var t,r;return(r=(t=qr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){qr[this.storageKey]=Object.assign(Object.assign({},qr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=qr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){qr[this.storageKey]=Object.assign(Object.assign({},qr[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},gx),t);if(this.storageKey=i.storageKey,this.instanceID=(r=_s.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,_s.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&we()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ky({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Yf(i.fetch),this.lock=i.lock||Yu,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&we()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Qy:this.lock=Yu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new mx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Qf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ju(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ju(this.memoryStorage)),we()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Wf}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(we()&&(r=Cy(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),we()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),xy(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?this._returnResult({error:r}):this._returnResult({error:new br("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ct}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Fr(this.storage,this.storageKey)),i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:ct})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ct})}else throw new li("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return await xe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await xe(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wu})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wu})}else throw new li("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Ur;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,l,c,u,d,f,h;let m,y;if("message"in t)m=t.message,y=t.signature;else{const{chain:x,wallet:w,statement:g,options:p}=t;let v;if(we())if(typeof w=="object")v=w;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")v=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=w}const b=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),j=await v.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Zf(j[0]);let _=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const D=await v.request({method:"eth_chainId"});_=Xy(D)}const E={domain:b.host,address:k,statement:g,uri:b.href,version:"1",chainId:_,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=ex(E),y=await v.request({method:"personal_sign",params:[Zy(m),k]})}try{const{data:x,error:w}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ct});if(w)throw w;if(!x||!x.session||!x.user){const g=new Ur;return this._returnResult({data:{user:null,session:null},error:g})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(I(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var r,n,s,i,a,l,c,u,d,f,h,m;let y,x;if("message"in t)y=t.message,x=t.signature;else{const{chain:w,wallet:g,statement:p,options:v}=t;let b;if(we())if(typeof g=="object")b=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))b=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const j=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const k=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),p?{statement:p}:null));let _;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")_=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)_=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)y=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),x=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${j.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const k=await b.signMessage(new TextEncoder().encode(y),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=k}}try{const{data:w,error:g}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:jr(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ct});if(g)throw g;if(!w||!w.session||!w.user){const p=new Ur;return this._returnResult({data:{user:null,session:null},error:p})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:g})}catch(w){if(I(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await gr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new wy;const{data:i,error:a}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ct});if(await xe(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new Ur;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await xe(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ct}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Ur;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Fr(this.storage,this.storageKey));const{error:f}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new li("You must provide either an email or phone number.")}catch(l){if(await xe(this.storage,`${this.storageKey}-code-verifier`),I(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ct});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Fr(this.storage,this.storageKey));const u=await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Hy});return!((i=u.data)===null||i===void 0)&&i.url&&we()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await xe(this.storage,`${this.storageKey}-code-verifier`),I(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Be;const{error:s}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(I(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await M(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await M(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new li("You must provide either an email or phone number and a type")}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await gr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<no:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await gr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=ao()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=Fy(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kt}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Be}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Kt})})}catch(r){if(I(r))return so(r)&&(await this._removeSession(),await xe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Be;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Fr(this.storage,this.storageKey));const{data:u,error:d}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Kt});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await xe(this.storage,`${this.storageKey}-code-verifier`),I(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Be;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=ui(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(I(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Be;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!we())throw new ci("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ci(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Uu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ci("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Uu("No code detected.");const{data:p,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new ci("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Wr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(I(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await gr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!so(i))return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(yy(l)&&(l.status===404||l.status===401||l.status===403)||so(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await xe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Ny(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Fr(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await xe(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return we()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(I(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=t,f=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ct}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Ur}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await xe(this.storage,`${this.storageKey}-code-verifier`),I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Ry(async s=>(s>0&&await Ty(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ct})),(s,i)=>{const a=200*Math.pow(2,s);return i&&io(i)&&Date.now()+a-n<Wr})}catch(n){if(this._debug(r,"error",n),I(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),we()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await gr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await gr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Kr(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:ao()}else if(s&&!s.user&&!s.user){const a=await gr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await xe(this.storage,this.storageKey+"-user"),await Kr(this.storage,this.storageKey,s)):s.user=ao()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<no;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${no}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),io(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Be;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ka;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Be;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),I(i)){const a={data:null,error:i};return io(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await xe(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Kr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Hu(s);await Kr(this.storage,this.storageKey,i)}else{const s=Hu(r);await Kr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await xe(this.storage,this.storageKey),await xe(this.storage,this.storageKey+"-code-verifier"),await xe(this.storage,this.storageKey+"-user"),this.userStorage&&await xe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&we()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Wr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Wr}ms, refresh threshold is ${dl} ticks`),s<=dl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Xf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!we()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Fr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await M(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await M(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?ox(t.webauthn.credential_response):lx(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await M(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await M(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:ix(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:ax(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,i;if(t)try{const{payload:m}=ui(t);let y=null;m.aal&&(y=m.aal);let x=y;const{data:{user:w},error:g}=await this.getUser(t);if(g)return this._returnResult({data:null,error:g});((n=(r=w==null?void 0:w.factors)===null||r===void 0?void 0:r.filter(b=>b.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(x="aal2");const v=m.amr||[];return{data:{currentLevel:y,nextLevel:x,currentAuthenticationMethods:v},error:null}}catch(m){if(I(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=ui(a.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await M(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Be})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Be});const a=await M(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&we()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Be});const a=await M(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&we()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await M(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Be})})}catch(t){if(I(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await M(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Be})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+gy>s)return n;const{data:i,error:a}=await M(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});n=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=ui(n);r!=null&&r.allowExpired||Dy(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const d=My(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,jy(`${l}.${c}`)))throw new pl("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}}_s.nextInstanceID={};const vx=_s,yx="2.95.1";let Un="";typeof Deno<"u"?Un="deno":typeof document<"u"?Un="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Un="react-native":Un="node";const xx={"X-Client-Info":`supabase-js-${Un}/${yx}`},wx={headers:xx},bx={schema:"public"},kx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_x={};function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function Sx(e,t){if(Ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jx(e){var t=Sx(e,"string");return Ss(t)=="symbol"?t:t+""}function Ex(e,t,r){return(t=jx(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xu(Object(r),!0).forEach(function(n){Ex(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Nx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Cx=()=>Headers,zx=(e,t,r)=>{const n=Nx(r),s=Cx();return async(i,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,le(le({},a),{},{headers:u}))}};function Tx(e){return e.endsWith("/")?e:e+"/"}function Rx(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:le(le({},c),s),auth:le(le({},u),i),realtime:le(le({},d),a),storage:{},global:le(le(le({},f),l),{},{headers:le(le({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Ox(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Tx(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Ax=class extends vx{constructor(e){super(e)}},Ix=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=Ox(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:bx,realtime:_x,auth:le(le({},kx),{},{storageKey:a}),global:wx},c=Rx(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=zx(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(le({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new yv(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new dy(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new uv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ax({url:this.authUrl.href,headers:le(le({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Pv(this.realtimeUrl.href,le(le({},e),{},{params:le(le({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Px=(e,t,r)=>new Ix(e,t,r);function Lx(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Lx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $x="https://tuysyojdayewvpuvunlu.supabase.co",Dx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR1eXN5b2pkYXlld3ZwdXZ1bmx1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAyOTk2MDMsImV4cCI6MjA4NTg3NTYwM30.GuJovxK_vAns1N5Mx1xT3tmOJ5tYQCdo46be1aS5yoU",ar=Px($x,Dx),Mx=async(e,t)=>{try{const{data:{session:r}}=await ar.auth.getSession();if(!r)throw new Error("Usurio no autenticado. Faa login para continuar.");const{data:n,error:s}=await ar.functions.invoke("create-checkout-session",{headers:{Authorization:`Bearer ${r.access_token}`},body:{priceId:e,isAnnual:t}});if(s)throw s;if(n!=null&&n.error)throw new Error(`Erro Backend: ${n.error}`);if(!(n!=null&&n.url))throw new Error("URL de checkout no retornada");window.location.href=n.url}catch(r){console.error("Erro detalhado checkout:",r);let n=r.message||"Erro desconhecido";throw r.context&&r.context.statusText&&(n=`Erro HTTP: ${r.context.status} - ${r.context.statusText}`),new Error(`Falha no pagamento: ${n}`)}};var Zu;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(Zu||(Zu={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ed;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(ed||(ed={}));var td;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(td||(td={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=["user","model","function","system"];var nd;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(nd||(nd={}));var sd;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(sd||(sd={}));var id;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(id||(id={}));var ad;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(ad||(ad={}));var Xn;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Xn||(Xn={}));var od;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(od||(od={}));var ld;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(ld||(ld={}));var cd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(cd||(cd={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Hr extends Ce{constructor(t,r){super(t),this.response=r}}class tp extends Ce{constructor(t,r,n,s){super(t),this.status=r,this.statusText=n,this.errorDetails=s}}class or extends Ce{}class rp extends Ce{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="https://generativelanguage.googleapis.com",Fx="v1beta",Bx="0.24.1",Vx="genai-js";var Ir;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ir||(Ir={}));class qx{constructor(t,r,n,s,i){this.model=t,this.task=r,this.apiKey=n,this.stream=s,this.requestOptions=i}toString(){var t,r;const n=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||Fx;let i=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||Ux}/${n}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function Hx(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${Vx}/${Bx}`),t.join(" ")}async function Gx(e){var t;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",Hx(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(s){throw new or(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${s.message}`)}for(const[s,i]of n.entries()){if(s==="x-goog-api-key")throw new or(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new or(`Header name ${s} can only be set using the apiClient field`);r.append(s,i)}}return r}async function Wx(e,t,r,n,s,i){const a=new qx(e,t,r,n,i);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},Yx(i)),{method:"POST",headers:await Gx(a),body:s})}}async function Is(e,t,r,n,s,i={},a=fetch){const{url:l,fetchOptions:c}=await Wx(e,t,r,n,s,i);return Kx(l,c,a)}async function Kx(e,t,r=fetch){let n;try{n=await r(e,t)}catch(s){Jx(s,e)}return n.ok||await Qx(n,e),n}function Jx(e,t){let r=e;throw r.name==="AbortError"?(r=new rp(`Request aborted when fetching ${t.toString()}: ${e.message}`),r.stack=e.stack):e instanceof tp||e instanceof or||(r=new Ce(`Error fetching from ${t.toString()}: ${e.message}`),r.stack=e.stack),r}async function Qx(e,t){let r="",n;try{const s=await e.json();r=s.error.message,s.error.details&&(r+=` ${JSON.stringify(s.error.details)}`,n=s.error.details)}catch{}throw new tp(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}function Yx(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),_i(e.candidates[0]))throw new Hr(`${qt(e)}`,e);return Xx(e)}else if(e.promptFeedback)throw new Hr(`Text not available. ${qt(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),_i(e.candidates[0]))throw new Hr(`${qt(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),ud(e)[0]}else if(e.promptFeedback)throw new Hr(`Function call not available. ${qt(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),_i(e.candidates[0]))throw new Hr(`${qt(e)}`,e);return ud(e)}else if(e.promptFeedback)throw new Hr(`Function call not available. ${qt(e)}`,e)},e}function Xx(e){var t,r,n,s;const i=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const a of(s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)a.text&&i.push(a.text),a.executableCode&&i.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&i.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function ud(e){var t,r,n,s;const i=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const a of(s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)a.functionCall&&i.push(a.functionCall);if(i.length>0)return i}const Zx=[Xn.RECITATION,Xn.SAFETY,Xn.LANGUAGE];function _i(e){return!!e.finishReason&&Zx.includes(e.finishReason)}function qt(e){var t,r,n;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((n=e.candidates)===null||n===void 0)&&n[0]){const i=e.candidates[0];_i(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function js(e){return this instanceof js?(this.v=e,this):new js(e)}function ew(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(h){n[h]&&(s[h]=function(m){return new Promise(function(y,x){i.push([h,m,y,x])>1||l(h,m)})})}function l(h,m){try{c(n[h](m))}catch(y){f(i[0][3],y)}}function c(h){h.value instanceof js?Promise.resolve(h.value.v).then(u,d):f(i[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,m){h(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function tw(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=sw(t),[n,s]=r.tee();return{stream:nw(n),response:rw(s)}}async function rw(e){const t=[],r=e.getReader();for(;;){const{done:n,value:s}=await r.read();if(n)return fc(iw(t));t.push(s)}}function nw(e){return ew(this,arguments,function*(){const r=e.getReader();for(;;){const{value:n,done:s}=yield js(r.read());if(s)break;yield yield js(fc(n))}})}function sw(e){const t=e.getReader();return new ReadableStream({start(n){let s="";return i();function i(){return t.read().then(({value:a,done:l})=>{if(l){if(s.trim()){n.error(new Ce("Failed to parse stream"));return}n.close();return}s+=a;let c=s.match(dd),u;for(;c;){try{u=JSON.parse(c[1])}catch{n.error(new Ce(`Error parsing JSON response: "${c[1]}"`));return}n.enqueue(u),s=s.substring(c[0].length),c=s.match(dd)}return i()}).catch(a=>{let l=a;throw l.stack=a.stack,l.name==="AbortError"?l=new rp("Request aborted when reading from the stream"):l=new Ce("Error reading from the stream"),l})}}})}function iw(e){const t=e[e.length-1],r={promptFeedback:t==null?void 0:t.promptFeedback};for(const n of e){if(n.candidates){let s=0;for(const i of n.candidates)if(r.candidates||(r.candidates=[]),r.candidates[s]||(r.candidates[s]={index:s}),r.candidates[s].citationMetadata=i.citationMetadata,r.candidates[s].groundingMetadata=i.groundingMetadata,r.candidates[s].finishReason=i.finishReason,r.candidates[s].finishMessage=i.finishMessage,r.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){r.candidates[s].content||(r.candidates[s].content={role:i.content.role||"user",parts:[]});const a={};for(const l of i.content.parts)l.text&&(a.text=l.text),l.functionCall&&(a.functionCall=l.functionCall),l.executableCode&&(a.executableCode=l.executableCode),l.codeExecutionResult&&(a.codeExecutionResult=l.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),r.candidates[s].content.parts.push(a)}s++}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function np(e,t,r,n){const s=await Is(t,Ir.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n);return tw(s)}async function sp(e,t,r,n){const i=await(await Is(t,Ir.GENERATE_CONTENT,e,!1,JSON.stringify(r),n)).json();return{response:fc(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Es(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const r of e)typeof r=="string"?t.push({text:r}):t.push(r);return aw(t)}function aw(e){const t={role:"user",parts:[]},r={role:"function",parts:[]};let n=!1,s=!1;for(const i of e)"functionResponse"in i?(r.parts.push(i),s=!0):(t.parts.push(i),n=!0);if(n&&s)throw new Ce("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!s)throw new Ce("No content is provided for sending chat message.");return n?t:r}function ow(e,t){var r;let n={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(r=t==null?void 0:t.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new or("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(s)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{const i=Es(e);n.contents=[i]}return{generateContentRequest:n}}function hd(e){let t;return e.contents?t=e:t={contents:[Es(e)]},e.systemInstruction&&(t.systemInstruction=ip(e.systemInstruction)),t}function lw(e){return typeof e=="string"||Array.isArray(e)?{content:Es(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],cw={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function uw(e){let t=!1;for(const r of e){const{role:n,parts:s}=r;if(!t&&n!=="user")throw new Ce(`First content should be with role 'user', got ${n}`);if(!rd.includes(n))throw new Ce(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(rd)}`);if(!Array.isArray(s))throw new Ce("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new Ce("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of s)for(const c of fd)c in l&&(i[c]+=1);const a=cw[n];for(const l of fd)if(!a.includes(l)&&i[l]>0)throw new Ce(`Content with role '${n}' can't contain '${l}' part`);t=!0}}function pd(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const n of r.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="SILENT_ERROR";class dw{constructor(t,r,n,s={}){this.model=r,this.params=n,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,n!=null&&n.history&&(uw(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,r={}){var n,s,i,a,l,c;await this._sendPromise;const u=Es(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},f=Object.assign(Object.assign({},this._requestOptions),r);let h;return this._sendPromise=this._sendPromise.then(()=>sp(this._apiKey,this.model,d,f)).then(m=>{var y;if(pd(m.response)){this._history.push(u);const x=Object.assign({parts:[],role:"model"},(y=m.response.candidates)===null||y===void 0?void 0:y[0].content);this._history.push(x)}else{const x=qt(m.response);x&&console.warn(`sendMessage() was unsuccessful. ${x}. Inspect response object for details.`)}h=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,h}async sendMessageStream(t,r={}){var n,s,i,a,l,c;await this._sendPromise;const u=Es(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},f=Object.assign(Object.assign({},this._requestOptions),r),h=np(this._apiKey,this.model,d,f);return this._sendPromise=this._sendPromise.then(()=>h).catch(m=>{throw new Error(md)}).then(m=>m.response).then(m=>{if(pd(m)){this._history.push(u);const y=Object.assign({},m.candidates[0].content);y.role||(y.role="model"),this._history.push(y)}else{const y=qt(m);y&&console.warn(`sendMessageStream() was unsuccessful. ${y}. Inspect response object for details.`)}}).catch(m=>{m.message!==md&&console.error(m)}),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hw(e,t,r,n){return(await Is(t,Ir.COUNT_TOKENS,e,!1,JSON.stringify(r),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fw(e,t,r,n){return(await Is(t,Ir.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}async function pw(e,t,r,n){const s=r.requests.map(a=>Object.assign(Object.assign({},a),{model:t}));return(await Is(t,Ir.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,r,n={}){this.apiKey=t,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=ip(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(t,r={}){var n;const s=hd(t),i=Object.assign(Object.assign({},this._requestOptions),r);return sp(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),i)}async generateContentStream(t,r={}){var n;const s=hd(t),i=Object.assign(Object.assign({},this._requestOptions),r);return np(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),i)}startChat(t){var r;return new dw(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},t),this._requestOptions)}async countTokens(t,r={}){const n=ow(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),r);return hw(this.apiKey,this.model,n,s)}async embedContent(t,r={}){const n=lw(t),s=Object.assign(Object.assign({},this._requestOptions),r);return fw(this.apiKey,this.model,n,s)}async batchEmbedContents(t,r={}){const n=Object.assign(Object.assign({},this._requestOptions),r);return pw(this.apiKey,this.model,t,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new Ce("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new gd(this.apiKey,t,r)}getGenerativeModelFromCachedContent(t,r,n){if(!t.name)throw new or("Cached content must contain a `name` field.");if(!t.model)throw new or("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const a of s)if(r!=null&&r[a]&&t[a]&&(r==null?void 0:r[a])!==t[a]){if(a==="model"){const l=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,c=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(l===c)continue}throw new or(`Different value for "${a}" specified in modelParams (${r[a]}) and cachedContent (${t[a]})`)}const i=Object.assign(Object.assign({},r),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new gd(this.apiKey,i,n)}}const gw=async(e,t,r,n=[],s,i)=>{var d,f;const a="AIzaSyBeMcxYmH6kdhcRaFrBZrX1Gw34qnSAF7Y",l=new mw(a),c=["gemini-flash-latest","gemini-2.0-flash-lite","gemini-2.0-flash"];let u=null;for(const h of c)try{const m=l.getGenerativeModel({model:h,tools:void 0}),y=s||t.maxResults,x=n.slice(-50),w=`REQ-${Date.now()}-${Math.floor(Math.random()*99999)}`,g=["Foque EXCLUSIVAMENTE em bairros perifricos e comerciais.","Busque 'Jias Escondidas': empresas locais pequenas.","Ignore franquias e grandes redes.","Priorize empresas recentemente adicionadas ao Google Maps.","Misture resultados de extremos opostos da cidade."],p=g[Math.floor(Math.random()*g.length)],v=[`Quantidade alvo: ${y} resultados distintos.`,t.minRating>0?`Nota mnima: ${t.minRating}.`:"",t.requirePhone?"OBRIGATRIO ter telefone vlido.":"",i?`IGNORAR cidade: ${i}`:"",x.length>0?`IGNORAR estes nomes: ${JSON.stringify(x)}`:""].filter(Boolean).join(`
`),b=`
        Voc  um buscador de leads industriais e comerciais. Responda APENAS em JSON.
        Formato: [{"name":"Nome","category":"Cat","rating":0.0,"reviews":0,"address":"Endereo","phone":"(00) 0000-0000","website":"https://...","instagram":"https://..."}]
      `,j=`
        ID: ${w} | Estratgia: ${p}
        Local: ${r?`${r.latitude}, ${r.longitude}`:"Padro"}
        Busca: "${e}"
        ${v}
      `,E=(await(await m.generateContent({contents:[{role:"user",parts:[{text:`${b}

${j}`}]}],generationConfig:{temperature:.7,topP:.95}})).response).text(),D=E.indexOf("["),P=E.lastIndexOf("]");if(D===-1||P===-1){if(E.length>0)return[];continue}const K=E.substring(D,P+1),ue=JSON.parse(K);return Array.isArray(ue)?ue.map((se,Qe)=>({id:`lead-${Date.now()}-${Qe}-${Math.random().toString(36).substr(2,5)}`,name:se.name||"Sem Nome",category:se.category||"Geral",rating:se.rating||0,reviews:se.reviews||0,address:se.address||"Endereo no disponvel",phone:se.phone||"N/A",website:se.website||"N/A",googleMapsLink:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent((se.name||"")+" "+(se.address||""))}`,instagram:se.instagram!=="N/A"?se.instagram:void 0})):[]}catch(m){if(u=m,console.warn(`Erro no modelo ${h}:`,m.message),m.status===429||(d=m.message)!=null&&d.includes("429"))continue;break}if(u)throw u.status===429||((f=u.message)==null?void 0:f.includes("429"))?new Error("COTA EXCEDIDA: O Google limitou o uso da sua chave gratuita temporariamente. Por favor, aguarde alguns minutos e tente novamente."):new Error(u.message||"Erro na comunicao com a IA.");return[]},vw=({onAuthSuccess:e})=>{const[t,r]=z.useState("signup"),[n,s]=z.useState(""),[i,a]=z.useState(""),[l,c]=z.useState(""),[u,d]=z.useState(""),[f,h]=z.useState(!1),[m,y]=z.useState(!1),[x,w]=z.useState(""),[g,p]=z.useState(""),v=k=>{const _={"Invalid login credentials":"Email ou senha incorretos","User already registered":"Este email j est cadastrado","Email not confirmed":"Email no confirmado. Verifique sua caixa de entrada","Invalid email":"Email invlido","Password should be at least 6 characters":"A senha deve ter no mnimo 6 caracteres","Email rate limit exceeded":"Muitas tentativas. Aguarde alguns minutos","Signup disabled":"Cadastro temporariamente desabilitado","User not found":"Usurio no encontrado","Invalid credentials":"Credenciais invlidas","Email link is invalid or has expired":"Link de email invlido ou expirado"};if(_[k])return _[k];for(const[E,D]of Object.entries(_))if(k.toLowerCase().includes(E.toLowerCase()))return D;return"Erro ao processar sua solicitao. Tente novamente"},b=async k=>{if(k.preventDefault(),!i){w("Por favor, informe seu email");return}y(!0),w(""),p("");try{const{error:_}=await ar.auth.resetPasswordForEmail(i,{redirectTo:`${window.location.origin}/reset-password`});if(_)throw _;p("Email de recuperao enviado! Verifique sua caixa de entrada.")}catch(_){w(v(_.message))}finally{y(!1)}},j=async k=>{if(k.preventDefault(),w(""),p(""),!i||!l){w("Preencha todos os campos");return}if(t==="signup"){if(!n.trim()){w("Por favor, informe seu nome");return}if(l!==u){w("As senhas no coincidem");return}if(l.length<6){w("A senha deve ter no mnimo 6 caracteres");return}}y(!0);try{if(t==="login"){const{data:_,error:E}=await ar.auth.signInWithPassword({email:i,password:l});if(E)throw E;_.user&&(p("Login realizado com sucesso!"),setTimeout(()=>e(),500))}else if(t==="signup"){const{data:_,error:E}=await ar.auth.signUp({email:i,password:l,options:{data:{full_name:n}}});if(E)throw E;_.user&&(p("Conta criada com sucesso! Voc j pode fazer login."),setTimeout(()=>{r("login"),c(""),d("")},1500))}}catch(_){console.error("Auth error:",_);const E=v(_.message||"Erro desconhecido");w(E)}finally{y(!1)}};return o.jsxs("div",{className:"min-h-screen w-full bg-slate-950 flex items-center justify-center p-4 overflow-hidden relative",children:[o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-primary-900/20 via-transparent to-transparent opacity-50"}),o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom_left,_var(--tw-gradient-stops))] from-blue-900/10 via-transparent to-transparent opacity-30"}),o.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8 animate-fade-in-up",children:[o.jsx("img",{src:"https://i.postimg.cc/0jF5PGV8/logo-beleads-h1-1.png",alt:"be.leads",className:"h-10 w-auto mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:t==="login"?"Bem-vindo de volta!":t==="signup"?"Criar sua conta":"Recuperar senha"}),o.jsx("p",{className:"text-slate-400 text-sm",children:t==="login"?"Entre na sua conta para continuar":t==="signup"?"Comece a extrair leads inteligentes hoje":"Informe o seu email para receber o link"})]}),o.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-xl p-8 animate-fade-in-up",style:{animationDelay:"100ms"},children:[t!=="forgot-password"&&o.jsxs("div",{className:"flex gap-2 mb-6 p-1 bg-slate-100 rounded-lg",children:[o.jsxs("button",{onClick:()=>{r("login"),w(""),p(""),s("")},className:`flex-1 py-2 px-4 rounded-md text-sm font-semibold transition-all ${t==="login"?"bg-primary-600 text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[o.jsx(Kg,{className:"w-4 h-4 inline mr-2"}),"Entrar na conta"]}),o.jsxs("button",{onClick:()=>{r("signup"),w(""),p("")},className:`flex-1 py-2 px-4 rounded-md text-sm font-semibold transition-all ${t==="signup"?"bg-primary-600 text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[o.jsx(sv,{className:"w-4 h-4 inline mr-2"}),"Cadastro"]})]}),o.jsxs("form",{onSubmit:t==="forgot-password"?b:j,className:"space-y-4",children:[t==="signup"&&o.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[o.jsx("label",{className:"block text-[11px] font-bold text-slate-500 mb-2 uppercase tracking-widest",children:"Como voc se chama?"}),o.jsxs("div",{className:"relative",children:[o.jsx(Yi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx("input",{type:"text",value:n,onChange:k=>s(k.target.value),placeholder:"Seu nome",className:"w-full pl-10 pr-4 py-3 bg-white border border-slate-200 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all",disabled:m})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[11px] font-bold text-slate-500 mb-2 uppercase tracking-widest",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx("input",{type:"email",value:i,onChange:k=>a(k.target.value),placeholder:"seu@email.com",className:"w-full pl-10 pr-4 py-3 bg-white border border-slate-200 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all",disabled:m})]})]}),t!=="forgot-password"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-[11px] font-bold text-slate-500 mb-2 uppercase tracking-widest",children:"Senha"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ar,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx("input",{type:f?"text":"password",value:l,onChange:k=>c(k.target.value),placeholder:"",className:"w-full pl-10 pr-12 py-3 bg-white border border-slate-200 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all",disabled:m}),o.jsx("button",{type:"button",onClick:()=>h(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",children:f?o.jsx(Pg,{className:"w-4 h-4"}):o.jsx(Lg,{className:"w-4 h-4"})})]})]}),t==="signup"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-[11px] font-bold text-slate-500 mb-2 uppercase tracking-widest",children:"Confirmar Senha"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ar,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),o.jsx("input",{type:f?"text":"password",value:u,onChange:k=>d(k.target.value),placeholder:"",className:"w-full pl-10 pr-4 py-3 bg-white border border-slate-200 rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all",disabled:m})]})]}),x&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm animate-in fade-in slide-in-from-top-2",children:x}),g&&o.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg text-sm animate-in fade-in slide-in-from-top-2",children:g}),o.jsx("button",{type:"submit",disabled:m,className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-bold py-3 px-4 rounded-lg transition-all shadow-md shadow-primary-500/20 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:m?o.jsxs(o.Fragment,{children:[o.jsx(Ji,{className:"w-5 h-5 animate-spin"}),"Processando..."]}):o.jsxs(o.Fragment,{children:[t==="login"?"Entrar na conta":t==="signup"?"Criar Conta":"Enviar Link",o.jsx(rl,{className:"w-5 h-5"})]})})]}),o.jsxs("div",{className:"mt-6 text-center space-y-3",children:[t==="login"&&o.jsx("button",{onClick:()=>{r("forgot-password"),w(""),p("")},className:"text-sm text-slate-500 hover:text-primary-600 transition-colors font-medium border-b border-transparent hover:border-primary-600",children:"Esqueci minha senha"}),t==="forgot-password"&&o.jsx("button",{onClick:()=>{r("login"),w(""),p("")},className:"text-sm text-primary-600 hover:text-primary-700 transition-colors font-bold flex items-center justify-center gap-1 mx-auto",children:"Voltar para Entrar"})]})]}),o.jsxs("p",{className:"text-center text-slate-500 text-xs mt-8",children:["Ao continuar, voc concorda com nossos ",o.jsx("br",{}),o.jsx("span",{className:"font-semibold text-slate-400 cursor-pointer",children:"Termos de Uso"})," e ",o.jsx("span",{className:"font-semibold text-slate-500 cursor-pointer",children:"Poltica de Privacidade"})]})]})]})},yw=({isSidebarOpen:e,activeTab:t,setActiveTab:r,PLAN:n,USED_CREDITS:s,MAX_CREDITS:i,PLAN_PERCENTAGE:a,userSettings:l,setTheme:c,theme:u,handleLogout:d,renderAvatar:f})=>o.jsxs("aside",{className:`flex-shrink-0 h-full w-60 bg-sidebar text-white flex flex-col transition-all duration-300 ${e?"translate-x-0":"-ml-60"} z-50 border-r border-white/5`,children:[o.jsx("div",{className:"h-16 flex items-center px-4 border-b border-white/5 bg-sidebar shrink-0",children:o.jsx("img",{src:"https://i.postimg.cc/0jF5PGV8/logo-beleads-h1-1.png",alt:"be.leads",className:"h-7 w-auto object-contain"})}),o.jsx("nav",{className:"flex-1 p-2 space-y-2 overflow-y-auto custom-scrollbar",children:[{id:"home",icon:Bg,label:"Incio"},{id:"search",icon:Os,label:"Buscar leads"},{id:"crm",icon:cc,label:"CRM"},{id:"subscription",icon:iv,label:"Assinatura"},{id:"settings",icon:Zg,label:"Configuraes"}].map(h=>o.jsxs("button",{onClick:()=>r(h.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 text-sm ${t===h.id?"bg-primary-500 shadow-md shadow-black/20 text-white font-bold":"hover:bg-white/5 text-slate-400 hover:text-white font-medium"}`,children:[o.jsx(h.icon,{className:"w-4 h-4"})," ",h.label]},h.id))}),o.jsxs("div",{className:"p-3 bg-black/20 m-2 rounded-lg border border-white/5 shrink-0",children:[o.jsx("div",{className:"flex items-center justify-between mb-2 pb-2 border-b border-white/5",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Seu Plano"}),o.jsx("span",{className:"text-xs font-bold text-white capitalize",children:n.name})]})}),o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Crditos"}),o.jsxs("span",{className:"text-[10px] font-bold text-white",children:[s,"/",i]})]}),o.jsx("div",{className:"w-full bg-black/40 h-1.5 rounded-full overflow-hidden",children:o.jsx("div",{className:"bg-primary-500 h-full transition-all duration-500",style:{width:`${a}%`}})}),l.plan==="elite"?o.jsxs("div",{className:"mt-2 text-center",children:[o.jsxs("span",{className:"text-[10px] font-bold text-green-400 flex items-center justify-center gap-1 animate-pulse",children:[o.jsx(At,{className:"w-3 h-3"})," Limite Mximo"]}),o.jsx("p",{className:"text-[10px] text-zinc-500 mt-1 cursor-pointer hover:text-white transition-colors",onClick:()=>window.open("mailto:suporte@beleads.com"),children:"Precisa de mais? Fale conosco."})]}):o.jsx("button",{onClick:()=>r("subscription"),className:`mt-2 w-full py-2 text-[10px] font-bold rounded-md border transition-all active:scale-95 flex items-center justify-center gap-2 ${l.plan==="free"?"bg-gradient-to-r from-primary-600 to-indigo-600 hover:from-primary-500 hover:to-indigo-500 text-white border-transparent shadow-lg shadow-primary-500/30":"bg-primary-500/10 hover:bg-primary-500/20 text-primary-300 border-primary-500/20"}`,children:l.plan==="free"?"Escolher plano":"Aumentar limite"})]}),o.jsxs("div",{className:"p-3 border-t border-white/5 shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-1 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>r("settings"),children:[f(l,"sm"),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx("p",{className:"text-xs font-bold truncate text-white",children:l.name})})]}),o.jsx("button",{onClick:()=>c(h=>h==="light"?"dark":"light"),className:"text-slate-400 hover:text-white transition-colors",children:u==="light"?o.jsx("span",{className:"text-xs",children:""}):o.jsx("span",{className:"text-xs",children:""})})]}),o.jsxs("button",{onClick:d,className:"w-full mt-2 flex items-center justify-center gap-2 px-3 py-2 text-xs text-zinc-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all",title:"Sair da conta",children:[o.jsx(Qg,{className:"w-3.5 h-3.5"}),"Sair"]})]})]}),xw=({setIsSidebarOpen:e,isSidebarOpen:t})=>o.jsxs("div",{className:"md:hidden mb-6 flex items-center justify-between shrink-0",children:[o.jsx("div",{className:"flex items-center gap-2 text-zinc-900 dark:text-white font-bold",children:o.jsx("img",{src:"https://i.postimg.cc/0jF5PGV8/logo-beleads-h1-1.png",alt:"be.leads",className:"h-8 w-auto object-contain"})}),o.jsx("button",{onClick:()=>e(!t),className:"p-2 bg-app-cardLight dark:bg-app-cardDark rounded-lg shadow-sm border border-zinc-200 dark:border-zinc-700",children:o.jsx(Jg,{className:"w-6 h-6 text-zinc-800 dark:text-zinc-200"})})]}),ww=({userSettings:e,dailyQuote:t,renderAvatar:r,PLAN:n,USED_CREDITS:s,MAX_CREDITS:i,PLAN_PERCENTAGE:a,setActiveTab:l,monthlyRevenue:c,hasCRMAccess:u,crmLeads:d,currentCalendarDate:f,setCurrentCalendarDate:h,getFirstDayOfMonth:m,getDaysInMonth:y,openAddEventModal:x,calendarEvents:w,selectedDateEvents:g,todayStr:p,upcomingEvents:v,tomorrowStr:b,setCalendarEvents:j})=>o.jsxs("div",{className:"animate-fade-in-up space-y-8",children:[o.jsx("header",{className:"flex flex-col gap-4",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r(e,"sm"),o.jsxs("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-white",children:["Ol, ",e.name.split(" ")[0],"!"]})]}),o.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-sm italic",children:t})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx("div",{className:"bg-app-cardLight dark:bg-app-cardDark p-0 rounded-2xl shadow-sm border border-zinc-200 dark:border-zinc-800 overflow-hidden relative group",children:o.jsxs("div",{className:"p-5 relative z-10",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Plano Atual"}),o.jsx("h3",{className:"text-2xl font-black text-primary-600 dark:text-primary-400 mt-1 uppercase",children:n.name})]}),o.jsx("div",{className:"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400 p-2 rounded-lg",children:o.jsx(ev,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-xs font-medium text-zinc-500",children:[o.jsxs("span",{children:["Crditos: ",s,"/",i]}),o.jsxs("span",{children:[a.toFixed(0),"%"]})]}),o.jsx("div",{className:"w-full bg-zinc-100 dark:bg-zinc-800 h-2 rounded-full overflow-hidden",children:o.jsx("div",{className:"bg-primary-500 h-full rounded-full transition-all duration-1000",style:{width:`${a}%`}})}),(e.plan==="free"||e.plan==="start")&&o.jsx("button",{onClick:()=>l("subscription"),className:"w-full mt-2 text-xs font-bold text-white bg-green-600 hover:bg-green-700 py-2 rounded-lg transition-colors shadow-sm shadow-green-500/20",children:"Fazer upgrade"})]})]})}),o.jsxs("div",{className:"bg-app-cardLight dark:bg-app-cardDark p-5 rounded-2xl shadow-sm border border-zinc-200 dark:border-zinc-800 flex flex-col justify-between relative overflow-hidden group",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-20",children:[o.jsx("p",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Ganho mensal"}),o.jsx("div",{className:"p-2 bg-green-50 dark:bg-green-700/20 rounded-xl text-green-600 dark:text-green-400",children:o.jsx(Df,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:`flex-1 flex flex-col justify-between relative z-10 transition-all ${u?"":"blur-sm opacity-50 select-none"}`,children:[o.jsxs("p",{className:"text-2xl font-bold text-zinc-900 dark:text-white mt-1",children:["R$ ",c.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex justify-between items-center text-xs mb-1.5",children:[o.jsxs("span",{className:"text-zinc-400",children:["Meta: ",e.pipelineGoal.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]}),o.jsxs("span",{className:"font-bold text-green-600 dark:text-green-400",children:[Math.round(Math.min(c/e.pipelineGoal*100,100)),"%"]})]}),o.jsx("div",{className:"w-full bg-zinc-100 dark:bg-zinc-800 h-1.5 rounded-full overflow-hidden",children:o.jsx("div",{className:"bg-green-500 h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(c/e.pipelineGoal*100,100)}%`}})})]})]}),!u&&o.jsx("div",{className:"absolute inset-x-0 bottom-0 top-16 z-30 flex flex-col items-center justify-center",children:o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(Ar,{className:"w-5 h-5 text-primary-500 mb-1"}),o.jsx("span",{className:"text-xs font-bold text-zinc-600 dark:text-zinc-300",children:"CRM disponvel no Pro"}),o.jsx("button",{onClick:()=>l("subscription"),className:"text-xs bg-primary-600 hover:bg-primary-700 text-white px-3 py-1.5 rounded-lg font-bold shadow-md transition-all",children:"Liberar acesso"})]})})]}),o.jsxs("div",{className:"bg-app-cardLight dark:bg-app-cardDark p-5 rounded-2xl shadow-sm border border-zinc-200 dark:border-zinc-800 flex flex-col justify-between relative overflow-hidden group",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-20",children:[o.jsx("p",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Leads no CRM"}),o.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-xl text-blue-600 dark:text-blue-400",children:o.jsx(Yi,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:`flex-1 flex flex-col justify-between relative z-10 transition-all ${u?"":"blur-sm opacity-50 select-none"}`,children:[o.jsx("p",{className:"text-2xl font-bold text-zinc-900 dark:text-white mt-1",children:d.length}),o.jsx("div",{className:"mt-4",children:o.jsx("p",{className:"text-xs text-zinc-400",children:"Gerencie seu funil de vendas"})})]}),!u&&o.jsx("div",{className:"absolute inset-x-0 bottom-0 top-16 z-30 flex flex-col items-center justify-center",children:o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(Ar,{className:"w-5 h-5 text-primary-500 mb-1"}),o.jsx("span",{className:"text-xs font-bold text-zinc-600 dark:text-zinc-300",children:"Gesto de pipeline"}),o.jsx("button",{onClick:()=>l("subscription"),className:"text-xs bg-primary-600 hover:bg-primary-700 text-white px-3 py-1.5 rounded-lg font-bold shadow-md transition-all",children:"Liberar acesso"})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 bg-app-cardLight dark:bg-app-cardDark p-6 rounded-2xl shadow-sm border border-zinc-200 dark:border-zinc-800",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[o.jsx(nl,{className:"w-5 h-5 text-primary-500"})," Agenda"]}),o.jsx("span",{className:"text-xs text-zinc-400 font-normal ml-2 hidden md:inline",children:"(Clique no dia para agendar)"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>h(new Date(f.setMonth(f.getMonth()-1))),className:"p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg",children:o.jsx(Tg,{className:"w-5 h-5"})}),o.jsx("span",{className:"text-sm font-bold capitalize w-32 text-center",children:f.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})}),o.jsx("button",{onClick:()=>h(new Date(f.setMonth(f.getMonth()+1))),className:"p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg",children:o.jsx(Rg,{className:"w-5 h-5"})})]})]}),o.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["D","S","T","Q","Q","S","S"].map((k,_)=>o.jsx("div",{className:"text-center text-xs font-bold text-zinc-400",children:k},`weekday-${_}`))}),o.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:m(f)}).map((k,_)=>o.jsx("div",{},`empty-${_}`)),Array.from({length:y(f)}).map((k,_)=>{const E=_+1,D=new Date(f.getFullYear(),f.getMonth(),E).toISOString().split("T")[0],P=w.some(ue=>ue.date===D),K=D===p;return o.jsxs("button",{onClick:()=>x(new Date(f.getFullYear(),f.getMonth(),E)),className:`h-10 rounded-lg text-sm font-medium flex flex-col items-center justify-center relative transition-all border
                    ${K?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-800 font-bold":"hover:bg-zinc-100 dark:hover:bg-zinc-800 text-zinc-700 dark:text-zinc-300 border-transparent"}
                  `,children:[E,P&&o.jsx("div",{className:`w-1.5 h-1.5 rounded-full mt-0.5 ${K?"bg-primary-600":"bg-primary-400"}`})]},E)})]})]}),o.jsxs("div",{className:"bg-app-cardLight dark:bg-app-cardDark p-6 rounded-2xl shadow-sm border border-zinc-200 dark:border-zinc-800 flex flex-col max-h-[450px]",children:[o.jsxs("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white mb-4 flex items-center gap-2 flex-shrink-0",children:[o.jsx(Af,{className:"w-5 h-5 text-primary-500"})," Prximos compromissos"]}),o.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 scrollbar-thin max-h-[220px]",children:v.length===0?o.jsxs("div",{className:"text-center py-8 text-zinc-400",children:[o.jsx(nl,{className:"w-10 h-10 mx-auto mb-2 opacity-20"}),o.jsx("p",{className:"text-sm",children:"Agenda livre!"}),o.jsx("button",{onClick:()=>x(new Date),className:"mt-2 text-xs text-primary-500 hover:underline",children:"Agendar para hoje"})]}):v.map(k=>{const _=new Date(k.date+"T00:00:00"),E=k.date===p,D=k.date===b;return o.jsxs("div",{className:"p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border-l-4 border-primary-500 flex items-start gap-3 group",children:[o.jsxs("div",{className:"text-center min-w-[3rem]",children:[o.jsx("div",{className:"text-[10px] font-bold uppercase text-zinc-400",children:_.toLocaleDateString("pt-BR",{weekday:"short"}).replace(".","")}),o.jsx("div",{className:"text-lg font-bold text-zinc-800 dark:text-white leading-none",children:_.getDate()})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-bold text-sm text-zinc-900 dark:text-white truncate",title:k.title,children:k.title}),o.jsxs("p",{className:"text-xs text-zinc-500 flex justify-between mt-1 items-center",children:[o.jsx("span",{children:k.time||"Dia todo"}),E&&o.jsx("span",{className:"text-green-600 font-bold bg-green-100 dark:bg-green-900/30 px-1.5 rounded text-[10px]",children:"HOJE"}),D&&o.jsx("span",{className:"text-blue-600 font-bold bg-blue-100 dark:bg-blue-900/30 px-1.5 rounded text-[10px]",children:"AMANH"})]})]}),o.jsx("button",{onClick:()=>j(P=>P.filter(K=>K.id!==k.id)),className:"text-zinc-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(ya,{className:"w-4 h-4"})})]},k.id)})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("button",{onClick:()=>l("search"),className:"group relative overflow-hidden bg-gradient-to-br from-primary-500 to-primary-700 rounded-2xl p-6 text-left shadow-lg shadow-primary-500/20 hover:shadow-primary-500/40 transition-all hover:-translate-y-1",children:[o.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10 group-hover:scale-110 transition-transform duration-500",children:o.jsx(Os,{className:"w-32 h-32 text-white"})}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"bg-white/20 w-12 h-12 rounded-xl flex items-center justify-center mb-4 border border-white/10",children:o.jsx(Lf,{className:"w-6 h-6 text-white"})}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:"Buscar leads"}),o.jsx("p",{className:"text-primary-100 text-sm mb-4",children:"Encontre novas empresas e extraia dados."}),o.jsxs("div",{className:"inline-flex items-center gap-2 text-white text-sm font-bold bg-white/20 px-4 py-2 rounded-lg group-hover:bg-white group-hover:text-primary-600 transition-colors",children:["Comear agora ",o.jsx(rl,{className:"w-4 h-4"})]})]})]}),o.jsxs("button",{onClick:()=>l("crm"),className:"group relative overflow-hidden bg-gradient-to-br from-green-500 to-green-700 rounded-2xl p-6 text-left shadow-lg shadow-green-500/20 hover:shadow-green-500/40 transition-all hover:-translate-y-1",children:[o.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10 group-hover:scale-110 transition-transform duration-500",children:o.jsx($f,{className:"w-32 h-32 text-white"})}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"bg-white/20 w-12 h-12 rounded-xl flex items-center justify-center mb-4 border border-white/10",children:o.jsx(cc,{className:"w-6 h-6 text-white"})}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:"Acessar CRM"}),o.jsx("p",{className:"text-green-100 text-sm mb-4",children:"Gerencie seu pipeline de vendas."}),o.jsxs("div",{className:"inline-flex items-center gap-2 text-white text-sm font-bold bg-white/20 px-4 py-2 rounded-lg group-hover:bg-white group-hover:text-green-600 transition-colors",children:["Ver pipeline ",o.jsx(rl,{className:"w-4 h-4"})]})]})]})]})]}),bw=["Restaurantes","Academias","Sales de Beleza","Clnicas Mdicas","Dentistas","Escritrios de Advocacia","Imobilirias","Pet Shops"],ap=[{sigla:"AC",nome:"Acre"},{sigla:"AL",nome:"Alagoas"},{sigla:"AP",nome:"Amap"},{sigla:"AM",nome:"Amazonas"},{sigla:"BA",nome:"Bahia"},{sigla:"CE",nome:"Cear"},{sigla:"DF",nome:"Distrito Federal"},{sigla:"ES",nome:"Esprito Santo"},{sigla:"GO",nome:"Gois"},{sigla:"MA",nome:"Maranho"},{sigla:"MT",nome:"Mato Grosso"},{sigla:"MS",nome:"Mato Grosso do Sul"},{sigla:"MG",nome:"Minas Gerais"},{sigla:"PA",nome:"Par"},{sigla:"PB",nome:"Paraba"},{sigla:"PR",nome:"Paran"},{sigla:"PE",nome:"Pernambuco"},{sigla:"PI",nome:"Piau"},{sigla:"RJ",nome:"Rio de Janeiro"},{sigla:"RN",nome:"Rio Grande do Norte"},{sigla:"RS",nome:"Rio Grande do Sul"},{sigla:"RO",nome:"Rondnia"},{sigla:"RR",nome:"Roraima"},{sigla:"SC",nome:"Santa Catarina"},{sigla:"SP",nome:"So Paulo"},{sigla:"SE",nome:"Sergipe"},{sigla:"TO",nome:"Tocantins"}],kw=Array.from({length:48},(e,t)=>{const r=Math.floor(t/2),n=t%2===0?"00":"30";return`${r.toString().padStart(2,"0")}:${n}`}),_w=["","","","","","","","","","","","","","","","","","","",""],op=["Localizando as melhores oportunidades...","Filtrando apenas empresas ativas...","Validando nmeros de telefone...","Organizando resultados por relevncia...","Preparando sua prxima venda...","IA analisando dados do Google Maps...","Quase pronto para prospectar...","Finalizando a extrao estratgica..."],vd={start:"price_1QovA7SFY1oG7C21R71N24",pro:"price_1QovBSSFdF1oG7C2188X922",elite:"price_1QovCfSFG1oG7Y21O99m24"},Ht={free:0,start:1,pro:2,elite:3},Sw=[{id:"1",name:"Exemplo Lead A",category:"Restaurante",address:"Av. Paulista, 1000",phone:"(11) 99999-9999",rating:4.5,reviews:120,website:"www.exemplo.com",status:"prospecting",priority:"medium",tags:["Novo"],addedAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2",name:"Exemplo Lead B",category:"Academia",address:"Rua Oscar Freire, 500",phone:"(11) 88888-8888",rating:4.8,reviews:350,website:"www.gym.com",status:"contacted",priority:"high",tags:["Quente"],addedAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],jw={free:50,start:300,pro:1500,elite:5e3};var Yt=(e=>(e.NAME="name",e.RATING="rating",e.REVIEWS="reviews",e))(Yt||{}),Zn=(e=>(e.ASC="asc",e.DESC="desc",e))(Zn||{});const Ew=({leads:e,sortField:t,sortOrder:r,onSort:n,isSearching:s,onAddToCRM:i,savedLeadIds:a,hasCRMAccess:l=!0,hasWhatsAppAccess:c=!0})=>{const[u,d]=z.useState(null),f=(w,g)=>{navigator.clipboard.writeText(w),d(g),setTimeout(()=>d(null),2e3)},h=w=>t!==w?o.jsx(Eg,{className:"w-3.5 h-3.5 ml-1 text-zinc-300 dark:text-zinc-600"}):r===Zn.ASC?o.jsx(Ng,{className:"w-3.5 h-3.5 ml-1 text-primary-600 dark:text-primary-400"}):o.jsx(jg,{className:"w-3.5 h-3.5 ml-1 text-primary-600 dark:text-primary-400"}),m=w=>{const g=w.replace(/\D/g,"");return g.length<8?null:`https://wa.me/${g.length<=11?`55${g}`:g}`},y=w=>!w||w==="N/A"?"":w.startsWith("http")?w:`https://${w}`,x=w=>w&&w.toLowerCase().includes("instagram.com");return s?o.jsx("div",{className:"space-y-4 animate-pulse",children:o.jsx("div",{className:"overflow-x-auto pb-4",children:o.jsxs("table",{className:"w-full text-left border-collapse",children:[o.jsx("thead",{children:o.jsx("tr",{children:["Empresa","Categoria","Reputao","Canais"].map((w,g)=>o.jsx("th",{className:"px-6 py-4 text-xs font-bold text-zinc-400 dark:text-zinc-500 uppercase tracking-wider",children:w},g))})}),o.jsx("tbody",{className:"space-y-3",children:[1,2,3,4,5].map(w=>o.jsxs("tr",{className:"bg-white dark:bg-app-cardDark rounded-2xl border border-zinc-100 dark:border-zinc-800",children:[o.jsxs("td",{className:"px-6 py-5",children:[o.jsx("div",{className:"h-5 bg-zinc-200 dark:bg-zinc-700 rounded w-3/4 mb-2"}),o.jsx("div",{className:"h-3 bg-zinc-100 dark:bg-zinc-800 rounded w-1/2"})]}),o.jsx("td",{className:"px-6 py-5",children:o.jsx("div",{className:"h-6 bg-zinc-100 dark:bg-zinc-800 rounded-full w-24"})}),o.jsx("td",{className:"px-6 py-5",children:o.jsx("div",{className:"h-5 bg-zinc-200 dark:bg-zinc-700 rounded w-12"})}),o.jsx("td",{className:"px-6 py-5",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"h-8 w-8 bg-zinc-100 dark:bg-zinc-800 rounded-full"}),o.jsx("div",{className:"h-8 w-24 bg-zinc-100 dark:bg-zinc-800 rounded-md"})]})})]},w))})]})})}):e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-24 bg-white dark:bg-app-cardDark rounded-3xl border border-dashed border-zinc-300 dark:border-zinc-700 text-center px-4 animate-fade-in-up transition-colors",children:[o.jsx("div",{className:"bg-zinc-100 dark:bg-zinc-800 w-24 h-24 rounded-full flex items-center justify-center mb-6 shadow-sm",children:o.jsx(Xg,{className:"w-10 h-10 text-zinc-400 dark:text-zinc-500"})}),o.jsx("h3",{className:"text-xl font-bold text-zinc-800 dark:text-zinc-200 mb-2",children:"Aguardando resultados"}),o.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 max-w-md text-sm leading-relaxed",children:"Sua lista de leads aparecer aqui. Utilize a busca acima para encontrar empresas no Google Maps."})]}):o.jsxs("div",{className:"space-y-4 animate-fade-in-up",children:[o.jsx("div",{className:"overflow-hidden rounded-2xl border border-zinc-100 dark:border-zinc-800",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left border-collapse",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-zinc-50/50 dark:bg-zinc-900/50",children:[o.jsx("th",{className:"px-6 py-4 text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider cursor-pointer hover:text-primary-600 dark:hover:text-primary-400 transition-colors select-none",onClick:()=>n(Yt.NAME),children:o.jsxs("div",{className:"flex items-center",children:["Empresa ",h(Yt.NAME)]})}),o.jsx("th",{className:"px-6 py-4 text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider select-none",children:"Categoria"}),o.jsx("th",{className:"px-6 py-4 text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider cursor-pointer hover:text-primary-600 dark:hover:text-primary-400 transition-colors select-none",onClick:()=>n(Yt.RATING),children:o.jsxs("div",{className:"flex items-center",children:["Reputao ",h(Yt.RATING)]})}),o.jsx("th",{className:"px-6 py-4 text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider select-none text-right",children:"Aes"})]})}),o.jsx("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:e.map((w,g)=>{const p=a.includes(w.id);return o.jsxs("tr",{className:"bg-white dark:bg-app-cardDark hover:bg-zinc-50/50 dark:hover:bg-zinc-800/30 transition-colors",style:{animationDelay:`${g*50}ms`},children:[o.jsx("td",{className:"px-6 py-4 align-top max-w-xs",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"flex items-center justify-between gap-2",children:o.jsxs("a",{href:y(w.googleMapsLink||""),target:"_blank",rel:"noopener noreferrer",className:"text-base font-bold text-zinc-900 dark:text-zinc-100 hover:text-primary-600 dark:hover:text-primary-400 transition-colors flex items-center gap-2 mb-1 truncate",title:"Abrir no Google Maps",children:[w.name,o.jsx(If,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity text-primary-400 flex-shrink-0"})]})}),o.jsxs("div",{className:"flex items-start text-xs text-zinc-500 dark:text-zinc-400 mt-1 group/addr cursor-pointer",onClick:()=>f(w.address,`addr-${w.id}`),children:[o.jsx(Qi,{className:"w-3.5 h-3.5 mr-1.5 flex-shrink-0 text-zinc-400 dark:text-zinc-500 mt-0.5 group-hover/addr:text-primary-500 dark:group-hover/addr:text-primary-400 transition-colors"}),o.jsx("span",{className:"leading-snug line-clamp-2 group-hover/addr:text-primary-600 dark:group-hover/addr:text-primary-300 transition-colors",children:w.address}),u===`addr-${w.id}`?o.jsx(At,{className:"w-3 h-3 ml-2 text-success-500 flex-shrink-0 animate-in fade-in zoom-in"}):o.jsx(Ki,{className:"w-3 h-3 ml-2 text-zinc-300 dark:text-zinc-600 opacity-0 group-hover/addr:opacity-100 transition-opacity hover:text-primary-500 dark:hover:text-primary-400 flex-shrink-0"})]})]})}),o.jsx("td",{className:"px-6 py-4 align-top",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-zinc-50 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 border border-zinc-200 dark:border-zinc-700 whitespace-nowrap",children:w.category})}),o.jsx("td",{className:"px-6 py-4 align-top",children:o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsxs("div",{className:"flex items-center bg-amber-50 dark:bg-amber-900/10 px-2 py-0.5 rounded border border-amber-100 dark:border-amber-900/30",children:[o.jsx(rv,{className:`w-3.5 h-3.5 mr-1.5 ${Number(w.rating)>0?"text-amber-500 fill-amber-500":"text-zinc-300 dark:text-zinc-600"}`}),o.jsx("span",{className:`font-bold text-sm ${Number(w.rating)>0?"text-amber-950 dark:text-amber-100":"text-zinc-400 dark:text-zinc-500"}`,children:w.rating!==0?w.rating:"-"})]}),o.jsxs("span",{className:"text-[10px] font-medium text-zinc-400 dark:text-zinc-500 mt-1 ml-1 uppercase tracking-wide",children:[w.reviews," reviews"]})]})}),o.jsx("td",{className:"px-6 py-4 align-top",children:o.jsxs("div",{className:"flex flex-col items-end gap-3",children:[o.jsx("div",{className:"flex items-center gap-2 justify-end",children:w.phone&&w.phone!=="N/A"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded px-2 py-1 group/phone",children:[o.jsx(vs,{className:"w-3 h-3 text-zinc-400 dark:text-zinc-500 mr-2"}),o.jsx("span",{className:"text-xs font-medium text-zinc-700 dark:text-zinc-300 select-all",children:w.phone}),o.jsx("button",{onClick:()=>f(w.phone,`phone-${w.id}`),className:"ml-2 p-0.5 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded transition-colors",children:u===`phone-${w.id}`?o.jsx(At,{className:"w-3 h-3 text-success-600 dark:text-success-400"}):o.jsx(Ki,{className:"w-3 h-3 text-zinc-300 dark:text-zinc-600 hover:text-zinc-600 dark:hover:text-zinc-400"})})]}),c?o.jsx("a",{href:m(w.phone)||"#",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-7 h-7 bg-success-50 dark:bg-success-900/30 text-success-600 dark:text-success-400 rounded hover:bg-success-600 hover:text-white dark:hover:bg-success-500 dark:hover:text-white transition-all shadow-sm border border-success-200 dark:border-success-800/50 hover:border-success-600",title:"Conversar no WhatsApp",children:o.jsx(Pf,{className:"w-4 h-4"})}):o.jsx("button",{className:"flex items-center justify-center w-7 h-7 bg-zinc-100 dark:bg-zinc-800 text-zinc-400 rounded cursor-not-allowed border border-zinc-200 dark:border-zinc-700",title:"Disponvel no plano Start ou superior",children:o.jsx(Ar,{className:"w-3.5 h-3.5"})})]}):o.jsxs("span",{className:"text-xs text-zinc-300 dark:text-zinc-600 italic flex items-center pr-2",children:[o.jsx(vs,{className:"w-3 h-3 mr-2 opacity-50"})," N/A"]})}),o.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[w.website&&w.website!=="N/A"&&!x(w.website)&&o.jsx("a",{href:y(w.website),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-7 h-7 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 text-blue-600 dark:text-blue-400 rounded hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:border-blue-200 dark:hover:border-blue-800 transition-all",title:`Visitar: ${w.website}`,children:o.jsx(Fg,{className:"w-3.5 h-3.5"})}),(w.instagram&&w.instagram!=="N/A"||x(w.website))&&o.jsx("a",{href:y(w.instagram||w.website),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-7 h-7 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 text-pink-600 dark:text-pink-400 rounded hover:bg-pink-50 dark:hover:bg-pink-900/30 hover:border-pink-200 dark:hover:border-pink-800 transition-all",title:"Instagram",children:o.jsx(qg,{className:"w-3.5 h-3.5"})}),o.jsx("button",{onClick:()=>!p&&i(w),disabled:p,className:`flex items-center gap-1.5 px-3 py-1.5 rounded text-xs font-bold transition-all border ${p?"bg-zinc-100 dark:bg-zinc-800 text-zinc-400 border-zinc-200 dark:border-zinc-700 cursor-default":l?"bg-success-600 hover:bg-success-700 text-white border-transparent shadow-sm shadow-success-500/20 active:scale-95":"bg-zinc-200 dark:bg-zinc-800 text-zinc-500 dark:text-zinc-400 border-transparent cursor-not-allowed hover:bg-zinc-300 dark:hover:bg-zinc-700"}`,title:p?"J adicionado ao CRM":l?"Adicionar ao CRM":"Exclusivo Planos Pro e Elite",children:p?o.jsxs(o.Fragment,{children:[o.jsx(At,{className:"w-3.5 h-3.5"}),o.jsx("span",{children:"Salvo"})]}):o.jsxs(o.Fragment,{children:[l?o.jsx(uc,{className:"w-3.5 h-3.5"}):o.jsx(Ar,{className:"w-3.5 h-3.5"}),o.jsx("span",{children:"CRM"})]})})]})]})})]},w.id)})})]})})}),o.jsxs("div",{className:"flex justify-between items-center px-2 pt-2 text-xs text-zinc-400 dark:text-zinc-600 font-medium",children:[o.jsxs("span",{children:["Mostrando ",e.length," resultados"]}),o.jsx("span",{children:"Fonte: Google Maps"})]})]})},Nw=({leads:e,setLeads:t,state:r,setState:n,filters:s,setFilters:i,handleSearch:a,loadingMessageIndex:l,locationPermission:c,requestLocation:u,setLocationPermission:d,searchMode:f,setSearchMode:h,query:m,setQuery:y,selectedNiche:x,setSelectedNiche:w,selectedState:g,setSelectedState:p,selectedCity:v,setSelectedCity:b,isLoadingCities:j,cityList:k,selectedNeighborhood:_,setSelectedNeighborhood:E,excludedCity:D,setExcludedCity:P,globalHistory:K,setGlobalHistory:ue,sortedLeads:se,sortField:Qe,sortOrder:fr,setSortField:it,handleExportCSV:yt,handleExportGoogleSheets:T,hasExportAccess:L,handleAddToCRM:F,crmLeads:G,hasCRMAccess:J,hasWhatsAppAccess:Ye,loadMoreQuantity:ee,setLoadMoreQuantity:Te,handleLoadMore:Se,isLoadingMore:Xe})=>o.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[c==="prompt"&&o.jsxs("div",{className:"bg-primary-50 border border-primary-100 rounded-2xl p-4 flex items-center justify-between animate-in fade-in slide-in-from-top-4 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-primary-100 p-2 rounded-xl text-primary-600",children:o.jsx(Qi,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-bold text-slate-900",children:"Leads por proximidade"}),o.jsx("p",{className:"text-xs text-slate-500",children:"Ative sua localizao para encontrar leads perto de voc."})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>d("denied"),className:"text-xs font-bold text-slate-400 px-3 py-2 hover:text-slate-600 transition-colors",children:"Agora no"}),o.jsx("button",{onClick:u,className:"bg-primary-600 text-white text-xs font-bold px-4 py-2 rounded-lg hover:bg-primary-700 shadow-md shadow-primary-500/20 active:scale-95 transition-all",children:"Ativar"})]})]}),o.jsxs("div",{className:"bg-app-cardLight dark:bg-app-cardDark p-6 rounded-2xl shadow-sm border border-zinc-200 dark:border-zinc-800",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[o.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-1 rounded-xl flex gap-1",children:[o.jsxs("button",{onClick:()=>h("free"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${f==="free"?"bg-white dark:bg-zinc-700 shadow-sm text-primary-600 dark:text-primary-400":"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:[o.jsx(Hg,{className:"w-4 h-4"})," Livre"]}),o.jsxs("button",{onClick:()=>h("guided"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${f==="guided"?"bg-white dark:bg-zinc-700 shadow-sm text-primary-600 dark:text-primary-400":"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:[o.jsx(Wg,{className:"w-4 h-4"})," Guiada"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[G.length>0&&o.jsxs("span",{className:"text-[10px] text-zinc-400 flex items-center gap-1",children:[o.jsx(Lf,{className:"w-3 h-3"})," Ignorando ",G.length," leads do CRM"]}),o.jsxs("button",{onClick:()=>{K.length>0&&window.confirm("Limpar histrico de busca? Isso far com que resultados anteriores possam aparecer novamente.")&&ue([])},disabled:K.length===0,className:`text-xs font-medium flex items-center gap-1 border-l border-zinc-200 dark:border-zinc-800 pl-3 transition-colors ${K.length===0?"text-zinc-300 dark:text-zinc-700 cursor-not-allowed":"text-zinc-400 hover:text-red-500"}`,children:[o.jsx(Rt,{className:"w-3.5 h-3.5"})," Limpar histrico (",K.length,")"]})]})]}),f==="free"?o.jsx("div",{className:"flex gap-2",children:o.jsx("input",{className:"flex-1 p-4 rounded-xl border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-950 text-zinc-900 dark:text-white placeholder:text-zinc-400 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 shadow-sm transition-all",placeholder:"Ex: Restaurantes Italianos em Pinheiros, SP...",value:m,onChange:S=>y(S.target.value),onKeyDown:S=>S.key==="Enter"&&a()})}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5 ml-1",children:"Nicho de mercado"}),o.jsxs("div",{className:"relative group",children:[o.jsx(Of,{className:"absolute left-3 top-3.5 w-5 h-5 text-zinc-400 group-focus-within:text-primary-500 transition-colors pointer-events-none"}),o.jsxs("select",{value:x,onChange:S=>w(S.target.value),className:"w-full pl-10 p-3 bg-white dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 text-zinc-900 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none appearance-none transition-all shadow-sm",children:[o.jsx("option",{value:"",children:"Selecione o nicho..."}),bw.map(S=>o.jsx("option",{value:S,children:S},S))]}),o.jsx(ni,{className:"absolute right-3 top-4 w-4 h-4 text-zinc-400 pointer-events-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5 ml-1",children:"Localizao"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[o.jsxs("div",{className:"md:col-span-2 relative group",children:[o.jsxs("select",{value:g,onChange:S=>p(S.target.value),className:"w-full p-3 bg-white dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 text-zinc-900 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none appearance-none transition-all shadow-sm font-medium",children:[o.jsx("option",{value:"",children:"UF"}),ap.map(S=>o.jsx("option",{value:S.sigla,children:S.nome},S.sigla))]}),o.jsx(ni,{className:"absolute right-3 top-4 w-4 h-4 text-zinc-400 pointer-events-none"})]}),o.jsxs("div",{className:"md:col-span-3 relative group",children:[o.jsx(Qi,{className:"absolute left-3 top-3.5 w-5 h-5 text-zinc-400 group-focus-within:text-primary-500 transition-colors pointer-events-none"}),o.jsxs("select",{value:v,onChange:S=>b(S.target.value),disabled:!g||j,className:"w-full pl-10 p-3 bg-white dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 text-zinc-900 dark:text-white disabled:opacity-50 focus:ring-2 focus:ring-primary-500 outline-none appearance-none transition-all shadow-sm",children:[o.jsx("option",{value:"",children:j?"Carregando...":"Cidade"}),k.map(S=>o.jsx("option",{value:S,children:S},S))]}),o.jsx(ni,{className:"absolute right-3 top-4 w-4 h-4 text-zinc-400 pointer-events-none"})]}),o.jsxs("div",{className:"md:col-span-3 relative group",children:[o.jsx(Cg,{className:"absolute left-3 top-3.5 w-5 h-5 text-zinc-400 group-focus-within:text-primary-500 transition-colors pointer-events-none"}),o.jsx("input",{placeholder:"Bairro (Opcional)",value:_,onChange:S=>E(S.target.value),className:"w-full pl-10 p-3 bg-white dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 text-zinc-900 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none transition-all shadow-sm"})]}),o.jsxs("div",{className:"md:col-span-4 relative group",children:[o.jsx(ya,{className:"absolute left-3 top-3.5 w-5 h-5 text-red-400 pointer-events-none"}),o.jsxs("select",{value:D,onChange:S=>P(S.target.value),disabled:!g||j,className:"w-full pl-10 p-3 rounded-xl border border-red-200 bg-red-50 text-red-700 dark:bg-red-900/10 dark:text-red-300 dark:border-red-900/30 focus:ring-2 focus:ring-red-500 outline-none appearance-none transition-all shadow-sm",children:[o.jsx("option",{value:"",children:"Excluir cidade..."}),k.map(S=>o.jsx("option",{value:S,children:S},S))]}),o.jsx(ni,{className:"absolute right-3 top-4 w-4 h-4 text-red-400 pointer-events-none"})]})]})]})]}),r.error&&o.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 p-4 rounded-xl flex items-start gap-3 mt-4 animate-in fade-in slide-in-from-top-2",children:[o.jsx(Sg,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-sm",children:"Ocorreu um erro na busca"}),o.jsx("p",{className:"text-sm opacity-90",children:r.error})]}),o.jsx("button",{onClick:()=>n(S=>({...S,error:null})),className:"ml-auto hover:bg-red-100 dark:hover:bg-red-900/40 p-1 rounded-lg transition-colors",children:o.jsx(Rt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"mt-8 flex flex-col md:flex-row gap-4 items-center justify-between border-t border-zinc-100 dark:border-zinc-800 pt-6",children:[o.jsxs("div",{className:"flex gap-4 items-center w-full md:w-auto overflow-x-auto pb-2 md:pb-0",children:[o.jsxs("div",{className:"flex items-center gap-2 text-zinc-400",children:[o.jsx(Mg,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Filtros"})]}),o.jsx("div",{className:"h-4 w-px bg-zinc-200 dark:bg-zinc-700"}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("select",{value:s.maxResults,onChange:S=>i(V=>({...V,maxResults:parseInt(S.target.value)})),className:"py-1.5 px-2 text-sm bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg",children:[o.jsx("option",{value:"5",children:"5 resultados"}),o.jsx("option",{value:"10",children:"10 resultados"}),o.jsx("option",{value:"20",children:"20 resultados"}),o.jsx("option",{value:"30",children:"30 resultados"}),o.jsx("option",{value:"50",children:"50 resultados"})]})}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-zinc-50 dark:bg-zinc-800 px-3 py-1.5 rounded-lg border border-zinc-200 dark:border-zinc-700 hover:border-primary-300 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:s.requirePhone,onChange:S=>i(V=>({...V,requirePhone:S.target.checked})),className:"rounded text-primary-600 focus:ring-primary-500"}),o.jsx(vs,{className:"w-3.5 h-3.5 text-zinc-500"}),o.jsx("span",{className:"text-sm text-zinc-600 dark:text-zinc-300 whitespace-nowrap",children:"Com telefone"})]})]}),o.jsx("button",{onClick:S=>a(S),disabled:r.isSearching,className:"w-full md:w-auto bg-primary-600 hover:bg-primary-700 text-white px-8 py-3 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg shadow-primary-500/30 transition-all active:scale-95 disabled:opacity-70 disabled:scale-100",children:r.isSearching?o.jsxs(o.Fragment,{children:[o.jsx(Ji,{className:"animate-spin w-5 h-5"})," ",op[l]]}):o.jsxs(o.Fragment,{children:[o.jsx(Os,{className:"w-5 h-5"})," Buscar leads"]})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end md:items-center gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h2",{className:"text-xl font-bold text-zinc-900 dark:text-white",children:"Resultados"}),e.length>0&&o.jsx("span",{className:"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-300 px-2.5 py-0.5 rounded-full text-sm font-bold",children:e.length})]}),e.length>0&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:yt,className:`px-3 py-1.5 text-sm font-medium border rounded-lg flex items-center gap-2 transition-colors shadow-sm ${L?"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-700 text-zinc-700 dark:text-zinc-200":"bg-zinc-100 dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 text-zinc-400 cursor-not-allowed opacity-70"}`,title:L?"":"Disponvel a partir do plano Start",children:[L?o.jsx(Ig,{className:"w-4 h-4 text-green-600"}):o.jsx(Rt,{className:"w-3.5 h-3.5"})," Excel/CSV"]}),o.jsxs("button",{onClick:T,className:`px-3 py-1.5 text-sm font-medium border rounded-lg flex items-center gap-2 transition-colors shadow-sm ${L?"bg-green-50 dark:bg-green-900/10 border-green-200 dark:border-green-800 hover:bg-green-100 dark:hover:bg-green-900/20 text-green-700 dark:text-green-300":"bg-zinc-100 dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 text-zinc-400 cursor-not-allowed opacity-70"}`,title:L?"":"Disponvel a partir do plano Start",children:[L?o.jsx($g,{className:"w-4 h-4"}):o.jsx(Rt,{className:"w-3.5 h-3.5"})," Google Sheets"]})]})]}),o.jsx(Ew,{leads:se,sortField:Qe,sortOrder:fr,onSort:S=>it(S),isSearching:r.isSearching,onAddToCRM:F,savedLeadIds:G.map(S=>S.id),hasCRMAccess:J,hasWhatsAppAccess:Ye}),e.length>0&&o.jsxs("div",{className:"mt-6 flex flex-col items-center gap-4 bg-app-cardLight dark:bg-app-cardDark p-4 rounded-2xl border border-zinc-200 dark:border-zinc-700 shadow-sm",children:[o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("select",{value:ee,onChange:S=>Te(parseInt(S.target.value)||10),className:"py-2 px-4 text-sm font-bold bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg outline-none focus:ring-2 focus:ring-primary-500 cursor-pointer",children:[o.jsx("option",{value:"5",children:"5 resultados"}),o.jsx("option",{value:"10",children:"10 resultados"}),o.jsx("option",{value:"20",children:"20 resultados"}),o.jsx("option",{value:"30",children:"30 resultados"}),o.jsx("option",{value:"50",children:"50 resultados"})]})}),o.jsxs("button",{onClick:Se,disabled:Xe,className:"px-6 py-2.5 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-xl shadow-lg shadow-primary-500/20 transition-all flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:[Xe?o.jsx(Ji,{className:"w-4 h-4 animate-spin"}):o.jsx(uc,{className:"w-4 h-4"}),Xe?"Buscando...":"Carregar mais leads"]})]})]})]}),Cw=[{id:"prospecting",label:"Prospeco",color:"bg-zinc-500",border:"border-zinc-200",icon:o.jsx(Os,{className:"w-4 h-4"})},{id:"contacted",label:"Contato feito",color:"bg-primary-500",border:"border-primary-200",icon:o.jsx(vs,{className:"w-4 h-4"})},{id:"negotiation",label:"Negociao",color:"bg-indigo-500",border:"border-indigo-200",icon:o.jsx(Of,{className:"w-4 h-4"})},{id:"won",label:"Ganho",color:"bg-success-500",border:"border-success-200",icon:o.jsx(Df,{className:"w-4 h-4"})},{id:"lost",label:"Perdido",color:"bg-danger-500",border:"border-danger-200",icon:o.jsx(av,{className:"w-4 h-4"})}],yd=e=>Number(e.replace(/\./g,"").replace(",","."))||0,zw=e=>{const t=new Date,r=t.getDate(),n=new Date(t);return r<e&&n.setMonth(n.getMonth()-1),n.setDate(e),n.setHours(0,0,0,0),n},Tw=({leads:e,onStatusChange:t,onDelete:r,onUpdateLead:n,onDuplicate:s,readOnly:i=!1,goal:a=1e4,onSetGoal:l,resetDay:c=10})=>{const[u,d]=z.useState(null),[f,h]=z.useState(null),[m,y]=z.useState(null),[x,w]=z.useState(null),[g,p]=z.useState(""),[v,b]=z.useState(!1),[j,k]=z.useState(""),_=e.filter(S=>S.status==="won").filter(S=>new Date(S.updatedAt)>=zw(c)).reduce((S,V)=>S+(V.potentialValue||0),0),E=a>0?_/a*100:0,D=Math.min(E,100),P=_>=a,K=Math.max(0,a-_),ue=(S,V)=>{i||(d(V),S.dataTransfer.effectAllowed="move",S.dataTransfer.setData("text/plain",V))},se=(S,V)=>{i||(S.preventDefault(),S.dataTransfer.dropEffect="move",f!==V&&h(V))},Qe=(S,V)=>{if(S.preventDefault(),i)return;const Re=S.dataTransfer.getData("text/plain");Re&&(t(Re,V),d(null),h(null))},fr=(S,V)=>{if(S.stopPropagation(),i)return;w(V.id);const Re=V.potentialValue?V.potentialValue.toFixed(2).replace(".",","):"0,00";p(Re)},it=S=>{const V=S.target.value.replace(/\D/g,""),Re=Number(V)/100;p(Re.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}))},yt=()=>{if(x){const S=yd(g);n(x,{potentialValue:S}),w(null)}},T=S=>{S.stopPropagation(),w(null)},L=S=>{S.key==="Enter"?yt():S.key==="Escape"&&w(null)},F=()=>{k(a.toFixed(2).replace(".",",")),b(!0)},G=S=>{const V=S.target.value.replace(/\D/g,""),Re=Number(V)/100;k(Re.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}))},J=()=>{const S=yd(j);l&&l(S),b(!1)},Ye=(S,V)=>{if(S.stopPropagation(),i)return;const Fe={low:"medium",medium:"high",high:"low"}[V.priority];n(V.id,{priority:Fe})},ee=S=>{const V=new Date(S),Fe=Math.floor((new Date().getTime()-V.getTime())/(1e3*60*60*24));return Fe===0?"Hoje":Fe===1?"Ontem":`${Fe}d atrs`},Te=S=>{switch(S){case"high":return"text-danger-500 bg-danger-50 dark:bg-danger-900/20";case"medium":return"text-amber-500 bg-amber-50 dark:bg-amber-900/20";default:return"text-blue-500 bg-blue-50 dark:bg-blue-900/20"}},Se=S=>{switch(S){case"high":return o.jsx(Ug,{className:"w-3 h-3"});case"medium":return o.jsx(_g,{className:"w-3 h-3"});default:return o.jsx(Af,{className:"w-3 h-3"})}},Xe=S=>S>=100?"Parabns! Meta atingida, continue fazendo um timo trabalho.":S>=75?"Quase l! Falta muito pouco para bater a meta.":S>=50?"timo ritmo! Voc j chegou na metade do caminho.":S>=25?"Bom comeo! Continue focado nos resultados.":"";return o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:`
            @keyframes shimmer {
                0% { background-position: 200% 0; }
                100% { background-position: -200% 0; }
            }
            .animate-shimmer-bg {
                background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.4) 50%, rgba(255,255,255,0) 100%);
                background-size: 200% 100%;
                animation: shimmer 2.5s 2 linear forwards;
            }
        `}}),!i&&o.jsxs("div",{className:"mb-4 bg-app-cardLight dark:bg-app-cardDark rounded-xl p-4 flex items-center gap-6 border border-zinc-200 dark:border-zinc-700 relative overflow-hidden shadow-sm",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between mb-2 items-end",children:[o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsxs("span",{className:"text-xs font-bold uppercase text-zinc-500 dark:text-zinc-400 tracking-wider",children:["Progresso mensal ",P&&""]}),E>=25&&o.jsx("span",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400 animate-in fade-in slide-in-from-left-2 hidden sm:inline-block",children:Xe(E)})]}),o.jsx("div",{className:"flex items-baseline gap-1",children:o.jsxs("span",{className:"text-zinc-900 dark:text-white font-bold",children:[Math.round(D),"%"]})})]}),o.jsx("div",{className:"w-full bg-zinc-200 dark:bg-zinc-700 h-2.5 rounded-full overflow-hidden relative",children:o.jsx("div",{className:`h-full transition-all duration-1000 rounded-full relative overflow-hidden ${P?"bg-gradient-to-r from-emerald-400 via-emerald-500 to-emerald-600 shadow-[0_0_10px_rgba(16,185,129,0.5)]":"bg-primary-500"}`,style:{width:`${Math.min(D,100)}%`},children:P&&o.jsx("div",{className:"absolute inset-0 animate-shimmer-bg"})})})]}),o.jsxs("div",{className:"flex gap-6 border-l border-zinc-200 dark:border-zinc-700 pl-6",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"block text-[10px] uppercase font-bold text-zinc-500 dark:text-zinc-400 mb-0.5",children:"Ganho (ms)"}),o.jsxs("span",{className:`block text-lg font-bold ${P?"text-success-600 dark:text-success-400":"text-primary-600 dark:text-primary-400"}`,children:["R$ ",_.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-[10px] uppercase font-bold text-zinc-500 dark:text-zinc-400 mb-0.5",children:"Falta"}),o.jsxs("span",{className:"block text-lg font-bold text-zinc-400 dark:text-zinc-500",children:["R$ ",K.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),o.jsxs("div",{onClick:F,className:"cursor-pointer group relative pl-4 border-l border-zinc-200 dark:border-zinc-700",children:[o.jsx("span",{className:"block text-[10px] uppercase font-bold text-zinc-500 dark:text-zinc-400 mb-0.5",children:"Meta mensal"}),v?o.jsxs("div",{className:"flex items-center gap-1 absolute top-4 right-0 bg-white dark:bg-zinc-800 shadow-lg p-1 rounded-lg z-10 border border-primary-200",children:[o.jsx("span",{className:"text-xs font-bold text-zinc-400 pl-1",children:"R$"}),o.jsx("input",{autoFocus:!0,type:"text",value:j,onChange:G,onBlur:()=>setTimeout(J,200),onKeyDown:S=>S.key==="Enter"&&J(),className:"w-24 text-sm font-bold p-1 bg-transparent outline-none border-b border-primary-500 text-zinc-900 dark:text-white text-right"}),o.jsx("button",{onMouseDown:S=>{S.preventDefault(),J()},children:o.jsx(At,{className:"w-4 h-4 text-green-500"})})]}):o.jsxs("div",{className:"flex items-center gap-1 group-hover:bg-zinc-200 dark:group-hover:bg-zinc-700 rounded px-1 -ml-1 transition-colors",children:[o.jsxs("span",{className:"block text-lg font-bold text-zinc-900 dark:text-white",children:["R$ ",a.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),o.jsx(sl,{className:"w-3 h-3 text-zinc-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})]})]})]}),o.jsx("div",{className:"flex h-full gap-6 overflow-x-auto pb-4 items-start select-none",children:Cw.map(S=>{const V=e.filter(B=>B.status===S.id),Re=V.reduce((B,Q)=>B+(Q.potentialValue||0),0),Fe=f===S.id;let pr="";return Fe&&(S.id==="won"?pr="ring-4 ring-success-400 bg-success-50 dark:bg-success-900/20 scale-[1.02] shadow-2xl shadow-success-500/30":S.id==="negotiation"?pr="ring-4 ring-indigo-400 bg-indigo-50 dark:bg-indigo-900/20 scale-[1.02] shadow-2xl shadow-indigo-500/30":pr="ring-2 ring-zinc-400 bg-zinc-50 dark:bg-zinc-800/80"),o.jsxs("div",{onDragOver:B=>se(B,S.id),onDrop:B=>Qe(B,S.id),className:`flex-shrink-0 w-80 flex flex-col h-full max-h-full rounded-2xl transition-all duration-300 ${pr}`,children:[o.jsxs("div",{className:`flex flex-col mb-2 p-2 rounded-t-2xl border-b-2 ${S.border.replace("border-","border-b-")} transition-colors`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`p-1.5 rounded-md ${S.color} bg-opacity-10 text-zinc-700 dark:text-zinc-200`,children:S.icon}),o.jsx("span",{className:"font-bold text-sm text-zinc-700 dark:text-zinc-200",children:S.label})]}),o.jsx("span",{className:"text-xs font-bold text-zinc-500 bg-zinc-200 dark:bg-zinc-800 px-2 py-0.5 rounded-full",children:V.length})]}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-zinc-500 font-medium pl-1",children:[o.jsx(Ag,{className:"w-3 h-3"}),o.jsx("span",{children:Re.toLocaleString("pt-BR",{minimumFractionDigits:2})})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 p-2 pb-10 scrollbar-thin",children:[V.map(B=>o.jsxs("div",{draggable:!i,onDragStart:Q=>ue(Q,B.id),onClick:()=>!i&&y(B),className:`group relative bg-app-cardLight dark:bg-app-cardDark p-4 rounded-xl shadow-sm border border-zinc-200 dark:border-zinc-700 transition-all duration-200 
                        ${i?"cursor-default opacity-80":"cursor-grab hover:shadow-lg hover:-translate-y-1 hover:border-primary-300 dark:hover:border-primary-700"} 
                        ${u===B.id?"opacity-40 border-dashed ring-2 ring-primary-400 rotate-2 scale-95":""}
                    `,children:[!i&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:Q=>{Q.stopPropagation(),s&&s(B)},className:"absolute top-2 right-9 p-1.5 rounded-lg bg-white dark:bg-zinc-700 text-zinc-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/30 opacity-0 group-hover:opacity-100 transition-all shadow-sm z-20 cursor-pointer",title:"Duplicar",children:o.jsx(Ki,{className:"w-3.5 h-3.5"})}),o.jsx("button",{onClick:Q=>{Q.stopPropagation(),r(B.id)},className:"absolute top-2 right-2 p-1.5 rounded-lg bg-white dark:bg-zinc-700 text-zinc-400 hover:text-danger-500 hover:bg-danger-50 dark:hover:bg-danger-900/30 opacity-0 group-hover:opacity-100 transition-all shadow-sm z-20 cursor-pointer",title:"Excluir",children:o.jsx(ya,{className:"w-3.5 h-3.5"})})]}),o.jsx("div",{className:"flex justify-between items-start mb-3 pr-14",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:Q=>Ye(Q,B),title:"Clique para mudar prioridade",className:`flex items-center gap-1 px-2 py-0.5 rounded-md text-[10px] font-bold uppercase tracking-wider border border-transparent transition-all active:scale-95 ${Te(B.priority)} hover:brightness-95 cursor-pointer select-none`,children:[Se(B.priority)," ",B.priority==="high"?"Alta":B.priority==="medium"?"Mdia":"Baixa"]}),B.category!=="Manual"&&o.jsx("span",{className:"px-2 py-0.5 rounded-md text-[10px] font-medium bg-zinc-100 dark:bg-zinc-700 text-zinc-500 dark:text-zinc-400 border border-zinc-200 dark:border-zinc-600 truncate max-w-[80px]",children:B.category})]})}),o.jsx("h4",{className:"text-sm font-bold text-zinc-800 dark:text-zinc-100 leading-snug line-clamp-2 mb-2",children:B.name}),o.jsx("div",{className:"mb-3 relative z-10",onClick:Q=>Q.stopPropagation(),children:x===B.id?o.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in zoom-in-95 duration-100 bg-zinc-50 dark:bg-zinc-900 p-1.5 rounded-lg border border-primary-200 dark:border-primary-800 shadow-sm",children:[o.jsx("span",{className:"text-xs font-bold text-zinc-400 pl-1",children:"R$"}),o.jsx("input",{autoFocus:!0,type:"text",value:g,onChange:it,onKeyDown:L,className:"w-full text-sm font-bold text-zinc-900 dark:text-white bg-transparent outline-none min-w-0"}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onMouseDown:Q=>{Q.preventDefault(),yt()},className:"p-1 bg-green-500 hover:bg-green-600 text-white rounded transition-colors",children:o.jsx(At,{className:"w-3.5 h-3.5"})}),o.jsx("button",{onMouseDown:T,className:"p-1 bg-zinc-200 hover:bg-zinc-300 dark:bg-zinc-700 dark:hover:bg-zinc-600 text-zinc-500 dark:text-zinc-300 rounded transition-colors",children:o.jsx(Rt,{className:"w-3.5 h-3.5"})})]})]}):o.jsxs("div",{onClick:Q=>fr(Q,B),className:`inline-flex items-center gap-1.5 py-1 px-2 -ml-2 rounded-lg transition-all ${i?"":"cursor-pointer hover:bg-zinc-50 dark:hover:bg-zinc-700/50 group/value border border-transparent hover:border-zinc-200 dark:hover:border-zinc-700"}`,children:[o.jsxs("div",{className:"flex items-baseline gap-1",children:[o.jsx("span",{className:"text-zinc-400 font-medium text-xs",children:"R$"}),o.jsx("span",{className:"font-bold text-zinc-700 dark:text-zinc-200 text-base tracking-tight",children:B.potentialValue?B.potentialValue.toLocaleString("pt-BR",{minimumFractionDigits:2}):"0,00"})]}),!i&&o.jsx(sl,{className:"w-3 h-3 text-zinc-300 opacity-0 group-hover/value:opacity-100 transition-opacity"})]})}),B.notes&&B.notes.trim()!==""&&o.jsx("div",{className:"mb-3 p-2 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-zinc-100 dark:border-zinc-700/50",children:o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(Dg,{className:"w-3 h-3 text-zinc-400 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 line-clamp-2 italic leading-relaxed",children:B.notes})]})}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-zinc-100 dark:border-zinc-700/50",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[B.tags&&B.tags.length>0&&o.jsxs("div",{className:"flex -space-x-1",children:[B.tags.slice(0,2).map((Q,Ps)=>o.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-400 ring-1 ring-white dark:ring-zinc-800",title:Q},Ps)),B.tags.length>2&&o.jsx("div",{className:"w-2 h-2 rounded-full bg-zinc-300 ring-1 ring-white"})]}),o.jsx("span",{className:"text-[10px] text-zinc-400 font-medium",children:ee(B.updatedAt)})]}),o.jsxs("div",{className:"flex gap-1",children:[B.phone&&B.phone!=="N/A"&&o.jsx("button",{onClick:Q=>{Q.stopPropagation(),window.open(`https://wa.me/${B.phone.replace(/\D/g,"")}`,"_blank")},className:"p-1.5 hover:bg-green-100 dark:hover:bg-green-900/30 text-zinc-400 hover:text-green-600 rounded-md transition-colors relative z-10",children:o.jsx(Pf,{className:"w-3.5 h-3.5"})}),B.email&&o.jsx("button",{onClick:Q=>{Q.stopPropagation(),window.open(`mailto:${B.email}`,"_blank")},className:"p-1.5 hover:bg-blue-100 dark:hover:bg-blue-900/30 text-zinc-400 hover:text-blue-600 rounded-md transition-colors relative z-10",children:o.jsx(va,{className:"w-3.5 h-3.5"})})]})]})]},B.id)),V.length===0&&!i&&o.jsxs("div",{className:`border-2 border-dashed rounded-xl h-32 flex flex-col items-center justify-center text-zinc-400 text-xs gap-2 transition-all duration-300 ${Fe?"border-primary-300 bg-primary-50/20":"border-zinc-200 dark:border-zinc-800"}`,children:[o.jsx("div",{className:`p-2 rounded-full transition-all ${Fe?"bg-primary-100 text-primary-500 scale-110":"bg-zinc-100 dark:bg-zinc-800"}`,children:S.icon}),o.jsx("p",{className:Fe?"text-primary-500 font-bold":"",children:"Arraste aqui"})]})]})]},S.id)})}),m&&!i&&o.jsx(Rw,{lead:m,onClose:()=>y(null),onSave:(S,V)=>{n(S,V),y(null)},onDelete:r})]})},Rw=({lead:e,onClose:t,onSave:r,onDelete:n})=>{const[s,i]=z.useState({name:e.name,potentialValue:e.potentialValue||0,phone:e.phone,email:e.email||"",priority:e.priority||"medium",notes:e.notes||"",tags:e.tags?e.tags.join(", "):""}),[a,l]=z.useState(()=>(e.potentialValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})),c=d=>{const f=d.target.value.replace(/\D/g,""),h=Number(f)/100;l(h.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})),i(m=>({...m,potentialValue:h}))},u=d=>{d.preventDefault(),r(e.id,{...s,tags:s.tags.split(",").map(f=>f.trim()).filter(Boolean),updatedAt:new Date().toISOString()})};return o.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-zinc-900/60",onClick:t}),o.jsxs("div",{className:"bg-app-cardLight dark:bg-app-cardDark w-full max-w-2xl relative z-10 flex flex-col max-h-[90vh] animate-fade-in-up border border-zinc-200 dark:border-zinc-800",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-zinc-100 dark:border-zinc-800",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[o.jsx(sl,{className:"w-5 h-5 text-primary-500"}),"Editar oportunidade"]}),o.jsxs("p",{className:"text-sm text-zinc-500",children:["ID: ",e.id.slice(0,8),"..."]})]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full transition-colors",children:o.jsx(Rt,{className:"w-5 h-5 text-zinc-500"})})]}),o.jsx("form",{onSubmit:u,className:"flex-1 overflow-y-auto p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Nome da empresa"}),o.jsx("input",{required:!0,type:"text",value:s.name,onChange:d=>i({...s,name:d.target.value}),className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Valor"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-3 text-zinc-400 font-bold text-xs",children:"R$"}),o.jsx("input",{type:"text",value:a,onChange:c,className:"w-full pl-9 p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white font-bold"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Prioridade"}),o.jsxs("select",{value:s.priority,onChange:d=>i({...s,priority:d.target.value}),className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white",children:[o.jsx("option",{value:"low",children:"Baixa"}),o.jsx("option",{value:"medium",children:"Mdia"}),o.jsx("option",{value:"high",children:"Alta "})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Tags (separadas por vrgula)"}),o.jsxs("div",{className:"relative",children:[o.jsx(nv,{className:"absolute left-3 top-3.5 w-4 h-4 text-zinc-400"}),o.jsx("input",{type:"text",value:s.tags,onChange:d=>i({...s,tags:d.target.value}),placeholder:"Ex: Quente, Indicao, SP",className:"w-full pl-10 p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Telefone / WhatsApp"}),o.jsxs("div",{className:"relative",children:[o.jsx(vs,{className:"absolute left-3 top-3.5 w-4 h-4 text-zinc-400"}),o.jsx("input",{type:"text",value:s.phone,onChange:d=>i({...s,phone:d.target.value}),className:"w-full pl-10 p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"E-mail"}),o.jsxs("div",{className:"relative",children:[o.jsx(va,{className:"absolute left-3 top-3.5 w-4 h-4 text-zinc-400"}),o.jsx("input",{type:"email",value:s.email,onChange:d=>i({...s,email:d.target.value}),placeholder:"contato@empresa.com",className:"w-full pl-10 p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white"})]})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Notas & Observaes"}),o.jsx("textarea",{rows:4,value:s.notes,onChange:d=>i({...s,notes:d.target.value}),className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white resize-none",placeholder:"Detalhes da negociao..."})]})]})]})}),o.jsxs("div",{className:"p-6 border-t border-zinc-100 dark:border-zinc-800 flex justify-between items-center bg-zinc-50 dark:bg-zinc-900/50 rounded-b-2xl",children:[o.jsxs("button",{type:"button",onClick:()=>{confirm("Tem certeza que deseja excluir este negcio?")&&(n(e.id),t())},className:"flex items-center gap-2 text-danger-500 hover:text-danger-700 font-medium px-4 py-2 hover:bg-danger-50 dark:hover:bg-danger-900/20 rounded-lg transition-colors",children:[o.jsx(ya,{className:"w-4 h-4"})," Excluir"]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:t,className:"px-6 py-2.5 text-zinc-600 dark:text-zinc-300 font-bold hover:bg-zinc-200 dark:hover:bg-zinc-800 rounded-xl transition-colors",children:"Cancelar"}),o.jsxs("button",{type:"button",onClick:u,className:"px-6 py-2.5 bg-success-600 hover:bg-success-700 text-white font-bold rounded-xl shadow-lg shadow-success-500/20 flex items-center gap-2",children:[o.jsx(Yg,{className:"w-4 h-4"})," Salvar alteraes"]})]})]})]})]})},Ow=({hasCRMAccess:e,setActiveTab:t,crmSearchQuery:r,setCrmSearchQuery:n,setShowNewLeadModal:s,crmLeads:i,filteredCrmLeads:a,handleCRMStatusChange:l,handleUpdateLead:c,handleDuplicateLead:u,pipelineGoal:d,setPipelineGoal:f,pipelineResetDay:h,setCrmLeads:m})=>o.jsxs("div",{className:"animate-fade-in-up h-full flex flex-col relative",children:[!e&&o.jsx("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center p-4",children:o.jsxs("div",{className:"flex flex-col items-center gap-4 bg-white/90 dark:bg-black/80 backdrop-blur-md p-8 rounded-3xl border border-zinc-200 dark:border-zinc-800 shadow-2xl text-center max-w-md",children:[o.jsx("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-4 rounded-full shadow-inner",children:o.jsx(Ar,{className:"w-10 h-10 text-primary-500"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white mb-2",children:"Pipeline Bloqueado"}),o.jsx("p",{className:"text-zinc-600 dark:text-zinc-300 font-medium mb-6",children:"Organize suas vendas visualmente com o CRM Kanban. Disponvel a partir do plano Pro."}),o.jsx("button",{onClick:()=>t("subscription"),className:"w-full bg-success-600 hover:bg-success-700 text-white px-6 py-3 rounded-xl font-bold shadow-lg transition-transform hover:scale-105 active:scale-95",children:"Liberar acesso agora"})]})]})}),o.jsxs("div",{className:`flex justify-between items-center mb-6 transition-all duration-500 ${e?"":"blur-sm select-none pointer-events-none opacity-50"}`,children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-white",children:"CRM Pipeline"}),o.jsx("p",{className:"text-zinc-500",children:"Gerencie seus negcios e vendas."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Os,{className:"absolute left-3 top-3 w-4 h-4 text-zinc-400"}),o.jsx("input",{value:r,onChange:y=>n(y.target.value),placeholder:"Buscar no CRM...",className:"pl-9 pr-4 py-2 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-xl shadow-sm focus:ring-2 focus:ring-primary-500 text-sm w-64"})]}),o.jsxs("button",{onClick:()=>s(!0),className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl font-bold flex items-center gap-2 shadow-lg shadow-primary-500/20 transition-all",children:[o.jsx(uc,{className:"w-4 h-4"})," Novo negcio"]})]})]}),o.jsx("div",{className:`flex-1 overflow-hidden transition-all duration-500 ${e?"":"blur-sm select-none pointer-events-none opacity-60 grayscale-[0.3]"}`,children:i.length===0&&e?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-app-cardLight dark:bg-app-cardDark rounded-3xl border border-dashed border-zinc-300 dark:border-zinc-700 m-4",children:[o.jsx(cc,{className:"w-16 h-16 text-zinc-300 dark:text-zinc-600 mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-zinc-800 dark:text-zinc-200",children:"Seu pipeline est vazio"}),o.jsx("p",{className:"text-zinc-500 max-w-md text-center mb-6",children:"Adicione leads manualmente ou importe da busca para comear a gerenciar suas vendas."}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>t("search"),className:"px-6 py-2.5 bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700 text-zinc-700 dark:text-zinc-300 font-bold rounded-xl transition-colors",children:"Ir para Busca"}),o.jsx("button",{onClick:()=>s(!0),className:"px-6 py-2.5 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-xl shadow-lg shadow-primary-500/20 transition-colors",children:"Adicionar manualmente"})]})]}):o.jsx(Tw,{leads:e?a:Sw,onStatusChange:l,onDelete:y=>m(x=>x.filter(w=>w.id!==y)),onUpdateLead:c,onDuplicate:u,goal:d,onSetGoal:f,resetDay:h,readOnly:!e})})]}),Aw=({billingCycle:e,setBillingCycle:t,userSettings:r,handleCheckout:n,renderSubscriptionMessage:s})=>o.jsxs("div",{className:"animate-fade-in-up max-w-6xl mx-auto w-full pb-10",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-white mb-2",children:"Planos"}),o.jsx("p",{className:"text-zinc-500 mb-6",children:"Escolha a melhor ferramenta para escalar suas vendas."}),o.jsxs("div",{className:"inline-flex items-center gap-3 bg-zinc-100 dark:bg-zinc-800 p-1.5 rounded-full",children:[o.jsx("button",{onClick:()=>t("monthly"),className:`px-6 py-2 rounded-full text-sm font-semibold transition-all ${e==="monthly"?"bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white shadow-md":"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:"Mensal"}),o.jsxs("button",{onClick:()=>t("annual"),className:`px-6 py-2 rounded-full text-sm font-semibold transition-all relative ${e==="annual"?"bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white shadow-md":"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:["Anual",o.jsx("span",{className:"absolute -top-2 -right-2 bg-success-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full",children:"-20%"})]})]}),e==="annual"&&o.jsx("p",{className:"text-xs text-success-600 dark:text-success-400 mt-3 font-medium",children:" Economize 20% com o plano anual!"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{id:"free",name:"Free",priceMonthly:0,priceAnnual:0,credits:50,features:["50 Buscas/ms","Visualizao Bsica"],missing:["WhatsApp Click","Exportar Excel/Sheets","CRM Completo"],text:"Indicado para comear e conhecer a plataforma"},{id:"start",name:"Start",priceMonthly:39,priceAnnual:374.4,credits:300,features:["300 Buscas/ms","WhatsApp Click","Exportar Excel","Suporte Email"],missing:["Google Sheets","CRM Completo","IA Avanada"],text:"Para quem est comeando a prospectar ativamente"},{id:"pro",name:"Pro",priceMonthly:69,priceAnnual:662.4,credits:1500,features:["1.500 Buscas/ms","CRM Completo","WhatsApp Click","Exportar Excel & Sheets"],missing:["IA Avanada"],popular:!0,text:"Para quem quer escalar vendas com organizao"},{id:"elite",name:"Elite",priceMonthly:149,priceAnnual:1430.4,credits:5e3,features:["5.000 Buscas/ms","IA Avanada","Suporte prioritrio"],missing:[],text:"Poder mximo para grandes operaes"}].map(i=>{var h;const a=Ht[r.plan],l=Ht[i.id],c=r.plan===i.id,u=l<a,d=i.popular&&r.plan!=="elite"&&r.plan!=="pro";let f="bg-app-cardLight dark:bg-app-cardDark border-zinc-200 dark:border-zinc-800";return d?f="bg-app-cardLight dark:bg-app-cardDark border-success-500 ring-2 ring-success-500/20 scale-105 z-10":c&&(i.id==="free"?f="bg-zinc-50 dark:bg-zinc-900 border-zinc-400 ring-1 ring-zinc-400 shadow-xl shadow-zinc-500/10 scale-[1.02]":f="bg-gradient-to-br from-success-50 to-white dark:from-zinc-900 dark:to-zinc-800/50 border-success-500 ring-1 ring-success-500 shadow-xl shadow-success-500/10 scale-[1.02]"),o.jsxs("div",{className:`relative rounded-2xl p-6 border flex flex-col transition-all ${f} ${u?"opacity-70 grayscale-[0.5]":""}`,children:[d&&o.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-success-500 text-white text-xs font-bold px-3 py-1 rounded-full uppercase shadow-lg shadow-success-500/30",children:"Mais popular"}),c&&o.jsx("div",{className:"absolute top-2 right-2",children:o.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full border flex items-center gap-1 ${i.id==="free"?"bg-zinc-200 text-zinc-700 dark:bg-zinc-800 dark:text-zinc-300 border-zinc-300 dark:border-zinc-700":"bg-success-100 text-success-700 dark:bg-success-900 dark:text-success-300 border-success-200 dark:border-success-800"}`,children:[o.jsx(At,{className:"w-3 h-3"})," Atual"]})}),o.jsx("h3",{className:"text-xl font-bold mb-1",children:i.name}),o.jsx("p",{className:"text-xs text-zinc-500 min-h-[40px] mb-4",children:i.text}),o.jsx("div",{className:"mb-6",children:e==="monthly"?o.jsxs("div",{className:"text-3xl font-bold text-zinc-900 dark:text-white",children:["R$ ",i.priceMonthly.toFixed(2).replace(".",","),o.jsx("span",{className:"text-sm text-zinc-400 font-normal",children:"/ms"})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"text-3xl font-bold text-zinc-900 dark:text-white",children:["R$ ",(i.priceAnnual/12).toFixed(2).replace(".",","),o.jsx("span",{className:"text-sm text-zinc-400 font-normal",children:"/ms"})]}),i.id!=="free"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-xs text-zinc-400 mt-1 line-through",children:["R$ ",i.priceMonthly.toFixed(2).replace(".",","),"/ms"]}),o.jsxs("div",{className:"inline-block mt-2 bg-success-100 dark:bg-success-900 text-success-700 dark:text-success-300 text-xs font-bold px-2 py-1 rounded",children:["Economize R$ ",(i.priceMonthly*12-i.priceAnnual).toFixed(2).replace(".",","),"/ano"]}),o.jsxs("div",{className:"text-[10px] text-zinc-400 mt-2",children:["Cobrana anual: R$ ",i.priceAnnual.toFixed(2).replace(".",",")]})]})]})}),o.jsxs("ul",{className:"space-y-3 mb-8 flex-1",children:[i.features.map(m=>o.jsxs("li",{className:"flex items-center gap-2 text-xs text-zinc-700 dark:text-zinc-300",children:[o.jsx(At,{className:"w-3.5 h-3.5 text-success-500 flex-shrink-0"})," ",m]},m)),(h=i.missing)==null?void 0:h.map(m=>o.jsxs("li",{className:"flex items-center gap-2 text-xs text-zinc-400 dark:text-zinc-600 line-through",children:[o.jsx(Rt,{className:"w-3.5 h-3.5 flex-shrink-0"})," ",m]},m))]}),o.jsx("button",{onClick:()=>{c||u||i.id!=="free"&&n(i.id,e==="annual")},className:`w-full py-3 rounded-xl font-bold transition-all text-sm ${c?i.id==="free"?"bg-zinc-600 text-white cursor-default shadow-md":"bg-success-600 text-white cursor-default shadow-md shadow-success-500/20":u?"bg-zinc-50 dark:bg-zinc-900 text-zinc-400 cursor-not-allowed border border-zinc-200 dark:border-zinc-800":d?"bg-success-600 text-white hover:bg-success-700 shadow-lg shadow-success-500/30 hover:-translate-y-0.5":"bg-zinc-900 dark:bg-white text-white dark:text-zinc-900 hover:bg-zinc-800 dark:hover:bg-zinc-100 hover:-translate-y-0.5"}`,children:c?"Plano atual":u?"Plano inferior":"Assinar Agora"})]},i.id)})}),s()]}),Iw=({userSettings:e,setUserSettings:t,renderAvatar:r,fileInputRef:n,handleImageUpload:s,isSettingsLoadingCities:i,settingsCityList:a,globalHistory:l,setGlobalHistory:c,crmLeads:u,setCrmLeads:d,showNotification:f})=>o.jsxs("div",{className:"animate-fade-in-up max-w-3xl mx-auto pb-10",children:[o.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-white mb-8",children:"Configuraes"}),o.jsxs("div",{className:"bg-app-cardLight dark:bg-app-cardDark rounded-2xl border border-zinc-200 dark:border-zinc-700 shadow-sm overflow-hidden mb-6",children:[o.jsx("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900/50",children:o.jsxs("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[o.jsx(Yi,{className:"w-5 h-5 text-primary-500"})," Perfil"]})}),o.jsxs("div",{className:"p-6 space-y-6 overflow-visible",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-zinc-500 mb-3",children:"Avatar"}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("div",{className:"relative group p-1",children:[r(e,"lg"),o.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer text-white text-xs font-bold m-1",onClick:()=>{var h;return(h=n.current)==null?void 0:h.click()},children:"Alterar"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>t(h=>({...h,avatarType:"emoji"})),className:`p-2 rounded-lg border ${e.avatarType==="emoji"?"border-primary-500 bg-primary-50 text-primary-600":"border-zinc-200 dark:border-zinc-700 text-zinc-500"}`,children:o.jsx(tv,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>{var h;return(h=n.current)==null?void 0:h.click()},className:`p-2 rounded-lg border ${e.avatarType==="image"?"border-primary-500 bg-primary-50 text-primary-600":"border-zinc-200 dark:border-zinc-700 text-zinc-500"}`,children:o.jsx(Vg,{className:"w-5 h-5"})}),o.jsx("input",{ref:n,type:"file",className:"hidden",accept:"image/*",onChange:s})]})]}),o.jsx("div",{className:"mt-4 h-16 bg-zinc-50/50 dark:bg-zinc-900/30 rounded-xl border border-zinc-100 dark:border-zinc-800 flex items-center px-2 transition-all",children:o.jsx("div",{className:"w-full h-full flex items-center gap-2 overflow-x-auto px-1 scrollbar-thin",children:_w.map(h=>o.jsx("button",{onClick:()=>t(m=>({...m,avatar:h,avatarType:"emoji"})),className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center text-xl hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors ${e.avatar===h&&e.avatarType==="emoji"?"bg-primary-100 ring-2 ring-primary-500":""}`,children:h},h))})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Seu nome"}),o.jsxs("div",{className:"relative",children:[o.jsx(Yi,{className:"absolute left-3 top-3.5 w-4 h-4 text-zinc-400"}),o.jsx("input",{value:e.name,onChange:h=>t(m=>({...m,name:h.target.value})),className:"w-full pl-10 p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Seu e-mail"}),o.jsxs("div",{className:"relative",children:[o.jsx(va,{className:"absolute left-3 top-3.5 w-4 h-4 text-zinc-400"}),o.jsx("input",{readOnly:!0,disabled:!0,value:e.email,className:"w-full pl-10 p-3 bg-zinc-100 dark:bg-zinc-900 text-zinc-500 dark:text-zinc-500 rounded-xl border border-zinc-200 dark:border-zinc-800 cursor-not-allowed focus:outline-none"})]})]})]})]})]}),o.jsxs("div",{className:"bg-app-cardLight dark:bg-app-cardDark rounded-2xl border border-zinc-200 dark:border-zinc-700 shadow-sm overflow-hidden mb-6",children:[o.jsx("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900/50",children:o.jsxs("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[o.jsx(Qi,{className:"w-5 h-5 text-primary-500"})," Preferncias de busca"]})}),o.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Estado padro"}),o.jsxs("select",{value:e.defaultState,onChange:h=>t(m=>({...m,defaultState:h.target.value,defaultCity:""})),className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white",children:[o.jsx("option",{value:"",children:"Selecione..."}),ap.map(h=>o.jsx("option",{value:h.sigla,children:h.nome},h.sigla))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Cidade padro"}),o.jsxs("select",{value:e.defaultCity,onChange:h=>t(m=>({...m,defaultCity:h.target.value})),disabled:!e.defaultState||i,className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white disabled:opacity-50",children:[o.jsx("option",{value:"",children:i?"Carregando...":"Selecione..."}),a.map(h=>o.jsx("option",{value:h,children:h},h))]})]})]})]}),o.jsxs("div",{className:"bg-app-cardLight dark:bg-app-cardDark rounded-2xl border border-zinc-200 dark:border-zinc-700 shadow-sm overflow-hidden mb-6",children:[o.jsx("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900/50",children:o.jsxs("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[o.jsx($f,{className:"w-5 h-5 text-primary-500"})," Metas e CRM"]})}),o.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Meta mensal (R$)"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-3.5 text-zinc-400 font-bold text-xs",children:"R$"}),o.jsx("input",{type:"number",value:e.pipelineGoal,onChange:h=>t(m=>({...m,pipelineGoal:Number(h.target.value)})),className:"w-full pl-9 p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1.5",children:"Dia de fechamento"}),o.jsxs("div",{className:"relative",children:[o.jsx(zg,{className:"absolute left-3 top-3.5 w-4 h-4 text-zinc-400"}),o.jsx("select",{value:e.pipelineResetDay,onChange:h=>t(m=>({...m,pipelineResetDay:Number(h.target.value)})),className:"w-full pl-10 p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white",children:[1,5,10,15,20,25,30].map(h=>o.jsxs("option",{value:h,children:["Dia ",h]},h))})]})]})]})]}),o.jsxs("div",{className:"bg-app-cardLight dark:bg-app-cardDark rounded-2xl border border-zinc-200 dark:border-zinc-700 shadow-sm overflow-hidden mb-6",children:[o.jsx("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900/50",children:o.jsxs("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[o.jsx(Og,{className:"w-5 h-5 text-red-500"})," Gerenciamento de Dados"]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-900/30 rounded-xl border border-zinc-100 dark:border-zinc-800",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm text-zinc-900 dark:text-white",children:"Histrico de Busca"}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Limpa a memria de empresas j visitadas pela IA."})]}),o.jsxs("button",{onClick:()=>{window.confirm("Tem certeza? Isso far com que empresas j vistas possam aparecer novamente.")&&(c([]),f("Histrico limpo com sucesso!"))},disabled:l.length===0,className:"px-4 py-2 text-xs font-bold bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg hover:text-red-500 hover:border-red-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Limpar (",l.length,")"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-900/30 rounded-xl border border-zinc-100 dark:border-zinc-800",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm text-zinc-900 dark:text-white",children:"Resetar CRM"}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Apaga todos os leads e recomea do zero."})]}),o.jsxs("button",{onClick:()=>{window.confirm("ATENO: Isso apagar TODOS os seus leads do CRM. Esta ao no pode ser desfeita.")&&(d([]),f("CRM resetado com sucesso!"))},disabled:u.length===0,className:"px-4 py-2 text-xs font-bold bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Apagar Tudo (",u.length,")"]})]})]})]}),o.jsxs("div",{className:"bg-app-cardLight dark:bg-app-cardDark rounded-2xl border border-zinc-200 dark:border-zinc-700 shadow-sm overflow-hidden mb-6",children:[o.jsx("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900/50",children:o.jsxs("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[o.jsx(Gg,{className:"w-5 h-5 text-primary-500"})," Suporte"]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 p-4 bg-blue-50 dark:bg-blue-900/10 rounded-xl border border-blue-100 dark:border-blue-900/30",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm text-zinc-900 dark:text-white",children:"Precisa de ajuda?"}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Entre em contato para suporte, dvidas ou feedback."})]}),o.jsx("a",{href:"mailto:suporte@agenciabenck.com",className:"px-4 py-2 text-xs font-bold bg-white dark:bg-zinc-800 border border-blue-200 dark:border-blue-800 rounded-lg text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors shadow-sm",children:"suporte@agenciabenck.com"})]})})]}),o.jsx("div",{className:"mt-6 flex justify-end",children:o.jsxs("button",{onClick:()=>f("Configuraes salvas com sucesso!"),className:"bg-success-600 hover:bg-success-700 text-white px-8 py-3 rounded-xl font-bold shadow-lg shadow-success-500/20 transition-all active:scale-95 flex items-center gap-2",children:[o.jsx(At,{className:"w-5 h-5"})," Salvar tudo"]})})]}),Pw=e=>{let t=e.replace(/\D/g,"");return((parseInt(t)||0)/100).toLocaleString("pt-BR",{minimumFractionDigits:2})},Lw=e=>{let t=e.replace(/\D/g,"");return t.length>11&&(t=t.slice(0,11)),t.length>10?`(${t.slice(0,2)}) ${t.slice(2,7)}-${t.slice(7)}`:t.length>6?`(${t.slice(0,2)}) ${t.slice(2,6)}-${t.slice(6)}`:t.length>2?`(${t.slice(0,2)}) ${t.slice(2)}`:t},$w=()=>{const[e,t]=z.useState(null),[r,n]=z.useState(!0),[s,i]=z.useState("home"),[a,l]=z.useState("light"),[c,u]=z.useState(!0),[d,f]=z.useState(()=>{const C=localStorage.getItem("beleads_settings");return C?JSON.parse(C):{name:"Usurio",email:"",avatar:"",avatarType:"emoji",defaultState:"SP",pipelineGoal:5e3,pipelineResetDay:1,plan:"free",hideSheetsModal:!1,notifications:{email:!0,browser:!0,weeklyReport:!0}}}),[h,m]=z.useState(""),[y,x]=z.useState([]),[w,g]=z.useState({isSearching:!1,error:null,hasSearched:!1}),[p,v]=z.useState({maxResults:10,minRating:0,requirePhone:!0}),[b,j]=z.useState("free"),[k,_]=z.useState(0),[E,D]=z.useState(()=>{const C=localStorage.getItem("beleads_history");return C?JSON.parse(C):[]}),[P,K]=z.useState(""),[ue,se]=z.useState(""),[Qe,fr]=z.useState(""),[it,yt]=z.useState(""),[T,L]=z.useState(""),[F,G]=z.useState([]),[J,Ye]=z.useState(!1),[ee,Te]=z.useState(()=>{const C=localStorage.getItem("beleads_crm");return C?JSON.parse(C):[]}),[Se,Xe]=z.useState(""),[S,V]=z.useState(!1),[Re,Fe]=z.useState(""),[pr,B]=z.useState(""),[Q,Ps]=z.useState(()=>{const C=localStorage.getItem("beleads_calendar");return C?JSON.parse(C):[]}),[cp,Ls]=z.useState(!1),[_a,up]=z.useState(null),[xt,$s]=z.useState({title:"",description:"",time:"09:00"}),[dp,hp]=z.useState(new Date),[pc,mc]=z.useState(!1),[fp,Uw]=z.useState("Bora prospectar e fechar novos negcios hoje?"),[pp,mp]=z.useState("monthly"),[gp,Sa]=z.useState(!1),[Fw,Bw]=z.useState(!1),vp=z.useRef(null);z.useEffect(()=>{ar.auth.getSession().then(({data:{session:R}})=>{t((R==null?void 0:R.user)??null),R!=null&&R.user&&f($=>({...$,email:R.user.email??""})),n(!1)});const{data:{subscription:C}}=ar.auth.onAuthStateChange((R,$)=>{t(($==null?void 0:$.user)??null),$!=null&&$.user&&f(Y=>({...Y,email:$.user.email??""}))});return()=>C.unsubscribe()},[]),z.useEffect(()=>{localStorage.setItem("beleads_settings",JSON.stringify(d)),document.documentElement.classList.toggle("dark",a==="dark")},[d,a]),z.useEffect(()=>localStorage.setItem("beleads_crm",JSON.stringify(ee)),[ee]),z.useEffect(()=>localStorage.setItem("beleads_calendar",JSON.stringify(Q)),[Q]),z.useEffect(()=>localStorage.setItem("beleads_history",JSON.stringify(E)),[E]),z.useEffect(()=>{if(!ue){G([]);return}Ye(!0),fetch(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${ue}/municipios`).then(C=>C.json()).then(C=>{G(C.map(R=>R.nome).sort()),Ye(!1)}).catch(()=>Ye(!1))},[ue]),z.useEffect(()=>{let C;return w.isSearching&&(C=setInterval(()=>{_(R=>(R+1)%op.length)},3e3)),()=>clearInterval(C)},[w.isSearching]);const ja=jw[d.plan],Ea=y.length+ee.length/10,gc=Math.min(Ea/ja*100,100),vc={name:d.plan},Ds=Ht[d.plan]>=Ht.pro,Na=Ht[d.plan]>=Ht.start,yp=Ht[d.plan]>=Ht.start,xp=z.useMemo(()=>{if(!Se)return ee;const C=Se.toLowerCase();return ee.filter(R=>R.name.toLowerCase().includes(C)||R.category.toLowerCase().includes(C)||R.phone&&R.phone.includes(C))},[ee,Se]),wp=z.useMemo(()=>ee.filter(C=>C.status==="won").reduce((C,R)=>C+(R.potentialValue||0),0),[ee]),bp=z.useMemo(()=>{const C=new Date;return C.setHours(0,0,0,0),Q.filter(R=>new Date(R.date+"T00:00:00")>=C).sort((R,$)=>R.date.localeCompare($.date)||(R.time||"").localeCompare($.time||"")).slice(0,3)},[Q]),kp=new Date().toISOString().split("T")[0],_p=new Date(Date.now()+864e5).toISOString().split("T")[0],[$r,Sp]=z.useState(Yt.NAME),[Ms,Vw]=z.useState(Zn.ASC),jp=z.useMemo(()=>[...y].sort((C,R)=>{let $=C[$r]||"",Y=R[$r]||"";return($r===Yt.RATING||$r===Yt.REVIEWS)&&($=Number($)||0,Y=Number(Y)||0),$<Y?Ms===Zn.ASC?-1:1:$>Y?Ms===Zn.ASC?1:-1:0}),[y,$r,Ms]),jt=(C,R="success")=>{alert(`${R.toUpperCase()}: ${C}`)},Ep=async()=>{await ar.auth.signOut(),t(null)},yc=async C=>{C&&C.preventDefault();let R=h;if(b==="guided"){if(!P||!ue||!Qe){jt("Preencha nicho, estado e cidade!","error");return}R=`${P} em ${Qe}, ${ue}`,it&&(R+=`, bairro ${it}`),T&&(R+=` -${T}`)}if(R.trim()){g({isSearching:!0,error:null,hasSearched:!0});try{const Y=(await gw(R,p,void 0,E)).filter(at=>!E.includes(at.id));x(Y),Y.length===0&&jt("Nenhum lead novo encontrado.","info")}catch($){g(Y=>({...Y,error:$.message}))}finally{g($=>({...$,isSearching:!1}))}}},[Np,xc]=z.useState(!1),[Cp,zp]=z.useState(10),Tp=async()=>{xc(!0),await yc(),xc(!1)},Rp=C=>{if(!Ds){i("subscription");return}if(ee.some($=>$.id===C.id)){jt("Lead j est no CRM!","info");return}const R={...C,status:"prospecting",priority:"medium",tags:[],addedAt:new Date().toISOString(),updatedAt:new Date().toISOString(),potentialValue:0};Te($=>[R,...$]),D($=>[...$,C.id]),jt("Lead adicionado ao CRM!")},Op=(C,R)=>{Te($=>$.map(Y=>Y.id===C?{...Y,status:R,updatedAt:new Date().toISOString()}:Y))},Ap=(C,R)=>{Te($=>$.map(Y=>Y.id===C?{...Y,...R}:Y))},Ip=C=>{const R={...C,id:`copy-${Date.now()}`,name:`${C.name} (Cpia)`,addedAt:new Date().toISOString()};Te($=>[R,...$])},Pp=C=>{C.preventDefault();const R=new FormData(C.currentTarget),$=R.get("name");if(!$)return;const Y=Re.replace(/\D/g,""),at=(parseInt(Y)||0)/100,ot={id:`manual-${Date.now()}`,name:$,category:"Manual",address:R.get("city")?`${R.get("city")}, ${R.get("uf")}`:"Manual",phone:pr,website:"",rating:0,reviews:0,status:"prospecting",priority:"medium",tags:["Manual"],addedAt:new Date().toISOString(),updatedAt:new Date().toISOString(),potentialValue:at,notes:R.get("notes")};Te(Gp=>[ot,...Gp]),V(!1),Fe(""),B(""),jt("Novo negcio adicionado!")},Lp=C=>{if(C.preventDefault(),!_a||!xt.title)return;const R={id:Math.random().toString(36).substr(2,9),date:_a.toISOString().split("T")[0],time:xt.time,title:xt.title,description:xt.description,type:"meeting"};Ps($=>[...$,R]),Ls(!1),$s({title:"",description:"",time:"09:00"}),jt("Compromisso agendado!")},$p=async(C,R)=>{try{const $=R?vd[C].replace("monthly","annual"):vd[C];jt(`Iniciando checkout para ${C}...`,"info"),await Mx($,R)}catch($){jt($.message,"error")}},Dp=()=>{if(!Na){i("subscription");return}const C=["Nome","Categoria","Telefone","Endereo","Rating","Reviews","Website"],R=y.map(ot=>[ot.name,ot.category,ot.phone,ot.address,ot.rating,ot.reviews,ot.website]),$="data:text/csv;charset=utf-8,"+[C,...R].map(ot=>ot.join(",")).join(`
`),Y=encodeURI($),at=document.createElement("a");at.setAttribute("href",Y),at.setAttribute("download",`beleads_export_${Date.now()}.csv`),document.body.appendChild(at),at.click(),document.body.removeChild(at)},Mp=()=>{if(!Na){i("subscription");return}const C=y.map(R=>`${R.name}	${R.category}	${R.phone}	${R.address}	${R.rating}`).join(`
`);navigator.clipboard.writeText(C),d.hideSheetsModal?window.open("https://sheets.new","_blank"):Sa(!0)},Up=()=>{Sa(!1),window.open("https://sheets.new","_blank")},Fp=C=>{var $;const R=($=C.target.files)==null?void 0:$[0];if(R){const Y=new FileReader;Y.onloadend=()=>{f(at=>({...at,avatarImage:Y.result,avatarType:"image"}))},Y.readAsDataURL(R)}},Bp=C=>new Date(C.getFullYear(),C.getMonth()+1,0).getDate(),Vp=C=>new Date(C.getFullYear(),C.getMonth(),1).getDay(),qp=C=>{up(C),Ls(!0)},Ca=(C,R="md")=>{const $={sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-lg",lg:"w-20 h-20 text-4xl"};return C.avatarType==="image"&&C.avatarImage?o.jsx("img",{src:C.avatarImage,alt:"Avatar",className:`${$[R]} rounded-full object-cover shadow-sm bg-zinc-200 dark:bg-zinc-800`}):o.jsx("div",{className:`${$[R]} rounded-full flex items-center justify-center bg-zinc-100 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 shadow-sm`,children:C.avatar})},Hp=()=>null;return r?o.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-slate-950 via-slate-900 to-slate-800 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ji,{className:"w-12 h-12 text-primary-500 animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-zinc-400 text-sm",children:"Carregando..."})]})}):e?o.jsxs("div",{className:"h-screen w-full bg-app-light dark:bg-app-dark flex font-sans transition-colors duration-300 overflow-hidden",children:[o.jsx(yw,{isSidebarOpen:c,activeTab:s,setActiveTab:i,PLAN:vc,USED_CREDITS:Ea,MAX_CREDITS:ja,PLAN_PERCENTAGE:gc,userSettings:d,setTheme:l,theme:a,handleLogout:Ep,renderAvatar:Ca}),o.jsxs("main",{className:"flex-1 h-full overflow-y-auto relative flex flex-col p-4 md:p-8 pt-6 md:pt-10 scrollbar-thin",children:[o.jsx(xw,{setIsSidebarOpen:u,isSidebarOpen:c}),s==="home"&&o.jsx(ww,{userSettings:d,dailyQuote:fp,renderAvatar:Ca,PLAN:vc,USED_CREDITS:Ea,MAX_CREDITS:ja,PLAN_PERCENTAGE:gc,setActiveTab:i,monthlyRevenue:wp,hasCRMAccess:Ds,crmLeads:ee,currentCalendarDate:dp,setCurrentCalendarDate:hp,getFirstDayOfMonth:Vp,getDaysInMonth:Bp,openAddEventModal:qp,calendarEvents:Q,selectedDateEvents:_a,todayStr:kp,upcomingEvents:bp,tomorrowStr:_p,setCalendarEvents:Ps}),s==="search"&&o.jsx(Nw,{leads:y,setLeads:x,state:w,setState:g,filters:p,setFilters:v,handleSearch:yc,loadingMessageIndex:k,locationPermission:"prompt",requestLocation:()=>{},setLocationPermission:()=>{},searchMode:b,setSearchMode:j,query:h,setQuery:m,selectedNiche:P,setSelectedNiche:K,selectedState:ue,setSelectedState:se,selectedCity:Qe,setSelectedCity:fr,isLoadingCities:J,cityList:F,selectedNeighborhood:it,setSelectedNeighborhood:yt,excludedCity:T,setExcludedCity:L,globalHistory:E,setGlobalHistory:D,sortedLeads:jp,sortField:$r,sortOrder:Ms,setSortField:Sp,handleExportCSV:Dp,handleExportGoogleSheets:Mp,hasExportAccess:Na,handleAddToCRM:Rp,crmLeads:ee,hasCRMAccess:Ds,hasWhatsAppAccess:yp,loadMoreQuantity:Cp,setLoadMoreQuantity:zp,handleLoadMore:Tp,isLoadingMore:Np}),s==="crm"&&o.jsx(Ow,{hasCRMAccess:Ds,setActiveTab:i,crmSearchQuery:Se,setCrmSearchQuery:Xe,setShowNewLeadModal:V,crmLeads:ee,filteredCrmLeads:xp,handleCRMStatusChange:Op,handleUpdateLead:Ap,handleDuplicateLead:Ip,pipelineGoal:d.pipelineGoal,setPipelineGoal:C=>f(R=>({...R,pipelineGoal:C})),pipelineResetDay:d.pipelineResetDay,setCrmLeads:Te}),s==="subscription"&&o.jsx(Aw,{billingCycle:pp,setBillingCycle:mp,userSettings:d,handleCheckout:$p,renderSubscriptionMessage:Hp}),s==="settings"&&o.jsx(Iw,{userSettings:d,setUserSettings:f,renderAvatar:Ca,fileInputRef:vp,handleImageUpload:Fp,isSettingsLoadingCities:J,settingsCityList:F,globalHistory:E,setGlobalHistory:D,crmLeads:ee,setCrmLeads:Te,showNotification:jt})]}),cp&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white dark:bg-zinc-900 w-full max-w-md rounded-2xl shadow-2xl border border-zinc-200 dark:border-zinc-800 animate-fade-in-up overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-zinc-100 dark:border-zinc-800 flex justify-between items-center bg-zinc-50/50 dark:bg-zinc-900/50",children:[o.jsxs("h3",{className:"font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[o.jsx(nl,{className:"w-5 h-5 text-primary-500"})," Novo Compromisso"]}),o.jsx("button",{onClick:()=>Ls(!1),className:"p-1 hover:bg-zinc-200 dark:hover:bg-zinc-800 rounded-lg transition-colors",children:o.jsx(Rt,{className:"w-5 h-5 text-zinc-500"})})]}),o.jsxs("form",{onSubmit:Lp,className:"p-6 space-y-4",children:[o.jsx("input",{autoFocus:!0,required:!0,value:xt.title,onChange:C=>$s({...xt,title:C.target.value}),className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white",placeholder:"Ttulo"}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{type:"button",onClick:()=>mc(!pc),className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 text-left flex justify-between items-center text-zinc-900 dark:text-white",children:o.jsx("span",{children:xt.time||"09:00"})}),pc&&o.jsx("div",{className:"absolute top-full left-0 w-full mt-2 bg-white dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 shadow-xl max-h-48 overflow-y-auto z-20",children:kw.map(C=>o.jsx("button",{type:"button",onClick:()=>{$s({...xt,time:C}),mc(!1)},className:"w-full text-left px-4 py-2 hover:bg-zinc-100 dark:hover:bg-zinc-700 text-sm text-zinc-700 dark:text-zinc-200",children:C},C))})]}),o.jsx("textarea",{value:xt.description,onChange:C=>$s({...xt,description:C.target.value}),className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white h-24",placeholder:"Descrio"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:()=>Ls(!1),className:"flex-1 py-3 text-zinc-600 dark:text-zinc-400 font-bold hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-xl",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 py-3 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-xl shadow-lg shadow-primary-500/20",children:"Agendar"})]})]})]})}),S&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white dark:bg-zinc-900 w-full max-w-lg rounded-2xl shadow-2xl border border-zinc-200 dark:border-zinc-800 animate-fade-in-up flex flex-col max-h-[90vh]",children:[o.jsxs("div",{className:"p-6 border-b border-zinc-100 dark:border-zinc-800 flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-zinc-900 dark:text-white",children:"Novo Negcio"}),o.jsx("button",{onClick:()=>V(!1),className:"p-2 hover:bg-zinc-200 dark:hover:bg-zinc-800 rounded-full",children:o.jsx(Rt,{className:"w-5 h-5 text-zinc-500"})})]}),o.jsxs("form",{id:"manual-lead-form",onSubmit:Pp,className:"p-6 space-y-5 overflow-y-auto",children:[o.jsx("input",{name:"name",required:!0,className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white",placeholder:"Nome da Empresa"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("input",{value:Re,onChange:C=>Fe(Pw(C.target.value)),className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white",placeholder:"Valor Potencial (R$)"}),o.jsx("input",{value:pr,maxLength:15,onChange:C=>B(Lw(C.target.value)),className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white",placeholder:"Telefone"})]}),o.jsx("textarea",{name:"notes",rows:4,className:"w-full p-3 bg-zinc-50 dark:bg-zinc-800 rounded-xl border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-primary-500 dark:text-white",placeholder:"Notas"})]}),o.jsxs("div",{className:"p-6 border-t border-zinc-100 dark:border-zinc-800 flex justify-between items-center",children:[o.jsx("button",{type:"button",onClick:()=>V(!1),className:"px-6 py-2.5 text-zinc-600 dark:text-zinc-300 font-bold hover:bg-zinc-200 dark:hover:bg-zinc-800 rounded-xl",children:"Cancelar"}),o.jsx("button",{type:"submit",form:"manual-lead-form",className:"px-6 py-2.5 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-xl shadow-lg",children:"Adicionar"})]})]})}),gp&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white dark:bg-zinc-900 w-full max-w-md rounded-2xl shadow-2xl border border-zinc-200 dark:border-zinc-800 p-6 text-center",children:[o.jsx(Ki,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-zinc-900 dark:text-white mb-2",children:"Dados copiados!"}),o.jsx("p",{className:"text-sm text-zinc-500 mb-6",children:"Cole no Google Sheets usando Ctrl+V."}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>Sa(!1),className:"flex-1 py-3 text-zinc-600 dark:text-zinc-400 font-bold hover:bg-zinc-100 rounded-xl",children:"Fechar"}),o.jsxs("button",{onClick:Up,className:"flex-1 py-3 bg-green-600 hover:bg-green-700 text-white font-bold rounded-xl shadow-lg flex items-center justify-center gap-2",children:[o.jsx(If,{className:"w-4 h-4"})," Abrir Sheets"]})]})]})})]}):o.jsx(vw,{onAuthSuccess:()=>{}})};class Dw extends z.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){var t,r,n;return this.state.hasError?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-zinc-900 text-white p-8",children:o.jsxs("div",{className:"max-w-2xl w-full bg-zinc-800 rounded-xl p-8 border border-red-500/20 shadow-2xl",children:[o.jsx("h1",{className:"text-3xl font-bold text-red-500 mb-4",children:"Algo deu errado..."}),o.jsx("p",{className:"text-zinc-300 mb-6",children:"A aplicao encontrou um erro crtico e no pde ser carregada."}),o.jsxs("div",{className:"bg-black/50 rounded-lg p-4 font-mono text-sm overflow-auto max-h-64 mb-6 border border-zinc-700",children:[o.jsxs("div",{className:"text-red-400 font-bold mb-2",children:[(t=this.state.error)==null?void 0:t.name,": ",(r=this.state.error)==null?void 0:r.message]}),o.jsx("div",{className:"text-zinc-500 whitespace-pre-wrap",children:(n=this.state.error)==null?void 0:n.stack})]}),o.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},className:"bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg transition-colors w-full",children:"Limpar Cache e Tentar Novamente"}),o.jsx("p",{className:"text-center text-xs text-zinc-500 mt-4",children:"Isso limpar o LocalStorage, que frequentemente  a causa de erros."})]})}):this.props.children}}const lp=document.getElementById("root");if(!lp)throw new Error("Could not find root element to mount to");const Mw=lo.createRoot(lp);Mw.render(o.jsx(c0.StrictMode,{children:o.jsx(Dw,{children:o.jsx($w,{})})}));
